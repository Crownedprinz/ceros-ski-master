!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=10)}([function(t,e,n){"use strict";var r=n(2),i=n.n(r),o=n(3),s=n.n(o)()(i.a);s.push([t.i,"html, body {\n    margin: 0;\n    padding: 0;\n}","",{version:3,sources:["webpack://./public/css/game.css"],names:[],mappings:"AAAA;IACI,SAAS;IACT,UAAU;AACd",sourcesContent:["html, body {\n    margin: 0;\n    padding: 0;\n}"],sourceRoot:""}]),e.a=s},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],c=e.base?o[0]+e.base:o[0],u=n[c]||0,f="".concat(c," ").concat(u);n[c]=u+1;var h=a(f),l={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(s[h].references++,s[h].updater(l)):s.push({identifier:f,updater:v(l,e),references:1}),r.push(f)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var f,h=(f=[],function(t,e){return f[t]=e,f.filter(Boolean).join("\n")});function l(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=h(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function p(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,y=0;function v(t,e){var n,r,i;if(e.singleton){var o=y++;n=d||(d=u(e)),r=l.bind(null,n,o,!1),i=l.bind(null,n,o,!0)}else n=u(e),r=p.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);s[i].references--}for(var o=c(t,e),u=0;u<n.length;u++){var f=a(n[u]);0===s[f].references&&(s[f].updater(),s.splice(f,1))}n=o}}}},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var e=r(t,4),n=e[1],i=e[3];if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),a="/*# ".concat(s," */"),c=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(c).concat([a]).join("\n")}return[n].join("\n")}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},,,,function(t,e,n){(function(t,e){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(r){var i="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=s(n);function s(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===i.Reflect?i.Reflect=n:o=s(i.Reflect,o),function(e){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,a={__proto__:[]}instanceof Array,c=!s&&!a,u={create:s?function(){return D(Object.create(null))}:a?function(){return D({__proto__:null})}:function(){return D({})},has:c?function(t,e){return n.call(t,e)}:function(t,e){return e in t},get:c?function(t,e){return n.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},f=Object.getPrototypeOf(Function),h="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,i)},e.prototype.entries=function(){return new n(this._keys,this._values,s)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function i(t,e){return e}function s(t,e){return[t,e]}}():Map,p=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new l}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}():Set,d=new(h||"function"!=typeof WeakMap?function(){var t=u.create(),e=r();return function(){function t(){this._key=r()}return t.prototype.has=function(t){var e=i(t,!1);return void 0!==e&&u.has(e,this._key)},t.prototype.get=function(t){var e=i(t,!1);return void 0!==e?u.get(e,this._key):void 0},t.prototype.set=function(t,e){return i(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=i(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=r()},t}();function r(){var e;do{e="@@WeakMap@@"+s()}while(u.has(t,e));return t[e]=!0,e}function i(t,r){if(!n.call(t,e)){if(!r)return;Object.defineProperty(t,e,{value:u.create()})}return t[e]}function o(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(){var t,e=(t=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):o(new Uint8Array(t),t):o(new Array(t),t));e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<16;++r){var i=e[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function y(t,e,n){var r=d.get(t);if(_(r)){if(!n)return;r=new l,d.set(t,r)}var i=r.get(e);if(_(i)){if(!n)return;i=new l,r.set(e,i)}return i}function v(t,e,n){var r=y(e,n,!1);return!_(r)&&!!r.has(t)}function m(t,e,n){var r=y(e,n,!1);if(!_(r))return r.get(t)}function g(t,e,n,r){y(n,r,!0).set(t,e)}function b(t,e){var n=[],r=y(t,e,!1);if(_(r))return n;for(var i=function(t){var e=P(t,o);if(!j(e))throw new TypeError;var n=e.call(t);if(!O(n))throw new TypeError;return n}(r.keys()),s=0;;){var a=E(i);if(!a)return n.length=s,n;var c=a.value;try{n[s]=c}catch(t){try{T(i)}finally{throw t}}s++}}function w(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function _(t){return void 0===t}function k(t){return null===t}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function x(t,e){switch(w(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=P(t,i);if(void 0!==r){var o=r.call(t,n);if(O(o))throw new TypeError;return o}return function(t,e){if("string"===e){var n=t.toString;if(j(n))if(!O(i=n.call(t)))return i;if(j(r=t.valueOf))if(!O(i=r.call(t)))return i}else{var r;if(j(r=t.valueOf))if(!O(i=r.call(t)))return i;var i,o=t.toString;if(j(o))if(!O(i=o.call(t)))return i}throw new TypeError}(t,"default"===n?"number":n)}function S(t){var e=x(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function R(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function j(t){return"function"==typeof t}function A(t){return"function"==typeof t}function P(t,e){var n=t[e];if(null!=n){if(!j(n))throw new TypeError;return n}}function E(t){var e=t.next();return!e.done&&e}function T(t){var e=t.return;e&&e.call(t)}function I(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===f)return e;if(e!==f)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var i=r.constructor;return"function"!=typeof i||i===t?e:i}function D(t){return t.__=void 0,delete t.__,t}e("decorate",(function(t,e,n,r){if(_(n)){if(!R(t))throw new TypeError;if(!A(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!_(r)&&!k(r)){if(!A(r))throw new TypeError;e=r}}return e}(t,e)}if(!R(t))throw new TypeError;if(!O(e))throw new TypeError;if(!O(r)&&!_(r)&&!k(r))throw new TypeError;return k(r)&&(r=void 0),function(t,e,n,r){for(var i=t.length-1;i>=0;--i){var o=(0,t[i])(e,n,r);if(!_(o)&&!k(o)){if(!O(o))throw new TypeError;r=o}}return r}(t,e,n=S(n),r)})),e("metadata",(function(t,e){return function(n,r){if(!O(n))throw new TypeError;if(!_(r)&&!function(t){switch(w(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;g(t,e,n,r)}})),e("defineMetadata",(function(t,e,n,r){if(!O(n))throw new TypeError;return _(r)||(r=S(r)),g(t,e,n,r)})),e("hasMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return _(n)||(n=S(n)),function t(e,n,r){if(v(e,n,r))return!0;var i=I(n);return!k(i)&&t(e,i,r)}(t,e,n)})),e("hasOwnMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return _(n)||(n=S(n)),v(t,e,n)})),e("getMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return _(n)||(n=S(n)),function t(e,n,r){if(v(e,n,r))return m(e,n,r);var i=I(n);return k(i)?void 0:t(e,i,r)}(t,e,n)})),e("getOwnMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return _(n)||(n=S(n)),m(t,e,n)})),e("getMetadataKeys",(function(t,e){if(!O(t))throw new TypeError;return _(e)||(e=S(e)),function t(e,n){var r=b(e,n),i=I(e);if(null===i)return r;var o=t(i,n);if(o.length<=0)return r;if(r.length<=0)return o;for(var s=new p,a=[],c=0,u=r;c<u.length;c++){var f=u[c];s.has(f)||(s.add(f),a.push(f))}for(var h=0,l=o;h<l.length;h++){f=l[h];s.has(f)||(s.add(f),a.push(f))}return a}(t,e)})),e("getOwnMetadataKeys",(function(t,e){if(!O(t))throw new TypeError;return _(e)||(e=S(e)),b(t,e)})),e("deleteMetadata",(function(t,e,n){if(!O(e))throw new TypeError;_(n)||(n=S(n));var r=y(e,n,!1);if(_(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var i=d.get(e);return i.delete(n),i.size>0||d.delete(e),!0}))}(o)}()}(n||(n={}))}).call(this,n(8),n(9))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],f=!1,h=-1;function l(){f&&c&&(f=!1,c.length?u=c.concat(u):h=-1,u.length&&p())}function p(){if(!f){var t=a(l);f=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||f||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var r,i=n(1),o=n.n(i),s=n(0),a={insert:"head",singleton:!1},c=(o()(s.a,a),s.a.locals,n(7),function(t){this.name=t}),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(e){var n,r=t.call(this)||this;return r.name="ServiceNotFoundError",r.normalizedIdentifier="<UNKNOWN_IDENTIFIER>","string"==typeof e?r.normalizedIdentifier=e:e instanceof c?r.normalizedIdentifier="Token<"+(e.name||"UNSET_NAME")+">":e&&(e.name||(null===(n=e.prototype)||void 0===n?void 0:n.name))&&(r.normalizedIdentifier="MaybeConstructable<"+e.name+">"||!1),r}return u(e,t),Object.defineProperty(e.prototype,"message",{get:function(){return'Service with "'+this.normalizedIdentifier+'" identifier was not found in the container. Register it before usage via explicitly calling the "Container.set" function or using the "@Service()" decorator.'},enumerable:!1,configurable:!0}),e}(Error),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n,r=t.call(this)||this;return r.name="CannotInstantiateValueError",r.normalizedIdentifier="<UNKNOWN_IDENTIFIER>","string"==typeof e?r.normalizedIdentifier=e:e instanceof c?r.normalizedIdentifier="Token<"+(e.name||"UNSET_NAME")+">":e&&(e.name||(null===(n=e.prototype)||void 0===n?void 0:n.name))&&(r.normalizedIdentifier="MaybeConstructable<"+e.name+">"||!1),r}return h(e,t),Object.defineProperty(e.prototype,"message",{get:function(){return'Cannot instantiate the requested value for the "'+this.normalizedIdentifier+"\" identifier. The related metadata doesn't contain a factory or a type to instantiate."},enumerable:!1,configurable:!0}),e}(Error),p=Symbol("EMPTY_VALUE"),d=function(){return(d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},y=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},v=function(){function t(t){this.services=[],this.id=t}return t.prototype.has=function(t){return!!this.findService(t)},t.prototype.get=function(t){var e=m.of(void 0),n=e.findService(t),r=this.findService(t);if(n&&!0===n.global)return this.getServiceValue(n);if(r)return this.getServiceValue(r);if(n&&this!==e){var i=d({},n);i.value=p,this.set(i);var o=this.getServiceValue(i);return this.set(d(d({},i),{value:o})),o}if(n)return this.getServiceValue(n);throw new f(t)},t.prototype.getMany=function(t){var e=this;return this.findAllServices(t).map((function(t){return e.getServiceValue(t)}))},t.prototype.set=function(t,e){var n=this;if(t instanceof Array)return t.forEach((function(t){return n.set(t)})),this;if("string"==typeof t||t instanceof c)return this.set({id:t,type:null,value:e,factory:void 0,global:!1,multiple:!1,eager:!1,transient:!1});if("function"==typeof t)return this.set({id:t,type:t,value:e,factory:void 0,global:!1,multiple:!1,eager:!1,transient:!1});var r=d({id:new c("UNREACHABLE"),type:null,factory:void 0,value:p,global:!1,multiple:!1,eager:!1,transient:!1},t),i=this.findService(r.id);return i&&!0!==i.multiple?Object.assign(i,r):this.services.push(r),r.eager&&this.get(r.id),this},t.prototype.remove=function(t){var e=this;return Array.isArray(t)?t.forEach((function(t){return e.remove(t)})):this.services=this.services.filter((function(n){return n.id!==t||(e.destroyServiceInstance(n),!1)})),this},t.prototype.reset=function(t){var e=this;switch(void 0===t&&(t={strategy:"resetValue"}),t.strategy){case"resetValue":this.services.forEach((function(t){return e.destroyServiceInstance(t)}));break;case"resetServices":this.services.forEach((function(t){return e.destroyServiceInstance(t)})),this.services=[];break;default:throw new Error("Received invalid reset strategy.")}return this},t.prototype.findAllServices=function(t){return this.services.filter((function(e){return e.id===t}))},t.prototype.findService=function(t){return this.services.find((function(e){return e.id===t}))},t.prototype.getServiceValue=function(t){var e,n=p;if(t.value!==p)return t.value;if(!t.factory&&!t.type)throw new l(t.id);if(t.factory)if(t.factory instanceof Array){var r=void 0;try{r=this.get(t.factory[0])}catch(e){if(!(e instanceof f))throw e;r=new t.factory[0]}n=r[t.factory[1]](this,t.id)}else n=t.factory(this,t.id);if(!t.factory&&t.type){var i=t.type,o=(null===(e=Reflect)||void 0===e?void 0:e.getMetadata("design:paramtypes",i))||[],s=this.initializeParams(i,o);s.push(this),n=new(i.bind.apply(i,y([void 0],s)))}if(t.transient||n===p||(t.value=n),n===p)throw new l(t.id);return t.type&&this.applyPropertyHandlers(t.type,n),n},t.prototype.initializeParams=function(t,e){var n=this;return e.map((function(e,r){var i=m.handlers.find((function(e){return(e.object===t||e.object===Object.getPrototypeOf(t))&&e.index===r}));return i?i.value(n):e&&e.name&&!n.isPrimitiveParamType(e.name)?n.get(e):void 0}))},t.prototype.isPrimitiveParamType=function(t){return["string","boolean","number","object"].includes(t.toLowerCase())},t.prototype.applyPropertyHandlers=function(t,e){var n=this;m.handlers.forEach((function(r){"number"!=typeof r.index&&(r.object.constructor===t||t.prototype instanceof r.object.constructor)&&r.propertyName&&(e[r.propertyName]=r.value(n))}))},t.prototype.destroyServiceInstance=function(t,e){if(void 0===e&&(e=!1),e||!!t.type||!!t.factory){if("function"==typeof(null==t?void 0:t.value).destroy)try{t.value.destroy()}catch(t){}t.value=p}},t}(),m=function(){function t(){}return t.of=function(t){if(void 0===t&&(t="default"),"default"===t)return this.globalInstance;var e=this.instances.find((function(e){return e.id===t}));return e||(e=new v(t),this.instances.push(e)),e},t.has=function(t){return this.globalInstance.has(t)},t.get=function(t){return this.globalInstance.get(t)},t.getMany=function(t){return this.globalInstance.getMany(t)},t.set=function(t,e){return this.globalInstance.set(t,e),this},t.remove=function(t){return this.globalInstance.remove(t),this},t.reset=function(t){if(void 0===t&&(t="default"),"default"==t)this.globalInstance.reset(),this.instances.forEach((function(t){return t.reset()}));else{var e=this.instances.find((function(e){return e.id===t}));e&&(e.reset(),this.instances.splice(this.instances.indexOf(e),1))}return this},t.registerHandler=function(t){return this.handlers.push(t),this},t.import=function(t){return this},t.handlers=[],t.globalInstance=new v("default"),t.instances=[],t}(),g=m;function b(t){return function(e){var n={id:e,type:e,factory:void 0,multiple:!1,global:!1,eager:!1,transient:!1,value:p};t instanceof c||"string"==typeof t?n.id=t:t&&(n.id=t.id||e,n.factory=t.factory||void 0,n.multiple=t.multiple||!1,n.global=t.global||!1,n.eager=t.eager||!1,n.transient=t.transient||!1),m.set(n)}}var w=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},_=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},k=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};let O=class{constructor(){this.loadedAssets=[]}loadAssets(t){return k(this,void 0,void 0,(function*(){const e=[];for(const[n,r]of Object.entries(t)){const t=this.loadSingleAsset(r,n);e.push(t)}yield Promise.all(e)}))}loadSingleAsset(t,e){return new Promise(n=>{const r=new Image;r.onload=()=>{r.width/=2,r.height/=2,this.loadedAssets[e]=r,n()},r.src=t})}getAsset(t){return this.loadedAssets[t]}};O=w([b(),_("design:paramtypes",[])],O);var x=O;const S=window.innerWidth,R=window.innerHeight,j={skierCrash:"public/img/skier_crash.png",skierLeft:"public/img/skier_left.png",skierLeftDown:"public/img/skier_left_down.png",skierDown:"public/img/skier_down.png",skierRightDown:"public/img/skier_right_down.png",skierRight:"public/img/skier_right.png",tree:"public/img/tree_1.png",treeCluster:"public/img/tree_cluster.png",rock1:"public/img/rock_1.png",rock2:"public/img/rock_2.png",skierUp:"public/img/skier_jump_1.png",jumpRamp:"public/img/jump_ramp.png",rhinoRunLeft:"public/img/rhino_run_left.png",rhinoLift:"public/img/rhino_lift.png",rhinoLiftMouthOpen:"public/img/rhino_lift_mouth_open.png",rhinoLiftEat1:"public/img/rhino_lift_eat_1.png",rhinoLiftEat2:"public/img/rhino_lift_eat_2.png",rhinoLiftEat3:"public/img/rhino_lift_eat_3.png",killSkier:"public/img/clear_skier.png"},A=0,P=1,E=2,T=3,I=4,D=5,L=6,M=7,N=8,C={[A]:"skierCrash",[P]:"skierLeft",[E]:"skierLeftDown",[T]:"skierDown",[I]:"skierRightDown",[D]:"skierRight",[L]:"skierUp",[M]:"killSkier",[N]:"skierCrash"},U=37,W=39,z=38,K=40,V=32,F=82,H=0,G=1,J=2,B=3,q=4,Y=5,$={[H]:"rhinoRunLeft",[G]:"rhinoLift",[J]:"rhinoLiftMouthOpen",[B]:"rhinoLiftEat1",[q]:"rhinoLiftEat2",[Y]:"rhinoLiftEat3"};function Q(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function X(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}class Z{constructor(t,e,n,r){this.left=0,this.top=0,this.right=0,this.bottom=0,this.left=t,this.top=e,this.right=n,this.bottom=r}}const tt=["tree","treeCluster","rock1","rock2","jumpRamp"];class et extends class{constructor(t,e){this.x=0,this.y=0,this.assetName="",this.x=t,this.y=e}getAssetName(){return this.assetName}getPosition(){return{x:this.x,y:this.y}}draw(t,e){const n=e.getAsset(this.assetName),r=this.x-n.width/2,i=this.y-n.height/2;t.drawImage(n,r,i,n.width,n.height)}}{constructor(t,e){super(t,e);const n=Q(0,tt.length-1);this.assetName=tt[n]}}var nt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},rt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let it=class{constructor(){this.obstacles=[]}restartObstacle(){this.obstacles=[]}getObstacles(){return this.obstacles}drawObstacles(t,e){this.obstacles.forEach(n=>{n.draw(t,e)})}placeInitialObstacles(){const t=Math.ceil(S/300*(R/300)),e=-S/2,n=S/2,r=R/2;for(let i=0;i<t;i++)this.placeRandomObstacle(e,n,100,r);this.obstacles.sort((t,e)=>t.getPosition().y-e.getPosition().y)}placeNewObstacle(t,e){8===Q(1,8)&&(t.left<e.left?this.placeObstacleLeft(t):t.left>e.left&&this.placeObstacleRight(t),t.top<e.top?this.placeObstacleTop(t):t.top>e.top&&this.placeObstacleBottom(t))}placeObstacleLeft(t){this.placeRandomObstacle(t.left,t.left,t.top,t.bottom)}placeObstacleRight(t){this.placeRandomObstacle(t.right,t.right,t.top,t.bottom)}placeObstacleTop(t){this.placeRandomObstacle(t.left,t.right,t.top,t.top)}placeObstacleBottom(t){this.placeRandomObstacle(t.left,t.right,t.bottom,t.bottom)}placeRandomObstacle(t,e,n,r){const i=this.calculateOpenPosition(t,e,n,r),o=new et(i.x,i.y);this.obstacles.push(o)}calculateOpenPosition(t,e,n,r){const i=Q(t,e),o=Q(n,r);return this.obstacles.find(t=>i>t.x-50&&i<t.x+50&&o>t.y-50&&o<t.y+50)?this.calculateOpenPosition(t,e,n,r):{x:i,y:o}}};it=nt([b(),rt("design:paramtypes",[])],it);var ot=it,st=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},at=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let ct=class{constructor(t,e){this.x=0,this.y=0,this.width=0,this.height=0,this.drawOffset={x:0,y:0},this.ctx=null,this.width=t,this.height=e,this.createCanvas()}restartCanvas(){this.x=0,this.y=0,this.width=0,this.height=0,this.drawOffset={x:0,y:0},this.ctx=null,this.width=S,this.height=R}createCanvas(){const t=document.createElement("canvas");t.id="skiCanvas",t.width=this.width*window.devicePixelRatio,t.height=this.height*window.devicePixelRatio,t.style.width=this.width+"px",t.style.height=this.height+"px",this.ctx=t.getContext("2d"),this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio),document.body.appendChild(t)}clearCanvas(){this.ctx.clearRect(this.x,this.y,this.width,this.height)}setDrawOffset(t,e){this.drawOffset.x=t,this.drawOffset.y=e}drawImage(t,e,n,r,i){e-=this.drawOffset.x,n-=this.drawOffset.y,this.ctx.drawImage(t,e,n,r,i)}};ct=st([b(),at("design:paramtypes",[Number,Number])],ct);var ut=ct;class ft{constructor(t,e){this.x=0,this.y=0,this.assetName="",this.x=t,this.y=e}getAssetName(){return this.assetName}getPosition(){return{x:this.x,y:this.y}}draw(t,e){const n=e.getAsset(this.assetName),r=this.x-n.width/2,i=this.y-n.height/2;t.drawImage(n,r,i,n.width,n.height)}}var ht=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},lt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let pt=class extends ft{constructor(t,e){super(t,e),this.assetName="skierDown",this.isPaused=!1,this.direction=T,this.lastDirection=this.direction,this.speed=10}restartSkier(){this.assetName="skierDown",this.isPaused=!1,this.direction=T,this.lastDirection=this.direction,this.speed=10,this.x=0,this.y=0}setDirection(t){this.direction=t,this.updateAsset()}setLastDirection(t){this.lastDirection=t}updateAsset(){this.assetName=C[this.direction]}move(){switch(this.direction){case E:this.moveSkierLeftDown();break;case T:this.moveSkierDown();break;case I:this.moveSkierRightDown();break;case P:this.moveSkierLeft();break;case D:this.moveSkierRight();break;case L:this.moveSkierUp()}}moveSkierLeft(){this.x-=10}moveSkierLeftDown(){this.x-=this.speed/1.4142,this.y+=this.speed/1.4142}moveSkierDown(){this.y+=this.speed}moveSkierRightDown(){this.x+=this.speed/1.4142,this.y+=this.speed/1.4142}moveSkierRight(){this.x+=10}moveSkierUp(){this.y+=this.speed}turnLeft(){this.setDirection(P),this.updateLastDirection()}turnRight(){this.setDirection(D),this.updateLastDirection()}turnUp(){this.setDirection(L),this.updateLastDirection()}turnDown(){this.setDirection(T),this.updateLastDirection()}pause(){this.isPaused?(this.setDirection(this.lastDirection),this.isPaused=!1):(this.isPaused=!0,this.setDirection(N))}updateLastDirection(){this.setLastDirection(this.direction)}setSkierJumpOverRock(t){if(this.direction===L&&("rock1"===t||"rock2"===t))return!0}makeSkierJumpIfHitRamp(t){if("jumpRamp"===t)return this.turnUp(),!0}CheckIfSkierShouldJump(t){return this.setSkierJumpOverRock(t)||this.makeSkierJumpIfHitRamp(t)}checkIfSkierHitObstacle(t,e){const n=e.getAsset(this.assetName),r=new Z(this.x-n.width/2,this.y-n.height/2,this.x+n.width/2,this.y-n.height/4);t.getObstacles().find(t=>{const n=t.getAssetName(),i=e.getAsset(n),o=t.getPosition(),s=new Z(o.x-i.width/2,o.y-i.height/2,o.x+i.width/2,o.y),a=X(r,s);return(!a||!this.CheckIfSkierShouldJump(n))&&a})&&this.setDirection(A)}};pt=ht([b(),lt("design:paramtypes",[Number,Number])],pt);var dt=pt,yt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},vt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let mt=class extends ft{constructor(t,e){super(t,e),this.assetName="rhinoRunLeft",this.action=H}restartRhino(){this.assetName="rhinoRunLeft",this.action=H,this.x=0,this.y=0}drawRhino(t,e){this.y>=3e3&&this.draw(t,e)}move(t){if(t.y>=3e3&&this.action===H)switch(this.y=t.y,t.direction){case T:this.moveDown(t.y);break;case P:this.moveLeft(t.speed);break;case D:this.moveRight(t.speed);break;case L:this.moveUp(t.y);break;case A:this.moveDown(t.y)}}moveLeft(t){this.x+=t}moveRight(t){this.x+=2*t}moveUp(t){this.x=t-6e3}moveDown(t){this.x=t-6e3}endIfRhinoCatchSkier(t,e){if(this.action===H){const n=t.getAsset(this.assetName),r=new Z(this.x-n.width/2,this.y-n.height/2,this.x+n.width/2,this.y-n.height/4),i=t.getAsset(e.assetName);X(r,new Z(e.x-i.width/2,e.y-i.height/2,e.x+i.width/2,e.y-i.height/4))&&(this.removeSkier(e),this.setAction(G))}}removeSkier(t){t.direction=M,t.y=this.y,t.x=this.x,t.assetName="killSkier"}setAction(t){this.action=t,this.updateAsset()}updateAsset(){this.assetName=$[this.action]}updateAction(t){if(this.action)switch(this.removeSkier(t),this.action){case G:this.changeAction(J);break;case J:this.changeAction(B);break;case B:this.changeAction(q);break;case q:this.changeAction(Y)}}changeAction(t){var e=this;setTimeout((function(){e.setAction(t)}),700)}};mt=yt([b(),vt("design:paramtypes",[Number,Number])],mt);var gt=mt,bt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},wt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_t=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};let kt=class{constructor(t,e,n,r,i){this.assetManager=t,this.obstacleService=e,this.skier=n,this.canvas=r,this.rhino=i,this.gameWindow=new Z(0,0,0,0),this.skier=new dt(0,0),this.canvas=new ut(S,R),this.rhino=new gt(0,0),document.addEventListener("keydown",this.handleKeyDown.bind(this))}init(){this.obstacleService.placeInitialObstacles()}load(){return _t(this,void 0,void 0,(function*(){yield this.assetManager.loadAssets(j)}))}run(){this.canvas.clearCanvas(),this.updateGameWindow(),this.drawGameWindow(),requestAnimationFrame(this.run.bind(this))}updateGameWindow(){this.skier.move();const t=this.gameWindow;this.calculateGameWindow(),this.obstacleService.placeNewObstacle(this.gameWindow,t),this.skier.checkIfSkierHitObstacle(this.obstacleService,this.assetManager),this.rhino.move(this.skier),this.rhino.endIfRhinoCatchSkier(this.assetManager,this.skier),this.rhino.updateAction(this.skier)}resetGame(){this.skier.restartSkier(),this.rhino.restartRhino(),this.obstacleService.restartObstacle()}drawGameWindow(){this.canvas.setDrawOffset(this.gameWindow.left,this.gameWindow.top),this.skier.draw(this.canvas,this.assetManager),this.obstacleService.drawObstacles(this.canvas,this.assetManager),this.rhino.drawRhino(this.canvas,this.assetManager)}calculateGameWindow(){const t=this.skier.getPosition(),e=t.x-S/2,n=t.y-R/2;this.gameWindow=new Z(e,n,e+S,n+R)}handleKeyDown(t){switch(t.which){case U:this.skier.turnLeft(),t.preventDefault();break;case W:this.skier.turnRight(),t.preventDefault();break;case z:this.skier.turnUp(),t.preventDefault();break;case K:this.skier.turnDown(),t.preventDefault();break;case V:this.skier.pause(),t.preventDefault();break;case F:this.resetGame(),t.preventDefault()}}};kt=bt([b(),wt("design:paramtypes",[x,ot,dt,ut,gt])],kt);var Ot=kt;(function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))})(void 0,void 0,void 0,(function*(){const t=g.get(Ot);t.load().then(()=>{t.init(),t.run()}),console.log("Game started")})).catch(t=>{console.error(t)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2Nzcy9nYW1lLmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVmbGVjdC1tZXRhZGF0YS9SZWZsZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWRpL2VzbTUvZXJyb3Ivc2VydmljZS1ub3QtZm91bmQuZXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2Nzcy9nYW1lLmNzcz9kNjMzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZGkvZXNtNS90b2tlbi5jbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWRpL2VzbTUvZXJyb3IvY2Fubm90LWluc3RhbnRpYXRlLXZhbHVlLmVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZGkvZXNtNS9lbXB0eS5jb25zdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWRpL2VzbTUvY29udGFpbmVyLWluc3RhbmNlLmNsYXNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZGkvZXNtNS9jb250YWluZXIuY2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVkaS9lc201L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZGkvZXNtNS9kZWNvcmF0b3JzL3NlcnZpY2UuZGVjb3JhdG9yLmpzIiwid2VicGFjazovLy8uL3NyYy9sb2FkZXJzL2Fzc2V0TWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc3RhbnRzL2NvbnN0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbGl0aWVzL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvb2JzdGFjbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9lbnRpdHkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL29ic3RhY2xlU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGVycy9jYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvYWRlcnMvZW50aXR5LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9za2llclNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3JoaW5vU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvZ2FtZVNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibGVuZ3RoIiwibW9kdWxlc1RvRG9tIiwibGlzdCIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJpdGVtIiwiaWQiLCJiYXNlIiwiY291bnQiLCJjb25jYXQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJfc2xpY2VkVG9BcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIml0ZXJhdG9yIiwiX3MiLCJfZSIsIl9hcnIiLCJfbiIsIl9kIiwibmV4dCIsImRvbmUiLCJlcnIiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJmcm9tIiwidGVzdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIlR5cGVFcnJvciIsIl9ub25JdGVyYWJsZVJlc3QiLCJsZW4iLCJhcnIyIiwiX2l0ZW0iLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJhc2U2NCIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJtYXAiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsInRoaXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIlJlZmxlY3QiLCJmYWN0b3J5Iiwicm9vdCIsImdsb2JhbCIsInNlbGYiLCJGdW5jdGlvbiIsImV4cG9ydGVyIiwibWFrZUV4cG9ydGVyIiwicHJldmlvdXMiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImhhc093biIsInN1cHBvcnRzU3ltYm9sIiwidG9QcmltaXRpdmVTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsIml0ZXJhdG9yU3ltYm9sIiwic3VwcG9ydHNDcmVhdGUiLCJzdXBwb3J0c1Byb3RvIiwiX19wcm90b19fIiwiZG93bkxldmVsIiwiSGFzaE1hcCIsIk1ha2VEaWN0aW9uYXJ5IiwiaGFzIiwidW5kZWZpbmVkIiwiZnVuY3Rpb25Qcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsInVzZVBvbHlmaWxsIiwicHJvY2VzcyIsImVudiIsIl9NYXAiLCJNYXAiLCJlbnRyaWVzIiwiY2FjaGVTZW50aW5lbCIsImFycmF5U2VudGluZWwiLCJNYXBJdGVyYXRvciIsInZhbHVlcyIsInNlbGVjdG9yIiwiX2tleXMiLCJfdmFsdWVzIiwiX3NlbGVjdG9yIiwidGhyb3ciLCJlcnJvciIsInJldHVybiIsIl9jYWNoZUtleSIsIl9jYWNoZUluZGV4IiwiX2ZpbmQiLCJzZXQiLCJkZWxldGUiLCJzaXplIiwiY2xlYXIiLCJnZXRLZXkiLCJnZXRWYWx1ZSIsImdldEVudHJ5IiwiaW5kZXhPZiIsIl8iLCJDcmVhdGVNYXBQb2x5ZmlsbCIsIl9TZXQiLCJTZXQiLCJfbWFwIiwiYWRkIiwiTWV0YWRhdGEiLCJXZWFrTWFwIiwicm9vdEtleSIsIkNyZWF0ZVVuaXF1ZUtleSIsIl9rZXkiLCJ0YWJsZSIsIkdldE9yQ3JlYXRlV2Vha01hcFRhYmxlIiwiQ3JlYXRlVVVJRCIsIkZpbGxSYW5kb21CeXRlcyIsImJ1ZmZlciIsIk1hdGgiLCJyYW5kb20iLCJVaW50OEFycmF5IiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwibXNDcnlwdG8iLCJvZmZzZXQiLCJieXRlIiwidG9Mb3dlckNhc2UiLCJDcmVhdGVXZWFrTWFwUG9seWZpbGwiLCJHZXRPckNyZWF0ZU1ldGFkYXRhTWFwIiwiTyIsIlAiLCJDcmVhdGUiLCJ0YXJnZXRNZXRhZGF0YSIsIklzVW5kZWZpbmVkIiwibWV0YWRhdGFNYXAiLCJPcmRpbmFyeUhhc093bk1ldGFkYXRhIiwiTWV0YWRhdGFLZXkiLCJPcmRpbmFyeUdldE93bk1ldGFkYXRhIiwiT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YSIsIk1ldGFkYXRhVmFsdWUiLCJPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyIsIm1ldGhvZCIsIkdldE1ldGhvZCIsIklzQ2FsbGFibGUiLCJJc09iamVjdCIsIkdldEl0ZXJhdG9yIiwiayIsIkl0ZXJhdG9yU3RlcCIsIm5leHRWYWx1ZSIsIkl0ZXJhdG9yQ2xvc2UiLCJUeXBlIiwieCIsIklzTnVsbCIsIlRvUHJpbWl0aXZlIiwiaW5wdXQiLCJQcmVmZXJyZWRUeXBlIiwiaGludCIsImV4b3RpY1RvUHJpbSIsInRvU3RyaW5nXzEiLCJ2YWx1ZU9mIiwidG9TdHJpbmdfMiIsIk9yZGluYXJ5VG9QcmltaXRpdmUiLCJUb1Byb3BlcnR5S2V5IiwiYXJndW1lbnQiLCJUb1N0cmluZyIsIklzQXJyYXkiLCJJc0NvbnN0cnVjdG9yIiwiViIsImZ1bmMiLCJmIiwiT3JkaW5hcnlHZXRQcm90b3R5cGVPZiIsInByb3RvIiwicHJvdG90eXBlUHJvdG8iLCJfXyIsImRlY29yYXRvcnMiLCJwcm9wZXJ0eUtleSIsImRlY29yYXRlZCIsImRlY29yYXRvciIsIkRlY29yYXRlQ29uc3RydWN0b3IiLCJkZXNjcmlwdG9yIiwiRGVjb3JhdGVQcm9wZXJ0eSIsIm1ldGFkYXRhS2V5IiwibWV0YWRhdGFWYWx1ZSIsIklzUHJvcGVydHlLZXkiLCJPcmRpbmFyeUhhc01ldGFkYXRhIiwicGFyZW50IiwiT3JkaW5hcnlHZXRNZXRhZGF0YSIsIk9yZGluYXJ5TWV0YWRhdGFLZXlzIiwib3duS2V5cyIsInBhcmVudEtleXMiLCJvd25LZXlzXzEiLCJfYSIsInBhcmVudEtleXNfMSIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImciLCJleHRlbmRTdGF0aWNzIiwiVG9rZW4iLCJsb2NhbHMiLCJfX2V4dGVuZHMiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfc3VwZXIiLCJTZXJ2aWNlTm90Rm91bmRFcnJvciIsIl90aGlzIiwibm9ybWFsaXplZElkZW50aWZpZXIiLCJDYW5ub3RJbnN0YW50aWF0ZVZhbHVlRXJyb3IiLCJFTVBUWV9WQUxVRSIsIl9fYXNzaWduIiwiYXNzaWduIiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImEiLCJqIiwiamwiLCJDb250YWluZXJJbnN0YW5jZSIsInNlcnZpY2VzIiwiZmluZFNlcnZpY2UiLCJnbG9iYWxDb250YWluZXIiLCJvZiIsImdsb2JhbFNlcnZpY2UiLCJzY29wZWRTZXJ2aWNlIiwiZ2V0U2VydmljZVZhbHVlIiwiY2xvbmVkU2VydmljZSIsImdldE1hbnkiLCJmaW5kQWxsU2VydmljZXMiLCJzZXJ2aWNlIiwiaWRlbnRpZmllck9yU2VydmljZU1ldGFkYXRhIiwidHlwZSIsIm11bHRpcGxlIiwiZWFnZXIiLCJ0cmFuc2llbnQiLCJuZXdTZXJ2aWNlIiwiaWRlbnRpZmllck9ySWRlbnRpZmllckFycmF5IiwiZGVzdHJveVNlcnZpY2VJbnN0YW5jZSIsInJlc2V0Iiwic3RyYXRlZ3kiLCJmaW5kIiwic2VydmljZU1ldGFkYXRhIiwiZmFjdG9yeUluc3RhbmNlIiwiY29uc3RydWN0YWJsZVRhcmdldFR5cGUiLCJwYXJhbVR5cGVzIiwiZ2V0TWV0YWRhdGEiLCJwYXJhbXMiLCJpbml0aWFsaXplUGFyYW1zIiwiYXBwbHlQcm9wZXJ0eUhhbmRsZXJzIiwicGFyYW1UeXBlIiwicGFyYW1IYW5kbGVyIiwiaGFuZGxlcnMiLCJoYW5kbGVyIiwiaXNQcmltaXRpdmVQYXJhbVR5cGUiLCJwYXJhbVR5cGVOYW1lIiwiaW5jbHVkZXMiLCJpbnN0YW5jZSIsInByb3BlcnR5TmFtZSIsImZvcmNlIiwiZGVzdHJveSIsIkNvbnRhaW5lciIsImNvbnRhaW5lcklkIiwiZ2xvYmFsSW5zdGFuY2UiLCJjb250YWluZXIiLCJpbnN0YW5jZXMiLCJyZWdpc3RlckhhbmRsZXIiLCJpbXBvcnQiLCJTZXJ2aWNlIiwib3B0aW9uc09yU2VydmljZUlkZW50aWZpZXIiLCJ0YXJnZXRDb25zdHJ1Y3RvciIsIkFzc2V0TWFuYWdlciIsImxvYWRlZEFzc2V0cyIsImFzc2V0cyIsImFzc2V0UHJvbWlzZXMiLCJhc3NldE5hbWUiLCJhc3NldFVybCIsImFzc2V0UHJvbWlzZSIsImxvYWRTaW5nbGVBc3NldCIsIlByb21pc2UiLCJyZXNvbHZlIiwiYXNzZXRJbWFnZSIsIkltYWdlIiwib25sb2FkIiwid2lkdGgiLCJoZWlnaHQiLCJzcmMiLCJHQU1FX1dJRFRIIiwiaW5uZXJXaWR0aCIsIkdBTUVfSEVJR0hUIiwiaW5uZXJIZWlnaHQiLCJBU1NFVFMiLCJTS0lFUl9ESVJFQ1RJT05TIiwiU0tJRVJfRElSRUNUSU9OX0FTU0VUIiwiS0VZUyIsIlJISU5PX0FDVElPTlMiLCJSSElOT19BQ1RJT05fQVNTRVQiLCJyYW5kb21JbnQiLCJtaW4iLCJtYXgiLCJjZWlsIiwiZmxvb3IiLCJpbnRlcnNlY3RUd29SZWN0cyIsInJlY3QxIiwicmVjdDIiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJSZWN0IiwiYXNzZXRUeXBlcyIsInkiLCJjYW52YXMiLCJhc3NldE1hbmFnZXIiLCJhc3NldCIsImdldEFzc2V0IiwiZHJhd1giLCJkcmF3WSIsImRyYXdJbWFnZSIsInN1cGVyIiwiYXNzZXRJZHgiLCJvYnN0YWNsZXMiLCJvYnN0YWNsZSIsImRyYXciLCJudW1iZXJPYnN0YWNsZXMiLCJtaW5YIiwibWF4WCIsIm1heFkiLCJwbGFjZVJhbmRvbU9ic3RhY2xlIiwic29ydCIsIm9ic3RhY2xlMSIsIm9ic3RhY2xlMiIsImdldFBvc2l0aW9uIiwiZ2FtZVdpbmRvdyIsInByZXZpb3VzR2FtZVdpbmRvdyIsInBsYWNlT2JzdGFjbGVMZWZ0IiwicGxhY2VPYnN0YWNsZVJpZ2h0IiwicGxhY2VPYnN0YWNsZVRvcCIsInBsYWNlT2JzdGFjbGVCb3R0b20iLCJtaW5ZIiwicG9zaXRpb24iLCJjYWxjdWxhdGVPcGVuUG9zaXRpb24iLCJuZXdPYnN0YWNsZSIsImRyYXdPZmZzZXQiLCJjdHgiLCJjcmVhdGVDYW52YXMiLCJkZXZpY2VQaXhlbFJhdGlvIiwiZ2V0Q29udGV4dCIsInNjYWxlIiwiYm9keSIsImNsZWFyUmVjdCIsImltYWdlIiwiaXNQYXVzZWQiLCJkaXJlY3Rpb24iLCJsYXN0RGlyZWN0aW9uIiwic3BlZWQiLCJ1cGRhdGVBc3NldCIsIm1vdmVTa2llckxlZnREb3duIiwibW92ZVNraWVyRG93biIsIm1vdmVTa2llclJpZ2h0RG93biIsIm1vdmVTa2llckxlZnQiLCJtb3ZlU2tpZXJSaWdodCIsIm1vdmVTa2llclVwIiwic2V0RGlyZWN0aW9uIiwidXBkYXRlTGFzdERpcmVjdGlvbiIsInNldExhc3REaXJlY3Rpb24iLCJvYnN0YWNsZU5hbWUiLCJ0dXJuVXAiLCJzZXRTa2llckp1bXBPdmVyUm9jayIsIm1ha2VTa2llckp1bXBJZkhpdFJhbXAiLCJvYnN0YWNsZVNlcnZpY2UiLCJza2llckJvdW5kcyIsImdldE9ic3RhY2xlcyIsImdldEFzc2V0TmFtZSIsIm9ic3RhY2xlQXNzZXQiLCJvYnN0YWNsZVBvc2l0aW9uIiwib2JzdGFjbGVCb3VuZHMiLCJjaGVja0lmVHdvUmVjdHNudGVyc2VjdCIsIkNoZWNrSWZTa2llclNob3VsZEp1bXAiLCJhY3Rpb24iLCJza2llciIsIm1vdmVEb3duIiwibW92ZUxlZnQiLCJtb3ZlUmlnaHQiLCJtb3ZlVXAiLCJza2llcl9zcGVlZCIsInNraWVyX3Bvc2l0aW9uX3giLCJSSElOT19TS0lFUl9TVEFSVElOR19ESVNUQU5DRSIsInNraWVyX3Bvc2l0aW9uX3kiLCJSaGlub0JvdW5kcyIsIlNraWVyQXNzZXQiLCJyZW1vdmVTa2llciIsInNldEFjdGlvbiIsImNoYW5nZUFjdGlvbiIsInJoaW5vQWN0aW9uIiwicmhpbm8iLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlS2V5RG93biIsInBsYWNlSW5pdGlhbE9ic3RhY2xlcyIsImxvYWRBc3NldHMiLCJjbGVhckNhbnZhcyIsInVwZGF0ZUdhbWVXaW5kb3ciLCJkcmF3R2FtZVdpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1vdmUiLCJjYWxjdWxhdGVHYW1lV2luZG93IiwicGxhY2VOZXdPYnN0YWNsZSIsImNoZWNrSWZTa2llckhpdE9ic3RhY2xlIiwiZW5kSWZSaGlub0NhdGNoU2tpZXIiLCJ1cGRhdGVBY3Rpb24iLCJyZXN0YXJ0U2tpZXIiLCJyZXN0YXJ0Umhpbm8iLCJyZXN0YXJ0T2JzdGFjbGUiLCJzZXREcmF3T2Zmc2V0IiwiZHJhd09ic3RhY2xlcyIsImRyYXdSaGlubyIsInNraWVyUG9zaXRpb24iLCJldmVudCIsIndoaWNoIiwidHVybkxlZnQiLCJwcmV2ZW50RGVmYXVsdCIsInR1cm5SaWdodCIsInR1cm5Eb3duIiwicGF1c2UiLCJyZXNldEdhbWUiLCJnYW1lU2VydmljZSIsImxvYWQiLCJ0aGVuIiwiaW5pdCIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNG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LEdBQUksSUFEeEJ4SixJLHdCQUt5QixFQUNHLEdBQ1YsR0FDQyxHQUNELE1BUkUsZSxvU0NKUyxtQ0FDNUIsTUFBTTZKLEVBQWMsRUFBVXBqQixJQUFJLElBQ2xDb2pCLEVBQVlDLE9BQU9DLEtBQUssS0FFdEJGLEVBQVlHLE9BQ1pILEVBQVloUSxRQUdkb1EsUUFBUUMsSUFBSSxtQkFHRkMsTUFBT25jLElBQ2pCaWMsUUFBUTNYLE1BQU10RSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEwKTtcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiaHRtbCwgYm9keSB7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgcGFkZGluZzogMDtcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vcHVibGljL2Nzcy9nYW1lLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLFNBQVM7SUFDVCxVQUFVO0FBQ2RcIixcInNvdXJjZXNDb250ZW50XCI6W1wiaHRtbCwgYm9keSB7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgcGFkZGluZzogMDtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfaSA9IGFyciAmJiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdKTsgaWYgKF9pID09IG51bGwpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfcywgX2U7IHRyeSB7IGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pIHtcbiAgdmFyIF9pdGVtID0gX3NsaWNlZFRvQXJyYXkoaXRlbSwgNCksXG4gICAgICBjb250ZW50ID0gX2l0ZW1bMV0sXG4gICAgICBjc3NNYXBwaW5nID0gX2l0ZW1bM107XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoQykgTWljcm9zb2Z0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXG5cblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbnZhciBSZWZsZWN0O1xuKGZ1bmN0aW9uIChSZWZsZWN0KSB7XG4gICAgLy8gTWV0YWRhdGEgUHJvcG9zYWxcbiAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhL1xuICAgIChmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICAgICB2YXIgcm9vdCA9IHR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOlxuICAgICAgICAgICAgdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDpcbiAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcyA9PT0gXCJvYmplY3RcIiA/IHRoaXMgOlxuICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbihcInJldHVybiB0aGlzO1wiKSgpO1xuICAgICAgICB2YXIgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIoUmVmbGVjdCk7XG4gICAgICAgIGlmICh0eXBlb2Ygcm9vdC5SZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByb290LlJlZmxlY3QgPSBSZWZsZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIocm9vdC5SZWZsZWN0LCBleHBvcnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZmFjdG9yeShleHBvcnRlcik7XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VFeHBvcnRlcih0YXJnZXQsIHByZXZpb3VzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKVxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91cyhrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KShmdW5jdGlvbiAoZXhwb3J0ZXIpIHtcbiAgICAgICAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gICAgICAgIC8vIGZlYXR1cmUgdGVzdCBmb3IgU3ltYm9sIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB2YXIgdG9QcmltaXRpdmVTeW1ib2wgPSBzdXBwb3J0c1N5bWJvbCAmJiB0eXBlb2YgU3ltYm9sLnRvUHJpbWl0aXZlICE9PSBcInVuZGVmaW5lZFwiID8gU3ltYm9sLnRvUHJpbWl0aXZlIDogXCJAQHRvUHJpbWl0aXZlXCI7XG4gICAgICAgIHZhciBpdGVyYXRvclN5bWJvbCA9IHN1cHBvcnRzU3ltYm9sICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgIT09IFwidW5kZWZpbmVkXCIgPyBTeW1ib2wuaXRlcmF0b3IgOiBcIkBAaXRlcmF0b3JcIjtcbiAgICAgICAgdmFyIHN1cHBvcnRzQ3JlYXRlID0gdHlwZW9mIE9iamVjdC5jcmVhdGUgPT09IFwiZnVuY3Rpb25cIjsgLy8gZmVhdHVyZSB0ZXN0IGZvciBPYmplY3QuY3JlYXRlIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzUHJvdG8gPSB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5OyAvLyBmZWF0dXJlIHRlc3QgZm9yIF9fcHJvdG9fXyBzdXBwb3J0XG4gICAgICAgIHZhciBkb3duTGV2ZWwgPSAhc3VwcG9ydHNDcmVhdGUgJiYgIXN1cHBvcnRzUHJvdG87XG4gICAgICAgIHZhciBIYXNoTWFwID0ge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIG9iamVjdCBpbiBkaWN0aW9uYXJ5IG1vZGUgKGEuay5hLiBcInNsb3dcIiBtb2RlIGluIHY4KVxuICAgICAgICAgICAgY3JlYXRlOiBzdXBwb3J0c0NyZWF0ZVxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gTWFrZURpY3Rpb25hcnkoT2JqZWN0LmNyZWF0ZShudWxsKSk7IH1cbiAgICAgICAgICAgICAgICA6IHN1cHBvcnRzUHJvdG9cbiAgICAgICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBNYWtlRGljdGlvbmFyeSh7IF9fcHJvdG9fXzogbnVsbCB9KTsgfVxuICAgICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1ha2VEaWN0aW9uYXJ5KHt9KTsgfSxcbiAgICAgICAgICAgIGhhczogZG93bkxldmVsXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIGhhc093bi5jYWxsKG1hcCwga2V5KTsgfVxuICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBrZXkgaW4gbWFwOyB9LFxuICAgICAgICAgICAgZ2V0OiBkb3duTGV2ZWxcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gaGFzT3duLmNhbGwobWFwLCBrZXkpID8gbWFwW2tleV0gOiB1bmRlZmluZWQ7IH1cbiAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gbWFwW2tleV07IH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIExvYWQgZ2xvYmFsIG9yIHNoaW0gdmVyc2lvbnMgb2YgTWFwLCBTZXQsIGFuZCBXZWFrTWFwXG4gICAgICAgIHZhciBmdW5jdGlvblByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihGdW5jdGlvbik7XG4gICAgICAgIHZhciB1c2VQb2x5ZmlsbCA9IHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MuZW52ICYmIHByb2Nlc3MuZW52W1wiUkVGTEVDVF9NRVRBREFUQV9VU0VfTUFQX1BPTFlGSUxMXCJdID09PSBcInRydWVcIjtcbiAgICAgICAgdmFyIF9NYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBNYXAucHJvdG90eXBlLmVudHJpZXMgPT09IFwiZnVuY3Rpb25cIiA/IE1hcCA6IENyZWF0ZU1hcFBvbHlmaWxsKCk7XG4gICAgICAgIHZhciBfU2V0ID0gIXVzZVBvbHlmaWxsICYmIHR5cGVvZiBTZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU2V0LnByb3RvdHlwZS5lbnRyaWVzID09PSBcImZ1bmN0aW9uXCIgPyBTZXQgOiBDcmVhdGVTZXRQb2x5ZmlsbCgpO1xuICAgICAgICB2YXIgX1dlYWtNYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIFdlYWtNYXAgPT09IFwiZnVuY3Rpb25cIiA/IFdlYWtNYXAgOiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKTtcbiAgICAgICAgLy8gW1tNZXRhZGF0YV1dIGludGVybmFsIHNsb3RcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnktb2JqZWN0LWludGVybmFsLW1ldGhvZHMtYW5kLWludGVybmFsLXNsb3RzXG4gICAgICAgIHZhciBNZXRhZGF0YSA9IG5ldyBfV2Vha01hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXBwbGllcyBhIHNldCBvZiBkZWNvcmF0b3JzIHRvIGEgcHJvcGVydHkgb2YgYSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gZGVjb3JhdG9ycyBBbiBhcnJheSBvZiBkZWNvcmF0b3JzLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IHRvIGRlY29yYXRlLlxuICAgICAgICAgKiBAcGFyYW0gYXR0cmlidXRlcyAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvciB0aGUgdGFyZ2V0IGtleS5cbiAgICAgICAgICogQHJlbWFya3MgRGVjb3JhdG9ycyBhcmUgYXBwbGllZCBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBFeGFtcGxlID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIixcbiAgICAgICAgICogICAgICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNBcnJheShkZWNvcmF0b3JzKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoYXR0cmlidXRlcykgJiYgIUlzVW5kZWZpbmVkKGF0dHJpYnV0ZXMpICYmICFJc051bGwoYXR0cmlidXRlcykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoSXNOdWxsKGF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRlUHJvcGVydHkoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQXJyYXkoZGVjb3JhdG9ycykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQ29uc3RydWN0b3IodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvcmF0ZUNvbnN0cnVjdG9yKGRlY29yYXRvcnMsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWNvcmF0ZVwiLCBkZWNvcmF0ZSk7XG4gICAgICAgIC8vIDQuMS4yIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI3JlZmxlY3QubWV0YWRhdGFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmYXVsdCBtZXRhZGF0YSBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGNhbiBiZSB1c2VkIG9uIGEgY2xhc3MsIGNsYXNzIG1lbWJlciwgb3IgcGFyYW1ldGVyLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgVGhlIGtleSBmb3IgdGhlIG1ldGFkYXRhIGVudHJ5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFWYWx1ZSBUaGUgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBlbnRyeS5cbiAgICAgICAgICogQHJldHVybnMgQSBkZWNvcmF0b3IgZnVuY3Rpb24uXG4gICAgICAgICAqIEByZW1hcmtzXG4gICAgICAgICAqIElmIGBtZXRhZGF0YUtleWAgaXMgYWxyZWFkeSBkZWZpbmVkIGZvciB0aGUgdGFyZ2V0IGFuZCB0YXJnZXQga2V5LCB0aGVcbiAgICAgICAgICogbWV0YWRhdGFWYWx1ZSBmb3IgdGhhdCBrZXkgd2lsbCBiZSBvdmVyd3JpdHRlbi5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IsIFR5cGVTY3JpcHQgb25seSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSwgVHlwZVNjcmlwdCBvbmx5KVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBwcm9wZXJ0eTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBtZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpICYmICFJc1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlY29yYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcIm1ldGFkYXRhXCIsIG1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZSBhIHVuaXF1ZSBtZXRhZGF0YSBlbnRyeSBvbiB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YVZhbHVlIEEgdmFsdWUgdGhhdCBjb250YWlucyBhdHRhY2hlZCBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0byBkZWZpbmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBkZWNvcmF0b3IgZmFjdG9yeSBhcyBtZXRhZGF0YS1wcm9kdWNpbmcgYW5ub3RhdGlvbi5cbiAgICAgICAgICogICAgIGZ1bmN0aW9uIE15QW5ub3RhdGlvbihvcHRpb25zKTogRGVjb3JhdG9yIHtcbiAgICAgICAgICogICAgICAgICByZXR1cm4gKHRhcmdldCwga2V5PykgPT4gUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIHRhcmdldCwga2V5KTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZU1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImRlZmluZU1ldGFkYXRhXCIsIGRlZmluZU1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbiBoYXMgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEga2V5IHdhcyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW47IG90aGVyd2lzZSwgYGZhbHNlYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImhhc01ldGFkYXRhXCIsIGhhc01ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3QgaGFzIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1ldGFkYXRhIGtleSB3YXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdDsgb3RoZXJ3aXNlLCBgZmFsc2VgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5SGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiaGFzT3duTWV0YWRhdGFcIiwgaGFzT3duTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRNZXRhZGF0YVwiLCBnZXRNZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBvbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YVwiLCBnZXRPd25NZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSBrZXlzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdW5pcXVlIG1ldGFkYXRhIGtleXMuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0TWV0YWRhdGFLZXlzXCIsIGdldE1ldGFkYXRhS2V5cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSB1bmlxdWUgbWV0YWRhdGEga2V5cyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB1bmlxdWUgbWV0YWRhdGEga2V5cy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YUtleXNcIiwgZ2V0T3duTWV0YWRhdGFLZXlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGV0ZXMgdGhlIG1ldGFkYXRhIGVudHJ5IGZyb20gdGhlIHRhcmdldCBvYmplY3Qgd2l0aCB0aGUgcHJvdmlkZWQga2V5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEgZW50cnkgd2FzIGZvdW5kIGFuZCBkZWxldGVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcCh0YXJnZXQsIHByb3BlcnR5S2V5LCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFtZXRhZGF0YU1hcC5kZWxldGUobWV0YWRhdGFLZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YU1hcC5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB0YXJnZXRNZXRhZGF0YSA9IE1ldGFkYXRhLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgdGFyZ2V0TWV0YWRhdGEuZGVsZXRlKHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRNZXRhZGF0YS5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlbGV0ZSh0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWxldGVNZXRhZGF0YVwiLCBkZWxldGVNZXRhZGF0YSk7XG4gICAgICAgIGZ1bmN0aW9uIERlY29yYXRlQ29uc3RydWN0b3IoZGVjb3JhdG9ycywgdGFyZ2V0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0ZWQgPSBkZWNvcmF0b3IodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNDb25zdHJ1Y3RvcihkZWNvcmF0ZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBkZWNvcmF0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBEZWNvcmF0ZVByb3BlcnR5KGRlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRlZCA9IGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoZGVjb3JhdGVkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvciA9IGRlY29yYXRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIENyZWF0ZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldE1ldGFkYXRhID0gTWV0YWRhdGEuZ2V0KE8pO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKHRhcmdldE1ldGFkYXRhKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRhcmdldE1ldGFkYXRhID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICBNZXRhZGF0YS5zZXQoTywgdGFyZ2V0TWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gdGFyZ2V0TWV0YWRhdGEuZ2V0KFApO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhTWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRNZXRhZGF0YS5zZXQoUCwgbWV0YWRhdGFNYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhTWFwO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4xLjEgT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAoIUlzTnVsbChwYXJlbnQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBwYXJlbnQsIFApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4yLjEgT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNvd25tZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gVG9Cb29sZWFuKG1ldGFkYXRhTWFwLmhhcyhNZXRhZGF0YUtleSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4zLjEgT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlnZXRtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKCFJc051bGwocGFyZW50KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgcGFyZW50LCBQKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjQuMSBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWdldG93bm1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gbWV0YWRhdGFNYXAuZ2V0KE1ldGFkYXRhS2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNS4xIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUsIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5ZGVmaW5lb3dubWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTWV0YWRhdGFWYWx1ZSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIHRydWUpO1xuICAgICAgICAgICAgbWV0YWRhdGFNYXAuc2V0KE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNi4xIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5bWV0YWRhdGFrZXlzXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApIHtcbiAgICAgICAgICAgIHZhciBvd25LZXlzID0gT3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUCk7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG93bktleXM7XG4gICAgICAgICAgICB2YXIgcGFyZW50S2V5cyA9IE9yZGluYXJ5TWV0YWRhdGFLZXlzKHBhcmVudCwgUCk7XG4gICAgICAgICAgICBpZiAocGFyZW50S2V5cy5sZW5ndGggPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gb3duS2V5cztcbiAgICAgICAgICAgIGlmIChvd25LZXlzLmxlbmd0aCA8PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRLZXlzO1xuICAgICAgICAgICAgdmFyIHNldCA9IG5ldyBfU2V0KCk7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBvd25LZXlzXzEgPSBvd25LZXlzOyBfaSA8IG93bktleXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gb3duS2V5c18xW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBwYXJlbnRLZXlzXzEgPSBwYXJlbnRLZXlzOyBfYSA8IHBhcmVudEtleXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gcGFyZW50S2V5c18xW19hXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjcuMSBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeW93bm1ldGFkYXRha2V5c1xuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICB2YXIga2V5c09iaiA9IG1ldGFkYXRhTWFwLmtleXMoKTtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IEdldEl0ZXJhdG9yKGtleXNPYmopO1xuICAgICAgICAgICAgdmFyIGsgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IEl0ZXJhdG9yU3RlcChpdGVyYXRvcik7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMubGVuZ3RoID0gaztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBJdGVyYXRvclZhbHVlKG5leHQpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXNba10gPSBuZXh0VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDYgRUNNQVNjcmlwdCBEYXRhIFR5cDBlcyBhbmQgVmFsdWVzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtZGF0YS10eXBlcy1hbmQtdmFsdWVzXG4gICAgICAgIGZ1bmN0aW9uIFR5cGUoeCkge1xuICAgICAgICAgICAgaWYgKHggPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogTnVsbCAqLztcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6IHJldHVybiAwIC8qIFVuZGVmaW5lZCAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOiByZXR1cm4gMiAvKiBCb29sZWFuICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjogcmV0dXJuIDMgLyogU3RyaW5nICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjogcmV0dXJuIDQgLyogU3ltYm9sICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjogcmV0dXJuIDUgLyogTnVtYmVyICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjogcmV0dXJuIHggPT09IG51bGwgPyAxIC8qIE51bGwgKi8gOiA2IC8qIE9iamVjdCAqLztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gNiAvKiBPYmplY3QgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjEgVGhlIFVuZGVmaW5lZCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtdW5kZWZpbmVkLXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNVbmRlZmluZWQoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuMiBUaGUgTnVsbCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtbnVsbC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzTnVsbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4geCA9PT0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuNSBUaGUgU3ltYm9sIFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcy1zeW1ib2wtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc1N5bWJvbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjcgVGhlIE9iamVjdCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzT2JqZWN0KHgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiA/IHggIT09IG51bGwgOiB0eXBlb2YgeCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMSBUeXBlIENvbnZlcnNpb25cbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZS1jb252ZXJzaW9uXG4gICAgICAgIC8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3ByaW1pdGl2ZVxuICAgICAgICBmdW5jdGlvbiBUb1ByaW1pdGl2ZShpbnB1dCwgUHJlZmVycmVkVHlwZSkge1xuICAgICAgICAgICAgc3dpdGNoIChUeXBlKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBVbmRlZmluZWQgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogTnVsbCAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBCb29sZWFuICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBTeW1ib2wgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDUgLyogTnVtYmVyICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGludCA9IFByZWZlcnJlZFR5cGUgPT09IDMgLyogU3RyaW5nICovID8gXCJzdHJpbmdcIiA6IFByZWZlcnJlZFR5cGUgPT09IDUgLyogTnVtYmVyICovID8gXCJudW1iZXJcIiA6IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgdmFyIGV4b3RpY1RvUHJpbSA9IEdldE1ldGhvZChpbnB1dCwgdG9QcmltaXRpdmVTeW1ib2wpO1xuICAgICAgICAgICAgaWYgKGV4b3RpY1RvUHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGV4b3RpY1RvUHJpbS5jYWxsKGlucHV0LCBoaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlUb1ByaW1pdGl2ZShpbnB1dCwgaGludCA9PT0gXCJkZWZhdWx0XCIgPyBcIm51bWJlclwiIDogaGludCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEuMSBPcmRpbmFyeVRvUHJpbWl0aXZlKE8sIGhpbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5dG9wcmltaXRpdmVcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlUb1ByaW1pdGl2ZShPLCBoaW50KSB7XG4gICAgICAgICAgICBpZiAoaGludCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18xID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18xKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMS5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVPZiA9IE8udmFsdWVPZjtcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh2YWx1ZU9mKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWVPZi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZU9mID0gTy52YWx1ZU9mO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHZhbHVlT2YpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB2YWx1ZU9mLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18yID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18yKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMiBUb0Jvb2xlYW4oYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8yMDE2LyNzZWMtdG9ib29sZWFuXG4gICAgICAgIGZ1bmN0aW9uIFRvQm9vbGVhbihhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuICEhYXJndW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEyIFRvU3RyaW5nKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3N0cmluZ1xuICAgICAgICBmdW5jdGlvbiBUb1N0cmluZyhhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyBhcmd1bWVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMTQgVG9Qcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBUb1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gVG9QcmltaXRpdmUoYXJndW1lbnQsIDMgLyogU3RyaW5nICovKTtcbiAgICAgICAgICAgIGlmIChJc1N5bWJvbChrZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICByZXR1cm4gVG9TdHJpbmcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIgVGVzdGluZyBhbmQgQ29tcGFyaXNvbiBPcGVyYXRpb25zXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRlc3RpbmctYW5kLWNvbXBhcmlzb24tb3BlcmF0aW9uc1xuICAgICAgICAvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc2FycmF5XG4gICAgICAgIGZ1bmN0aW9uIElzQXJyYXkoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5XG4gICAgICAgICAgICAgICAgPyBBcnJheS5pc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAgICAgICAgIDogYXJndW1lbnQgaW5zdGFuY2VvZiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgPyBhcmd1bWVudCBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgICAgICAgIDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi4zIElzQ2FsbGFibGUoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY2FsbGFibGVcbiAgICAgICAgZnVuY3Rpb24gSXNDYWxsYWJsZShhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kLlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi40IElzQ29uc3RydWN0b3IoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY29uc3RydWN0b3JcbiAgICAgICAgZnVuY3Rpb24gSXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2QuXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yLjcgSXNQcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNwcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBJc1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKFR5cGUoYXJndW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0IC8qIFN5bWJvbCAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDcuMyBPcGVyYXRpb25zIG9uIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1vYmplY3RzXG4gICAgICAgIC8vIDcuMy45IEdldE1ldGhvZChWLCBQKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1nZXRtZXRob2RcbiAgICAgICAgZnVuY3Rpb24gR2V0TWV0aG9kKFYsIFApIHtcbiAgICAgICAgICAgIHZhciBmdW5jID0gVltQXTtcbiAgICAgICAgICAgIGlmIChmdW5jID09PSB1bmRlZmluZWQgfHwgZnVuYyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCFJc0NhbGxhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNCBPcGVyYXRpb25zIG9uIEl0ZXJhdG9yIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1pdGVyYXRvci1vYmplY3RzXG4gICAgICAgIGZ1bmN0aW9uIEdldEl0ZXJhdG9yKG9iaikge1xuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IEdldE1ldGhvZChvYmosIGl0ZXJhdG9yU3ltYm9sKTtcbiAgICAgICAgICAgIGlmICghSXNDYWxsYWJsZShtZXRob2QpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsgLy8gZnJvbSBDYWxsXG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBtZXRob2QuY2FsbChvYmopO1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdChpdGVyYXRvcikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNC40IEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLzIwMTYvI3NlYy1pdGVyYXRvcnZhbHVlXG4gICAgICAgIGZ1bmN0aW9uIEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJSZXN1bHQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjUgSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pdGVyYXRvcnN0ZXBcbiAgICAgICAgZnVuY3Rpb24gSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gZmFsc2UgOiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXRlcmF0b3JjbG9zZVxuICAgICAgICBmdW5jdGlvbiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgZiA9IGl0ZXJhdG9yW1wicmV0dXJuXCJdO1xuICAgICAgICAgICAgaWYgKGYpXG4gICAgICAgICAgICAgICAgZi5jYWxsKGl0ZXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA5LjEgT3JkaW5hcnkgT2JqZWN0IEludGVybmFsIE1ldGhvZHMgYW5kIEludGVybmFsIFNsb3RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5LW9iamVjdC1pbnRlcm5hbC1tZXRob2RzLWFuZC1pbnRlcm5hbC1zbG90c1xuICAgICAgICAvLyA5LjEuMS4xIE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTylcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3JkaW5hcnlnZXRwcm90b3R5cGVvZlxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pIHtcbiAgICAgICAgICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgTyAhPT0gXCJmdW5jdGlvblwiIHx8IE8gPT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBzZXQgX19wcm90b19fIGluIEVTNSwgYXMgaXQncyBub24tc3RhbmRhcmQuXG4gICAgICAgICAgICAvLyBUcnkgdG8gZGV0ZXJtaW5lIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLiBDb21wYXRpYmxlIGltcGxlbWVudGF0aW9uc1xuICAgICAgICAgICAgLy8gbXVzdCBlaXRoZXIgc2V0IF9fcHJvdG9fXyBvbiBhIHN1YmNsYXNzIGNvbnN0cnVjdG9yIHRvIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgLy8gb3IgZW5zdXJlIGVhY2ggY2xhc3MgaGFzIGEgdmFsaWQgYGNvbnN0cnVjdG9yYCBwcm9wZXJ0eSBvbiBpdHMgcHJvdG90eXBlIHRoYXRcbiAgICAgICAgICAgIC8vIHBvaW50cyBiYWNrIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIEZ1bmN0aW9uLltbUHJvdG90eXBlXV0sIHRoZW4gdGhpcyBpcyBkZWZpbmF0ZWx5IGluaGVyaXRlZC5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBpbiBFUzYgb3Igd2hlbiB1c2luZyBfX3Byb3RvX18gaW4gYSBjb21wYXRpYmxlIGJyb3dzZXIuXG4gICAgICAgICAgICBpZiAocHJvdG8gIT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHRoZSBzdXBlciBwcm90b3R5cGUgaXMgT2JqZWN0LnByb3RvdHlwZSwgbnVsbCwgb3IgdW5kZWZpbmVkLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgdmFyIHByb3RvdHlwZSA9IE8ucHJvdG90eXBlO1xuICAgICAgICAgICAgdmFyIHByb3RvdHlwZVByb3RvID0gcHJvdG90eXBlICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpO1xuICAgICAgICAgICAgaWYgKHByb3RvdHlwZVByb3RvID09IG51bGwgfHwgcHJvdG90eXBlUHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGNvbnN0cnVjdG9yIHdhcyBub3QgYSBmdW5jdGlvbiwgdGhlbiB3ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb3RvdHlwZVByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zdHJ1Y3RvciAhPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgc29tZSBraW5kIG9mIHNlbGYtcmVmZXJlbmNlLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgaWYgKGNvbnN0cnVjdG9yID09PSBPKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYSBwcmV0dHkgZ29vZCBndWVzcyBhdCB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgTWFwIHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgY2FjaGVTZW50aW5lbCA9IHt9O1xuICAgICAgICAgICAgdmFyIGFycmF5U2VudGluZWwgPSBbXTtcbiAgICAgICAgICAgIHZhciBNYXBJdGVyYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXBJdGVyYXRvcihrZXlzLCB2YWx1ZXMsIHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuX2tleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fc2VsZWN0b3IodGhpcy5fa2V5c1tpbmRleF0sIHRoaXMuX3ZhbHVlc1tpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICsgMSA+PSB0aGlzLl9rZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWFwSXRlcmF0b3I7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlS2V5ID0gY2FjaGVTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9rZXlzLmxlbmd0aDsgfSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyBmYWxzZSkgPj0gMDsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggPj0gMCA/IHRoaXMuX3ZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5fa2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5c1tpIC0gMV0gPSB0aGlzLl9rZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpIC0gMV0gPSB0aGlzLl92YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5fY2FjaGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUtleSA9IGNhY2hlU2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVLZXkgPSBjYWNoZVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gLTI7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcy5fa2V5cywgdGhpcy5fdmFsdWVzLCBnZXRLZXkpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcywgZ2V0VmFsdWUpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMsIGdldEVudHJ5KTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZW50cmllcygpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5fZmluZCA9IGZ1bmN0aW9uIChrZXksIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVLZXkgIT09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMuaW5kZXhPZih0aGlzLl9jYWNoZUtleSA9IGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlSW5kZXggPCAwICYmIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUluZGV4O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hcDtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRLZXkoa2V5LCBfKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFZhbHVlKF8sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RW50cnkoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBba2V5LCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgU2V0IHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlU2V0UG9seWZpbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFNldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldC5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnNpemU7IH0sXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuaGFzKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdGhpcy5fbWFwLnNldCh2YWx1ZSwgdmFsdWUpLCB0aGlzOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuZGVsZXRlKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9tYXAuY2xlYXIoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnZhbHVlcygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZVtcIkBAaXRlcmF0b3JcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmtleXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBTZXQ7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5haXZlIFdlYWtNYXAgc2hpbVxuICAgICAgICBmdW5jdGlvbiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgVVVJRF9TSVpFID0gMTY7XG4gICAgICAgICAgICB2YXIga2V5cyA9IEhhc2hNYXAuY3JlYXRlKCk7XG4gICAgICAgICAgICB2YXIgcm9vdEtleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBXZWFrTWFwKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXkgPSBDcmVhdGVVbmlxdWVLZXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUgIT09IHVuZGVmaW5lZCA/IEhhc2hNYXAuaGFzKHRhYmxlLCB0aGlzLl9rZXkpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gSGFzaE1hcC5nZXQodGFibGUsIHRoaXMuX2tleSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlW3RoaXMuX2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gZGVsZXRlIHRhYmxlW3RoaXMuX2tleV0gOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBub3QgYSByZWFsIGNsZWFyLCBqdXN0IG1ha2VzIHRoZSBwcmV2aW91cyBkYXRhIHVucmVhY2hhYmxlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFdlYWtNYXA7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlVW5pcXVlS2V5KCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXk7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgICAga2V5ID0gXCJAQFdlYWtNYXBAQFwiICsgQ3JlYXRlVVVJRCgpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChIYXNoTWFwLmhhcyhrZXlzLCBrZXkpKTtcbiAgICAgICAgICAgICAgICBrZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIGNyZWF0ZSkge1xuICAgICAgICAgICAgICAgIGlmICghaGFzT3duLmNhbGwodGFyZ2V0LCByb290S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyZWF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHJvb3RLZXksIHsgdmFsdWU6IEhhc2hNYXAuY3JlYXRlKCkgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcm9vdEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBGaWxsUmFuZG9tQnl0ZXMoYnVmZmVyLCBzaXplKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcltpXSA9IE1hdGgucmFuZG9tKCkgKiAweGZmIHwgMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gR2VuUmFuZG9tQnl0ZXMoc2l6ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgVWludDhBcnJheSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShzaXplKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGaWxsUmFuZG9tQnl0ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSksIHNpemUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gRmlsbFJhbmRvbUJ5dGVzKG5ldyBBcnJheShzaXplKSwgc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVVVUlEKCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gR2VuUmFuZG9tQnl0ZXMoVVVJRF9TSVpFKTtcbiAgICAgICAgICAgICAgICAvLyBtYXJrIGFzIHJhbmRvbSAtIFJGQyA0MTIyIMKnIDQuNFxuICAgICAgICAgICAgICAgIGRhdGFbNl0gPSBkYXRhWzZdICYgMHg0ZiB8IDB4NDA7XG4gICAgICAgICAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gJiAweGJmIHwgMHg4MDtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBVVUlEX1NJWkU7ICsrb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBieXRlID0gZGF0YVtvZmZzZXRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID09PSA0IHx8IG9mZnNldCA9PT0gNiB8fCBvZmZzZXQgPT09IDgpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCItXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChieXRlIDwgMTYpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCIwXCI7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBieXRlLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHVzZXMgYSBoZXVyaXN0aWMgdXNlZCBieSB2OCBhbmQgY2hha3JhIHRvIGZvcmNlIGFuIG9iamVjdCBpbnRvIGRpY3Rpb25hcnkgbW9kZS5cbiAgICAgICAgZnVuY3Rpb24gTWFrZURpY3Rpb25hcnkob2JqKSB7XG4gICAgICAgICAgICBvYmouX18gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBkZWxldGUgb2JqLl9fO1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoUmVmbGVjdCB8fCAoUmVmbGVjdCA9IHt9KSk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IFRva2VuIH0gZnJvbSAnLi4vdG9rZW4uY2xhc3MnO1xuLyoqXG4gKiBUaHJvd24gd2hlbiByZXF1ZXN0ZWQgc2VydmljZSB3YXMgbm90IGZvdW5kLlxuICovXG52YXIgU2VydmljZU5vdEZvdW5kRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNlcnZpY2VOb3RGb3VuZEVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNlcnZpY2VOb3RGb3VuZEVycm9yKGlkZW50aWZpZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubmFtZSA9ICdTZXJ2aWNlTm90Rm91bmRFcnJvcic7XG4gICAgICAgIC8qKiBOb3JtYWxpemVkIGlkZW50aWZpZXIgbmFtZSB1c2VkIGluIHRoZSBlcnJvciBtZXNzYWdlLiAqL1xuICAgICAgICBfdGhpcy5ub3JtYWxpemVkSWRlbnRpZmllciA9ICc8VU5LTk9XTl9JREVOVElGSUVSPic7XG4gICAgICAgIGlmICh0eXBlb2YgaWRlbnRpZmllciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID0gaWRlbnRpZmllcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpZGVudGlmaWVyIGluc3RhbmNlb2YgVG9rZW4pIHtcbiAgICAgICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID0gXCJUb2tlbjxcIiArIChpZGVudGlmaWVyLm5hbWUgfHwgJ1VOU0VUX05BTUUnKSArIFwiPlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlkZW50aWZpZXIgJiYgKGlkZW50aWZpZXIubmFtZSB8fCAoKF9hID0gaWRlbnRpZmllci5wcm90b3R5cGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lKSkpIHtcbiAgICAgICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID1cbiAgICAgICAgICAgICAgICBcIk1heWJlQ29uc3RydWN0YWJsZTxcIiArIGlkZW50aWZpZXIubmFtZSArIFwiPlwiIHx8XG4gICAgICAgICAgICAgICAgICAgIFwiTWF5YmVDb25zdHJ1Y3RhYmxlPFwiICsgKChfYiA9IGlkZW50aWZpZXIucHJvdG90eXBlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubmFtZSkgKyBcIj5cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXJ2aWNlTm90Rm91bmRFcnJvci5wcm90b3R5cGUsIFwibWVzc2FnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIChcIlNlcnZpY2Ugd2l0aCBcXFwiXCIgKyB0aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyICsgXCJcXFwiIGlkZW50aWZpZXIgd2FzIG5vdCBmb3VuZCBpbiB0aGUgY29udGFpbmVyLiBcIiArXG4gICAgICAgICAgICAgICAgXCJSZWdpc3RlciBpdCBiZWZvcmUgdXNhZ2UgdmlhIGV4cGxpY2l0bHkgY2FsbGluZyB0aGUgXFxcIkNvbnRhaW5lci5zZXRcXFwiIGZ1bmN0aW9uIG9yIHVzaW5nIHRoZSBcXFwiQFNlcnZpY2UoKVxcXCIgZGVjb3JhdG9yLlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTZXJ2aWNlTm90Rm91bmRFcnJvcjtcbn0oRXJyb3IpKTtcbmV4cG9ydCB7IFNlcnZpY2VOb3RGb3VuZEVycm9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJ2aWNlLW5vdC1mb3VuZC5lcnJvci5qcy5tYXAiLCJpbXBvcnQgYXBpIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2dhbWUuY3NzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307IiwiLyoqXG4gKiBVc2VkIHRvIGNyZWF0ZSB1bmlxdWUgdHlwZWQgc2VydmljZSBpZGVudGlmaWVyLlxuICogVXNlZnVsIHdoZW4gc2VydmljZSBoYXMgb25seSBpbnRlcmZhY2UsIGJ1dCBkb24ndCBoYXZlIGEgY2xhc3MuXG4gKi9cbnZhciBUb2tlbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbmFtZSBUb2tlbiBuYW1lLCBvcHRpb25hbCBhbmQgb25seSB1c2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVG9rZW4obmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICByZXR1cm4gVG9rZW47XG59KCkpO1xuZXhwb3J0IHsgVG9rZW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRva2VuLmNsYXNzLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJy4uL3Rva2VuLmNsYXNzJztcbi8qKlxuICogVGhyb3duIHdoZW4gREkgY2Fubm90IGluamVjdCB2YWx1ZSBpbnRvIHByb3BlcnR5IGRlY29yYXRlZCBieSBASW5qZWN0IGRlY29yYXRvci5cbiAqL1xudmFyIENhbm5vdEluc3RhbnRpYXRlVmFsdWVFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2Fubm90SW5zdGFudGlhdGVWYWx1ZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENhbm5vdEluc3RhbnRpYXRlVmFsdWVFcnJvcihpZGVudGlmaWVyKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm5hbWUgPSAnQ2Fubm90SW5zdGFudGlhdGVWYWx1ZUVycm9yJztcbiAgICAgICAgLyoqIE5vcm1hbGl6ZWQgaWRlbnRpZmllciBuYW1lIHVzZWQgaW4gdGhlIGVycm9yIG1lc3NhZ2UuICovXG4gICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID0gJzxVTktOT1dOX0lERU5USUZJRVI+JztcbiAgICAgICAgLy8gVE9ETzogRXh0cmFjdCB0aGlzIHRvIGEgaGVscGVyIGZ1bmN0aW9uIGFuZCBzaGFyZSBiZXR3ZWVuIHRoaXMgYW5kIE5vdEZvdW5kRXJyb3IuXG4gICAgICAgIGlmICh0eXBlb2YgaWRlbnRpZmllciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID0gaWRlbnRpZmllcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpZGVudGlmaWVyIGluc3RhbmNlb2YgVG9rZW4pIHtcbiAgICAgICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID0gXCJUb2tlbjxcIiArIChpZGVudGlmaWVyLm5hbWUgfHwgJ1VOU0VUX05BTUUnKSArIFwiPlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlkZW50aWZpZXIgJiYgKGlkZW50aWZpZXIubmFtZSB8fCAoKF9hID0gaWRlbnRpZmllci5wcm90b3R5cGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lKSkpIHtcbiAgICAgICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID1cbiAgICAgICAgICAgICAgICBcIk1heWJlQ29uc3RydWN0YWJsZTxcIiArIGlkZW50aWZpZXIubmFtZSArIFwiPlwiIHx8XG4gICAgICAgICAgICAgICAgICAgIFwiTWF5YmVDb25zdHJ1Y3RhYmxlPFwiICsgKChfYiA9IGlkZW50aWZpZXIucHJvdG90eXBlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubmFtZSkgKyBcIj5cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW5ub3RJbnN0YW50aWF0ZVZhbHVlRXJyb3IucHJvdG90eXBlLCBcIm1lc3NhZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAoXCJDYW5ub3QgaW5zdGFudGlhdGUgdGhlIHJlcXVlc3RlZCB2YWx1ZSBmb3IgdGhlIFxcXCJcIiArIHRoaXMubm9ybWFsaXplZElkZW50aWZpZXIgKyBcIlxcXCIgaWRlbnRpZmllci4gXCIgK1xuICAgICAgICAgICAgICAgIFwiVGhlIHJlbGF0ZWQgbWV0YWRhdGEgZG9lc24ndCBjb250YWluIGEgZmFjdG9yeSBvciBhIHR5cGUgdG8gaW5zdGFudGlhdGUuXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENhbm5vdEluc3RhbnRpYXRlVmFsdWVFcnJvcjtcbn0oRXJyb3IpKTtcbmV4cG9ydCB7IENhbm5vdEluc3RhbnRpYXRlVmFsdWVFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2Fubm90LWluc3RhbnRpYXRlLXZhbHVlLmVycm9yLmpzLm1hcCIsImV4cG9ydCB2YXIgRU1QVFlfVkFMVUUgPSBTeW1ib2woJ0VNUFRZX1ZBTFVFJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbXB0eS5jb25zdC5qcy5tYXAiLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fc3ByZWFkQXJyYXlzID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5cykgfHwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcbiAgICByZXR1cm4gcjtcbn07XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuL2NvbnRhaW5lci5jbGFzcyc7XG5pbXBvcnQgeyBTZXJ2aWNlTm90Rm91bmRFcnJvciB9IGZyb20gJy4vZXJyb3Ivc2VydmljZS1ub3QtZm91bmQuZXJyb3InO1xuaW1wb3J0IHsgQ2Fubm90SW5zdGFudGlhdGVWYWx1ZUVycm9yIH0gZnJvbSAnLi9lcnJvci9jYW5ub3QtaW5zdGFudGlhdGUtdmFsdWUuZXJyb3InO1xuaW1wb3J0IHsgVG9rZW4gfSBmcm9tICcuL3Rva2VuLmNsYXNzJztcbmltcG9ydCB7IEVNUFRZX1ZBTFVFIH0gZnJvbSAnLi9lbXB0eS5jb25zdCc7XG4vKipcbiAqIFR5cGVESSBjYW4gaGF2ZSBtdWx0aXBsZSBjb250YWluZXJzLlxuICogT25lIGNvbnRhaW5lciBpcyBDb250YWluZXJJbnN0YW5jZS5cbiAqL1xudmFyIENvbnRhaW5lckluc3RhbmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lckluc3RhbmNlKGlkKSB7XG4gICAgICAgIC8qKiBBbGwgcmVnaXN0ZXJlZCBzZXJ2aWNlcyBpbiB0aGUgY29udGFpbmVyLiAqL1xuICAgICAgICB0aGlzLnNlcnZpY2VzID0gW107XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG4gICAgQ29udGFpbmVySW5zdGFuY2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuZmluZFNlcnZpY2UoaWRlbnRpZmllcik7XG4gICAgfTtcbiAgICBDb250YWluZXJJbnN0YW5jZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcbiAgICAgICAgdmFyIGdsb2JhbENvbnRhaW5lciA9IENvbnRhaW5lci5vZih1bmRlZmluZWQpO1xuICAgICAgICB2YXIgZ2xvYmFsU2VydmljZSA9IGdsb2JhbENvbnRhaW5lci5maW5kU2VydmljZShpZGVudGlmaWVyKTtcbiAgICAgICAgdmFyIHNjb3BlZFNlcnZpY2UgPSB0aGlzLmZpbmRTZXJ2aWNlKGlkZW50aWZpZXIpO1xuICAgICAgICBpZiAoZ2xvYmFsU2VydmljZSAmJiBnbG9iYWxTZXJ2aWNlLmdsb2JhbCA9PT0gdHJ1ZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNlcnZpY2VWYWx1ZShnbG9iYWxTZXJ2aWNlKTtcbiAgICAgICAgaWYgKHNjb3BlZFNlcnZpY2UpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZXJ2aWNlVmFsdWUoc2NvcGVkU2VydmljZSk7XG4gICAgICAgIC8qKiBJZiBpdCdzIHRoZSBmaXJzdCB0aW1lIHJlcXVlc3RlZCBpbiB0aGUgY2hpbGQgY29udGFpbmVyIHdlIGxvYWQgaXQgZnJvbSBwYXJlbnQgYW5kIHNldCBpdC4gKi9cbiAgICAgICAgaWYgKGdsb2JhbFNlcnZpY2UgJiYgdGhpcyAhPT0gZ2xvYmFsQ29udGFpbmVyKSB7XG4gICAgICAgICAgICB2YXIgY2xvbmVkU2VydmljZSA9IF9fYXNzaWduKHt9LCBnbG9iYWxTZXJ2aWNlKTtcbiAgICAgICAgICAgIGNsb25lZFNlcnZpY2UudmFsdWUgPSBFTVBUWV9WQUxVRTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2UgbmVlZCB0byBpbW1lZGlhdGVseSBzZXQgdGhlIGVtcHR5IHZhbHVlIGZyb20gdGhlIHJvb3QgY29udGFpbmVyXG4gICAgICAgICAgICAgKiB0byBwcmV2ZW50IGluZmluaXRlIGxvb2t1cCBpbiBjeWNsaWMgZGVwZW5kZW5jaWVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnNldChjbG9uZWRTZXJ2aWNlKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0U2VydmljZVZhbHVlKGNsb25lZFNlcnZpY2UpO1xuICAgICAgICAgICAgdGhpcy5zZXQoX19hc3NpZ24oX19hc3NpZ24oe30sIGNsb25lZFNlcnZpY2UpLCB7IHZhbHVlOiB2YWx1ZSB9KSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsb2JhbFNlcnZpY2UpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZXJ2aWNlVmFsdWUoZ2xvYmFsU2VydmljZSk7XG4gICAgICAgIHRocm93IG5ldyBTZXJ2aWNlTm90Rm91bmRFcnJvcihpZGVudGlmaWVyKTtcbiAgICB9O1xuICAgIENvbnRhaW5lckluc3RhbmNlLnByb3RvdHlwZS5nZXRNYW55ID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEFsbFNlcnZpY2VzKGlkZW50aWZpZXIpLm1hcChmdW5jdGlvbiAoc2VydmljZSkgeyByZXR1cm4gX3RoaXMuZ2V0U2VydmljZVZhbHVlKHNlcnZpY2UpOyB9KTtcbiAgICB9O1xuICAgIENvbnRhaW5lckluc3RhbmNlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaWRlbnRpZmllck9yU2VydmljZU1ldGFkYXRhLCB2YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoaWRlbnRpZmllck9yU2VydmljZU1ldGFkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGlkZW50aWZpZXJPclNlcnZpY2VNZXRhZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBfdGhpcy5zZXQoZGF0YSk7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBpZGVudGlmaWVyT3JTZXJ2aWNlTWV0YWRhdGEgPT09ICdzdHJpbmcnIHx8IGlkZW50aWZpZXJPclNlcnZpY2VNZXRhZGF0YSBpbnN0YW5jZW9mIFRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXQoe1xuICAgICAgICAgICAgICAgIGlkOiBpZGVudGlmaWVyT3JTZXJ2aWNlTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgdHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgZmFjdG9yeTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGdsb2JhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVhZ2VyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0cmFuc2llbnQ6IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBpZGVudGlmaWVyT3JTZXJ2aWNlTWV0YWRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldCh7XG4gICAgICAgICAgICAgICAgaWQ6IGlkZW50aWZpZXJPclNlcnZpY2VNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgZXhwbGljaXQgY2FzdGluZ1xuICAgICAgICAgICAgICAgIHR5cGU6IGlkZW50aWZpZXJPclNlcnZpY2VNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgZmFjdG9yeTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGdsb2JhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVhZ2VyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0cmFuc2llbnQ6IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld1NlcnZpY2UgPSBfX2Fzc2lnbih7IGlkOiBuZXcgVG9rZW4oJ1VOUkVBQ0hBQkxFJyksIHR5cGU6IG51bGwsIGZhY3Rvcnk6IHVuZGVmaW5lZCwgdmFsdWU6IEVNUFRZX1ZBTFVFLCBnbG9iYWw6IGZhbHNlLCBtdWx0aXBsZTogZmFsc2UsIGVhZ2VyOiBmYWxzZSwgdHJhbnNpZW50OiBmYWxzZSB9LCBpZGVudGlmaWVyT3JTZXJ2aWNlTWV0YWRhdGEpO1xuICAgICAgICB2YXIgc2VydmljZSA9IHRoaXMuZmluZFNlcnZpY2UobmV3U2VydmljZS5pZCk7XG4gICAgICAgIGlmIChzZXJ2aWNlICYmIHNlcnZpY2UubXVsdGlwbGUgIT09IHRydWUpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2VydmljZSwgbmV3U2VydmljZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlcnZpY2VzLnB1c2gobmV3U2VydmljZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld1NlcnZpY2UuZWFnZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0KG5ld1NlcnZpY2UuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBzZXJ2aWNlcyB3aXRoIGEgZ2l2ZW4gc2VydmljZSBpZGVudGlmaWVycy5cbiAgICAgKi9cbiAgICBDb250YWluZXJJbnN0YW5jZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGlkZW50aWZpZXJPcklkZW50aWZpZXJBcnJheSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpZGVudGlmaWVyT3JJZGVudGlmaWVyQXJyYXkpKSB7XG4gICAgICAgICAgICBpZGVudGlmaWVyT3JJZGVudGlmaWVyQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIF90aGlzLnJlbW92ZShpZCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlcyA9IHRoaXMuc2VydmljZXMuZmlsdGVyKGZ1bmN0aW9uIChzZXJ2aWNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2UuaWQgPT09IGlkZW50aWZpZXJPcklkZW50aWZpZXJBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0cm95U2VydmljZUluc3RhbmNlKHNlcnZpY2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wbGV0ZWx5IHJlc2V0cyB0aGUgY29udGFpbmVyIGJ5IHJlbW92aW5nIGFsbCBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgc2VydmljZXMgZnJvbSBpdC5cbiAgICAgKi9cbiAgICBDb250YWluZXJJbnN0YW5jZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0cmF0ZWd5OiAncmVzZXRWYWx1ZScgfTsgfVxuICAgICAgICBzd2l0Y2ggKG9wdGlvbnMuc3RyYXRlZ3kpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Jlc2V0VmFsdWUnOlxuICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZXMuZm9yRWFjaChmdW5jdGlvbiAoc2VydmljZSkgeyByZXR1cm4gX3RoaXMuZGVzdHJveVNlcnZpY2VJbnN0YW5jZShzZXJ2aWNlKTsgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyZXNldFNlcnZpY2VzJzpcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZpY2VzLmZvckVhY2goZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuIF90aGlzLmRlc3Ryb3lTZXJ2aWNlSW5zdGFuY2Uoc2VydmljZSk7IH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWNlaXZlZCBpbnZhbGlkIHJlc2V0IHN0cmF0ZWd5LicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgc2VydmljZXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBnaXZlbiBpZGVudGlmaWVyLlxuICAgICAqL1xuICAgIENvbnRhaW5lckluc3RhbmNlLnByb3RvdHlwZS5maW5kQWxsU2VydmljZXMgPSBmdW5jdGlvbiAoaWRlbnRpZmllcikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlcy5maWx0ZXIoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuIHNlcnZpY2UuaWQgPT09IGlkZW50aWZpZXI7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluZHMgcmVnaXN0ZXJlZCBzZXJ2aWNlIGluIHRoZSB3aXRoIGEgZ2l2ZW4gc2VydmljZSBpZGVudGlmaWVyLlxuICAgICAqL1xuICAgIENvbnRhaW5lckluc3RhbmNlLnByb3RvdHlwZS5maW5kU2VydmljZSA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VzLmZpbmQoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuIHNlcnZpY2UuaWQgPT09IGlkZW50aWZpZXI7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYmVsb25naW5nIHRvIGBzZXJ2aWNlTWV0YWRhdGEuaWRgLlxuICAgICAqXG4gICAgICogLSBpZiBgc2VydmljZU1ldGFkYXRhLnZhbHVlYCBpcyBhbHJlYWR5IHNldCBpdCBpcyBpbW1lZGlhdGVseSByZXR1cm5lZFxuICAgICAqIC0gb3RoZXJ3aXNlIHRoZSByZXF1ZXN0ZWQgdHlwZSBpcyByZXNvbHZlZCB0byB0aGUgdmFsdWUgc2F2ZWQgdG8gYHNlcnZpY2VNZXRhZGF0YS52YWx1ZWAgYW5kIHJldHVybmVkXG4gICAgICovXG4gICAgQ29udGFpbmVySW5zdGFuY2UucHJvdG90eXBlLmdldFNlcnZpY2VWYWx1ZSA9IGZ1bmN0aW9uIChzZXJ2aWNlTWV0YWRhdGEpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgdmFsdWUgPSBFTVBUWV9WQUxVRTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBzZXJ2aWNlIHZhbHVlIGhhcyBiZWVuIHNldCB0byBhbnl0aGluZyBwcmlvciB0byB0aGlzIGNhbGwgd2UgcmV0dXJuIHRoYXQgdmFsdWUuXG4gICAgICAgICAqIE5PVEU6IFRoaXMgcGFydCBidWlsZHMgb24gdGhlIGFzc3VtcHRpb24gdGhhdCB0cmFuc2llbnQgZGVwZW5kZW5jaWVzIGhhcyBubyB2YWx1ZSBzZXQgZXZlci5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChzZXJ2aWNlTWV0YWRhdGEudmFsdWUgIT09IEVNUFRZX1ZBTFVFKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VydmljZU1ldGFkYXRhLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBJZiBib3RoIGZhY3RvcnkgYW5kIHR5cGUgaXMgbWlzc2luZywgd2UgY2Fubm90IHJlc29sdmUgdGhlIHJlcXVlc3RlZCBJRC4gKi9cbiAgICAgICAgaWYgKCFzZXJ2aWNlTWV0YWRhdGEuZmFjdG9yeSAmJiAhc2VydmljZU1ldGFkYXRhLnR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDYW5ub3RJbnN0YW50aWF0ZVZhbHVlRXJyb3Ioc2VydmljZU1ldGFkYXRhLmlkKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYSBmYWN0b3J5IGlzIGRlZmluZWQgaXQgdGFrZXMgcHJpb3JpdHkgb3ZlciBjcmVhdGluZyBhbiBpbnN0YW5jZSB2aWEgYG5ld2AuXG4gICAgICAgICAqIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZhY3RvcnkgaXMgbm90IGNoZWNrZWQsIHdlIGJlbGlldmUgYnkgZGVzaWduIHRoYXQgdGhlIHVzZXIga25vd3Mgd2hhdCBoZS9zaGUgaXMgZG9pbmcuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoc2VydmljZU1ldGFkYXRhLmZhY3RvcnkpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UgcmVjZWl2ZWQgdGhlIGZhY3RvcnkgaW4gdGhlIFtDb25zdHJ1Y3RhYmxlPEZhY3Rvcnk+LCBcImZ1bmN0aW9uTmFtZVwiXSBmb3JtYXQsIHdlIG5lZWQgdG8gY3JlYXRlIHRoZVxuICAgICAgICAgICAgICogZmFjdG9yeSBmaXJzdCBhbmQgdGhlbiBjYWxsIHRoZSBzcGVjaWZpZWQgZnVuY3Rpb24gb24gaXQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChzZXJ2aWNlTWV0YWRhdGEuZmFjdG9yeSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGZhY3RvcnlJbnN0YW5jZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvKiogVHJ5IHRvIGdldCB0aGUgZmFjdG9yeSBmcm9tIFR5cGVESSBmaXJzdCwgaWYgZmFpbGVkLCBmYWxsIGJhY2sgdG8gc2ltcGx5IGluaXRpYXRpbmcgdGhlIGNsYXNzLiAqL1xuICAgICAgICAgICAgICAgICAgICBmYWN0b3J5SW5zdGFuY2UgPSB0aGlzLmdldChzZXJ2aWNlTWV0YWRhdGEuZmFjdG9yeVswXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBTZXJ2aWNlTm90Rm91bmRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFjdG9yeUluc3RhbmNlID0gbmV3IHNlcnZpY2VNZXRhZGF0YS5mYWN0b3J5WzBdKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGZhY3RvcnlJbnN0YW5jZVtzZXJ2aWNlTWV0YWRhdGEuZmFjdG9yeVsxXV0odGhpcywgc2VydmljZU1ldGFkYXRhLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKiBJZiBvbmx5IGEgc2ltcGxlIGZ1bmN0aW9uIHdhcyBwcm92aWRlZCB3ZSBzaW1wbHkgY2FsbCBpdC4gKi9cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHNlcnZpY2VNZXRhZGF0YS5mYWN0b3J5KHRoaXMsIHNlcnZpY2VNZXRhZGF0YS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIG5vIGZhY3Rvcnkgd2FzIHByb3ZpZGVkIGFuZCBvbmx5IHRoZW4sIHdlIGNyZWF0ZSB0aGUgaW5zdGFuY2UgZnJvbSB0aGUgdHlwZSBpZiBpdCB3YXMgc2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFzZXJ2aWNlTWV0YWRhdGEuZmFjdG9yeSAmJiBzZXJ2aWNlTWV0YWRhdGEudHlwZSkge1xuICAgICAgICAgICAgdmFyIGNvbnN0cnVjdGFibGVUYXJnZXRUeXBlID0gc2VydmljZU1ldGFkYXRhLnR5cGU7XG4gICAgICAgICAgICAvLyBzZXR1cCBjb25zdHJ1Y3RvciBwYXJhbWV0ZXJzIGZvciBhIG5ld2x5IGluaXRpYWxpemVkIHNlcnZpY2VcbiAgICAgICAgICAgIHZhciBwYXJhbVR5cGVzID0gKChfYSA9IFJlZmxlY3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRNZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBjb25zdHJ1Y3RhYmxlVGFyZ2V0VHlwZSkpIHx8IFtdO1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuaW5pdGlhbGl6ZVBhcmFtcyhjb25zdHJ1Y3RhYmxlVGFyZ2V0VHlwZSwgcGFyYW1UeXBlcyk7XG4gICAgICAgICAgICAvLyBcImV4dHJhIGZlYXR1cmVcIiAtIGFsd2F5cyBwYXNzIGNvbnRhaW5lciBpbnN0YW5jZSBhcyB0aGUgbGFzdCBhcmd1bWVudCB0byB0aGUgc2VydmljZSBmdW5jdGlvblxuICAgICAgICAgICAgLy8gdGhpcyBhbGxvd3MgdXMgdG8gc3VwcG9ydCBqYXZhc2NyaXB0IHdoZXJlIHdlIGRvbid0IGhhdmUgZGVjb3JhdG9ycyBhbmQgZW1pdHRlZCBtZXRhZGF0YSBhYm91dCBkZXBlbmRlbmNpZXNcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gYmUgaW5qZWN0ZWQsIGFuZCB1c2VyIGNhbiB1c2UgcHJvdmlkZWQgY29udGFpbmVyIHRvIGdldCBpbnN0YW5jZXMgaGUgbmVlZHNcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgdmFsdWUgPSBuZXcgKGNvbnN0cnVjdGFibGVUYXJnZXRUeXBlLmJpbmQuYXBwbHkoY29uc3RydWN0YWJsZVRhcmdldFR5cGUsIF9fc3ByZWFkQXJyYXlzKFt2b2lkIDBdLCBwYXJhbXMpKSkoKTtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbGxpbmcgdGhpcyBoZXJlLCBsZWFkcyB0byBpbmZpbml0ZSBsb29wLCBiZWNhdXNlIEBJbmplY3QgZGVjb3JhdG9yIHJlZ2lzdGVyZHMgYSBoYW5kbGVyXG4gICAgICAgICAgICAvLyBUT0RPOiB3aGljaCBjYWxscyBDb250YWluZXIuZ2V0LCB3aGljaCB3aWxsIGNoZWNrIGlmIHRoZSByZXF1ZXN0ZWQgdHlwZSBoYXMgYSB2YWx1ZSBzZXQgYW5kIGlmIG5vdFxuICAgICAgICAgICAgLy8gVE9ETzogaXQgd2lsbCBzdGFydCB0aGUgaW5zdGFudGlhdGlvbiBwcm9jZXNzIG92ZXIuIFNvIHRoaXMgaXMgY3VycmVudGx5IGNhbGxlZCBvdXRzaWRlIG9mIHRoZSBpZiBicmFuY2hcbiAgICAgICAgICAgIC8vIFRPRE86IGFmdGVyIHRoZSBjdXJyZW50IHZhbHVlIGhhcyBiZWVuIGFzc2lnbmVkIHRvIHRoZSBzZXJ2aWNlTWV0YWRhdGEuXG4gICAgICAgICAgICAvLyB0aGlzLmFwcGx5UHJvcGVydHlIYW5kbGVycyhjb25zdHJ1Y3RhYmxlVGFyZ2V0VHlwZSwgdmFsdWUgYXMgQ29uc3RydWN0YWJsZTx1bmtub3duPik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIElmIHRoaXMgaXMgbm90IGEgdHJhbnNpZW50IHNlcnZpY2UsIGFuZCB3ZSByZXNvbHZlZCBzb21ldGhpbmcsIHRoZW4gd2Ugc2V0IGl0IGFzIHRoZSB2YWx1ZS4gKi9cbiAgICAgICAgaWYgKCFzZXJ2aWNlTWV0YWRhdGEudHJhbnNpZW50ICYmIHZhbHVlICE9PSBFTVBUWV9WQUxVRSkge1xuICAgICAgICAgICAgc2VydmljZU1ldGFkYXRhLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09PSBFTVBUWV9WQUxVRSkge1xuICAgICAgICAgICAgLyoqIFRoaXMgYnJhbmNoIHNob3VsZCBuZXZlciBleGVjdXRlLCBidXQgYmV0dGVyIHRvIGJlIHNhZmUgdGhhbiBzb3JyeS4gKi9cbiAgICAgICAgICAgIHRocm93IG5ldyBDYW5ub3RJbnN0YW50aWF0ZVZhbHVlRXJyb3Ioc2VydmljZU1ldGFkYXRhLmlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VydmljZU1ldGFkYXRhLnR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQcm9wZXJ0eUhhbmRsZXJzKHNlcnZpY2VNZXRhZGF0YS50eXBlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYWxsIHBhcmFtZXRlciB0eXBlcyBmb3IgYSBnaXZlbiB0YXJnZXQgc2VydmljZSBjbGFzcy5cbiAgICAgKi9cbiAgICBDb250YWluZXJJbnN0YW5jZS5wcm90b3R5cGUuaW5pdGlhbGl6ZVBhcmFtcyA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmFtVHlwZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHBhcmFtVHlwZXMubWFwKGZ1bmN0aW9uIChwYXJhbVR5cGUsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1IYW5kbGVyID0gQ29udGFpbmVyLmhhbmRsZXJzLmZpbmQoZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBASW5qZWN0KCktZWQgdmFsdWVzIGFyZSBzdG9yZWQgYXMgcGFyYW1ldGVyIGhhbmRsZXJzIGFuZCB0aGV5IHJlZmVyZW5jZSB0aGVpciB0YXJnZXRcbiAgICAgICAgICAgICAgICAgKiB3aGVuIGNyZWF0ZWQuIFNvIHdoZW4gYSBjbGFzcyBpcyBleHRlbmRlZCB0aGUgQEluamVjdCgpLWVkIHZhbHVlcyBhcmUgbm90IGluaGVyaXRlZFxuICAgICAgICAgICAgICAgICAqIGJlY2F1c2UgdGhlIGhhbmRsZXIgc3RpbGwgcG9pbnRzIHRvIHRoZSBvbGQgb2JqZWN0IG9ubHkuXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBBcyBhIHF1aWNrIGZpeCBhIHNpbmdsZSBsZXZlbCBwYXJlbnQgbG9va3VwIGlzIGFkZGVkIHZpYSBgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldClgLFxuICAgICAgICAgICAgICAgICAqIGhvd2V2ZXIgdGhpcyBzaG91bGQgYmUgdXBkYXRlZCB0byBhIG1vcmUgcm9idXN0IHNvbHV0aW9uLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogVE9ETzogQWRkIHByb3BlciBpbmhlcml0YW5jZSBoYW5kbGluZzogZWl0aGVyIGNvcHkgdGhlIGhhbmRsZXJzIHdoZW4gYSBjbGFzcyBpcyByZWdpc3RlcmVkIHdoYXRcbiAgICAgICAgICAgICAgICAgKiBUT0RPOiBoYXMgaXQncyBwYXJlbnQgYWxyZWFkeSByZWdpc3RlcmVkIGFzIGRlcGVuZGVuY3kgb3IgbWFrZSB0aGUgbG9va3VwIHNlYXJjaCB1cCB0byB0aGUgYmFzZSBPYmplY3QuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcmV0dXJuICgoaGFuZGxlci5vYmplY3QgPT09IHRhcmdldCB8fCBoYW5kbGVyLm9iamVjdCA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCkpICYmIGhhbmRsZXIuaW5kZXggPT09IGluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHBhcmFtSGFuZGxlcilcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1IYW5kbGVyLnZhbHVlKF90aGlzKTtcbiAgICAgICAgICAgIGlmIChwYXJhbVR5cGUgJiYgcGFyYW1UeXBlLm5hbWUgJiYgIV90aGlzLmlzUHJpbWl0aXZlUGFyYW1UeXBlKHBhcmFtVHlwZS5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXQocGFyYW1UeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGdpdmVuIHBhcmFtZXRlciB0eXBlIGlzIHByaW1pdGl2ZSB0eXBlIG9yIG5vdC5cbiAgICAgKi9cbiAgICBDb250YWluZXJJbnN0YW5jZS5wcm90b3R5cGUuaXNQcmltaXRpdmVQYXJhbVR5cGUgPSBmdW5jdGlvbiAocGFyYW1UeXBlTmFtZSkge1xuICAgICAgICByZXR1cm4gWydzdHJpbmcnLCAnYm9vbGVhbicsICdudW1iZXInLCAnb2JqZWN0J10uaW5jbHVkZXMocGFyYW1UeXBlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYWxsIHJlZ2lzdGVyZWQgaGFuZGxlcnMgb24gYSBnaXZlbiB0YXJnZXQgY2xhc3MuXG4gICAgICovXG4gICAgQ29udGFpbmVySW5zdGFuY2UucHJvdG90eXBlLmFwcGx5UHJvcGVydHlIYW5kbGVycyA9IGZ1bmN0aW9uICh0YXJnZXQsIGluc3RhbmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIENvbnRhaW5lci5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIuaW5kZXggPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyLm9iamVjdC5jb25zdHJ1Y3RvciAhPT0gdGFyZ2V0ICYmICEodGFyZ2V0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGhhbmRsZXIub2JqZWN0LmNvbnN0cnVjdG9yKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoaGFuZGxlci5wcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZVtoYW5kbGVyLnByb3BlcnR5TmFtZV0gPSBoYW5kbGVyLnZhbHVlKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIHNlcnZpY2UgbWV0YWRhdGEgY29udGFpbnMgYSBkZXN0cm95YWJsZSBzZXJ2aWNlIGluc3RhbmNlIGFuZCBkZXN0cm95cyBpdCBpbiBwbGFjZS4gSWYgdGhlIHNlcnZpY2VcbiAgICAgKiBjb250YWlucyBhIGNhbGxhYmxlIGZ1bmN0aW9uIG5hbWVkIGBkZXN0cm95YCBpdCBpcyBjYWxsZWQgYnV0IG5vdCBhd2FpdGVkIGFuZCB0aGUgcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWQuLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNlcnZpY2VNZXRhZGF0YSB0aGUgc2VydmljZSBtZXRhZGF0YSBjb250YWluaW5nIHRoZSBpbnN0YW5jZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIGZvcmNlIHdoZW4gdHJ1ZSB0aGUgc2VydmljZSB3aWxsIGJlIGFsd2F5cyBkZXN0cm95ZWQgZXZlbiBpZiBpdCdzIGNhbm5vdCBiZSByZS1jcmVhdGVkXG4gICAgICovXG4gICAgQ29udGFpbmVySW5zdGFuY2UucHJvdG90eXBlLmRlc3Ryb3lTZXJ2aWNlSW5zdGFuY2UgPSBmdW5jdGlvbiAoc2VydmljZU1ldGFkYXRhLCBmb3JjZSkge1xuICAgICAgICBpZiAoZm9yY2UgPT09IHZvaWQgMCkgeyBmb3JjZSA9IGZhbHNlOyB9XG4gICAgICAgIC8qKiBXZSByZXNldCB2YWx1ZSBvbmx5IGlmIHdlIGNhbiByZS1jcmVhdGUgaXQgKGFrYSB0eXBlIG9yIGZhY3RvcnkgZXhpc3RzKS4gKi9cbiAgICAgICAgdmFyIHNob3VsZFJlc2V0VmFsdWUgPSBmb3JjZSB8fCAhIXNlcnZpY2VNZXRhZGF0YS50eXBlIHx8ICEhc2VydmljZU1ldGFkYXRhLmZhY3Rvcnk7XG4gICAgICAgIGlmIChzaG91bGRSZXNldFZhbHVlKSB7XG4gICAgICAgICAgICAvKiogSWYgd2Ugd291bmQgYSBmdW5jdGlvbiBuYW1lZCBkZXN0cm95IHdlIGNhbGwgaXQgd2l0aG91dCBhbnkgcGFyYW1zLiAqL1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAoc2VydmljZU1ldGFkYXRhID09PSBudWxsIHx8IHNlcnZpY2VNZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VydmljZU1ldGFkYXRhLnZhbHVlKVsnZGVzdHJveSddID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZU1ldGFkYXRhLnZhbHVlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBXZSBzaW1wbHkgaWdub3JlIHRoZSBlcnJvcnMgZnJvbSB0aGUgZGVzdHJveSBmdW5jdGlvbi4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXJ2aWNlTWV0YWRhdGEudmFsdWUgPSBFTVBUWV9WQUxVRTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbnRhaW5lckluc3RhbmNlO1xufSgpKTtcbmV4cG9ydCB7IENvbnRhaW5lckluc3RhbmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250YWluZXItaW5zdGFuY2UuY2xhc3MuanMubWFwIiwiaW1wb3J0IHsgQ29udGFpbmVySW5zdGFuY2UgfSBmcm9tICcuL2NvbnRhaW5lci1pbnN0YW5jZS5jbGFzcyc7XG4vKipcbiAqIFNlcnZpY2UgY29udGFpbmVyLlxuICovXG52YXIgQ29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhIHNlcGFyYXRlIGNvbnRhaW5lciBpbnN0YW5jZSBmb3IgdGhlIGdpdmVuIGluc3RhbmNlIGlkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5vZiA9IGZ1bmN0aW9uIChjb250YWluZXJJZCkge1xuICAgICAgICBpZiAoY29udGFpbmVySWQgPT09IHZvaWQgMCkgeyBjb250YWluZXJJZCA9ICdkZWZhdWx0JzsgfVxuICAgICAgICBpZiAoY29udGFpbmVySWQgPT09ICdkZWZhdWx0JylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdsb2JhbEluc3RhbmNlO1xuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5pbnN0YW5jZXMuZmluZChmdW5jdGlvbiAoaW5zdGFuY2UpIHsgcmV0dXJuIGluc3RhbmNlLmlkID09PSBjb250YWluZXJJZDsgfSk7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSBuZXcgQ29udGFpbmVySW5zdGFuY2UoY29udGFpbmVySWQpO1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZXMucHVzaChjb250YWluZXIpO1xuICAgICAgICAgICAgLy8gVE9ETzogV2h5IHdlIGFyZSBub3QgcmVzZXRpbmcgaGVyZT8gTGV0J3MgcmVzZXQgaGVyZS4gKEkgaGF2ZSBhZGRlZCB0aGUgY29tbWVudGVkIGNvZGUuKVxuICAgICAgICAgICAgLy8gY29udGFpbmVyLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9O1xuICAgIENvbnRhaW5lci5oYXMgPSBmdW5jdGlvbiAoaWRlbnRpZmllcikge1xuICAgICAgICByZXR1cm4gdGhpcy5nbG9iYWxJbnN0YW5jZS5oYXMoaWRlbnRpZmllcik7XG4gICAgfTtcbiAgICBDb250YWluZXIuZ2V0ID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2xvYmFsSW5zdGFuY2UuZ2V0KGlkZW50aWZpZXIpO1xuICAgIH07XG4gICAgQ29udGFpbmVyLmdldE1hbnkgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2xvYmFsSW5zdGFuY2UuZ2V0TWFueShpZCk7XG4gICAgfTtcbiAgICBDb250YWluZXIuc2V0ID0gZnVuY3Rpb24gKGlkZW50aWZpZXJPclNlcnZpY2VNZXRhZGF0YSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5nbG9iYWxJbnN0YW5jZS5zZXQoaWRlbnRpZmllck9yU2VydmljZU1ldGFkYXRhLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBzZXJ2aWNlcyB3aXRoIGEgZ2l2ZW4gc2VydmljZSBpZGVudGlmaWVycy5cbiAgICAgKi9cbiAgICBDb250YWluZXIucmVtb3ZlID0gZnVuY3Rpb24gKGlkZW50aWZpZXJPcklkZW50aWZpZXJBcnJheSkge1xuICAgICAgICB0aGlzLmdsb2JhbEluc3RhbmNlLnJlbW92ZShpZGVudGlmaWVyT3JJZGVudGlmaWVyQXJyYXkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbXBsZXRlbHkgcmVzZXRzIHRoZSBjb250YWluZXIgYnkgcmVtb3ZpbmcgYWxsIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBzZXJ2aWNlcyBhbmQgaGFuZGxlcnMgZnJvbSBpdC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucmVzZXQgPSBmdW5jdGlvbiAoY29udGFpbmVySWQpIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lcklkID09PSB2b2lkIDApIHsgY29udGFpbmVySWQgPSAnZGVmYXVsdCc7IH1cbiAgICAgICAgaWYgKGNvbnRhaW5lcklkID09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxJbnN0YW5jZS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5zdGFuY2UpIHsgcmV0dXJuIGluc3RhbmNlLnJlc2V0KCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZXMuZmluZChmdW5jdGlvbiAoaW5zdGFuY2UpIHsgcmV0dXJuIGluc3RhbmNlLmlkID09PSBjb250YWluZXJJZDsgfSk7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5yZXNldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzLnNwbGljZSh0aGlzLmluc3RhbmNlcy5pbmRleE9mKGluc3RhbmNlKSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBuZXcgaGFuZGxlci5cbiAgICAgKi9cbiAgICBDb250YWluZXIucmVnaXN0ZXJIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdGhhdCBpbXBvcnRzIGdpdmVuIHNlcnZpY2VzLlxuICAgICAqL1xuICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cbiAgICBDb250YWluZXIuaW1wb3J0ID0gZnVuY3Rpb24gKHNlcnZpY2VzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWxsIHJlZ2lzdGVyZWQgaGFuZGxlcnMuIFRoZSBASW5qZWN0KCkgZGVjb3JhdG9yIHVzZXMgaGFuZGxlcnMgaW50ZXJuYWxseSB0byBtYXJrIGEgcHJvcGVydHkgZm9yIGluamVjdGlvbi5cbiAgICAgKiovXG4gICAgQ29udGFpbmVyLmhhbmRsZXJzID0gW107XG4gICAgLyoqICBHbG9iYWwgY29udGFpbmVyIGluc3RhbmNlLiAqL1xuICAgIENvbnRhaW5lci5nbG9iYWxJbnN0YW5jZSA9IG5ldyBDb250YWluZXJJbnN0YW5jZSgnZGVmYXVsdCcpO1xuICAgIC8qKiBPdGhlciBjb250YWluZXJzIGNyZWF0ZWQgdXNpbmcgQ29udGFpbmVyLm9mIG1ldGhvZC4gKi9cbiAgICBDb250YWluZXIuaW5zdGFuY2VzID0gW107XG4gICAgcmV0dXJuIENvbnRhaW5lcjtcbn0oKSk7XG5leHBvcnQgeyBDb250YWluZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRhaW5lci5jbGFzcy5qcy5tYXAiLCIvKipcbiAqIFdlIGhhdmUgYSBoYXJkIGRlcGVuZGVuY3kgb24gcmVmbGVjdC1tZXRhZGF0YSBwYWNrYWdlLlxuICogV2l0aG91dCB0aGUgZGVwZW5kZW5jeSBsb29rdXAgd29udCB3b3JrLiBTbyB3ZSBzaG91bGQgd2FybiB0aGUgdXNlcnNcbiAqIHdoZW4gaXQncyBub3QgbG9hZGVkLlxuICovXG4vLyBpZighUmVmbGVjdCB8fCAhKFJlZmxlY3QgYXMgYW55KS5nZXRNZXRhZGF0YSkge1xuLy8gICB0aHJvdyBuZXcgRXJyb3IoJ1JlZmxlY3QuZ2V0TWV0YWRhdGEgaXMgbm90IGEgZnVuY3Rpb24uIFBsZWFzZSBpbXBvcnQgdGhlIFwicmVmbGVjdC1tZXRhZGF0YVwiIHBhY2thZ2UgYXQgdGhlIGZpcnN0IGxpbmUgb2YgeW91ciBhcHBsaWNhdGlvbi4nKTtcbi8vIH1cbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJy4vY29udGFpbmVyLmNsYXNzJztcbmV4cG9ydCAqIGZyb20gJy4vZGVjb3JhdG9ycy9pbmplY3QtbWFueS5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2luamVjdC5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL3NlcnZpY2UuZGVjb3JhdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vZXJyb3IvY2Fubm90LWluamVjdC12YWx1ZS5lcnJvcic7XG5leHBvcnQgKiBmcm9tICcuL2Vycm9yL2Nhbm5vdC1pbnN0YW50aWF0ZS12YWx1ZS5lcnJvcic7XG5leHBvcnQgKiBmcm9tICcuL2Vycm9yL3NlcnZpY2Utbm90LWZvdW5kLmVycm9yJztcbmV4cG9ydCB7IENvbnRhaW5lckluc3RhbmNlIH0gZnJvbSAnLi9jb250YWluZXItaW5zdGFuY2UuY2xhc3MnO1xuZXhwb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnLi9jb250YWluZXIuY2xhc3MnO1xuZXhwb3J0IHsgVG9rZW4gfSBmcm9tICcuL3Rva2VuLmNsYXNzJztcbmV4cG9ydCBkZWZhdWx0IENvbnRhaW5lcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJy4uL2NvbnRhaW5lci5jbGFzcyc7XG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJy4uL3Rva2VuLmNsYXNzJztcbmltcG9ydCB7IEVNUFRZX1ZBTFVFIH0gZnJvbSAnLi4vZW1wdHkuY29uc3QnO1xuZXhwb3J0IGZ1bmN0aW9uIFNlcnZpY2Uob3B0aW9uc09yU2VydmljZUlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldENvbnN0cnVjdG9yKSB7XG4gICAgICAgIHZhciBzZXJ2aWNlTWV0YWRhdGEgPSB7XG4gICAgICAgICAgICBpZDogdGFyZ2V0Q29uc3RydWN0b3IsXG4gICAgICAgICAgICAvLyBUT0RPOiBMZXQncyBpbnZlc3RpZ2F0ZSB3aHkgd2UgcmVjZWl2ZSBGdW5jdGlvbiB0eXBlIGluc3RlYWQgb2YgYSBjb25zdHJ1Y3RhYmxlLlxuICAgICAgICAgICAgdHlwZTogdGFyZ2V0Q29uc3RydWN0b3IsXG4gICAgICAgICAgICBmYWN0b3J5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtdWx0aXBsZTogZmFsc2UsXG4gICAgICAgICAgICBnbG9iYWw6IGZhbHNlLFxuICAgICAgICAgICAgZWFnZXI6IGZhbHNlLFxuICAgICAgICAgICAgdHJhbnNpZW50OiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBFTVBUWV9WQUxVRSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyIGluc3RhbmNlb2YgVG9rZW4gfHwgdHlwZW9mIG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLyoqIFdlIHJlY2VpdmVkIGEgVG9rZW4gb3Igc3RyaW5nIElELiAqL1xuICAgICAgICAgICAgc2VydmljZU1ldGFkYXRhLmlkID0gb3B0aW9uc09yU2VydmljZUlkZW50aWZpZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9uc09yU2VydmljZUlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIC8qKiBXZSByZWNlaXZlZCBhIFNlcnZpY2VPcHRpb25zIG9iamVjdC4gKi9cbiAgICAgICAgICAgIHNlcnZpY2VNZXRhZGF0YS5pZCA9IG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyLmlkIHx8IHRhcmdldENvbnN0cnVjdG9yO1xuICAgICAgICAgICAgc2VydmljZU1ldGFkYXRhLmZhY3RvcnkgPSBvcHRpb25zT3JTZXJ2aWNlSWRlbnRpZmllci5mYWN0b3J5IHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHNlcnZpY2VNZXRhZGF0YS5tdWx0aXBsZSA9IG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyLm11bHRpcGxlIHx8IGZhbHNlO1xuICAgICAgICAgICAgc2VydmljZU1ldGFkYXRhLmdsb2JhbCA9IG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyLmdsb2JhbCB8fCBmYWxzZTtcbiAgICAgICAgICAgIHNlcnZpY2VNZXRhZGF0YS5lYWdlciA9IG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyLmVhZ2VyIHx8IGZhbHNlO1xuICAgICAgICAgICAgc2VydmljZU1ldGFkYXRhLnRyYW5zaWVudCA9IG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyLnRyYW5zaWVudCB8fCBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBDb250YWluZXIuc2V0KHNlcnZpY2VNZXRhZGF0YSk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcnZpY2UuZGVjb3JhdG9yLmpzLm1hcCIsImltcG9ydCB7IFNlcnZpY2UgfSBmcm9tIFwidHlwZWRpXCI7XG5AU2VydmljZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBc3NldE1hbmFnZXIge1xuICBsb2FkZWRBc3NldHM6IGFueSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuXG4gIGFzeW5jIGxvYWRBc3NldHMoYXNzZXRzOnt9KSB7XG4gICAgY29uc3QgYXNzZXRQcm9taXNlczogYW55ID0gW107XG5cbiAgICBmb3IgKGNvbnN0IFthc3NldE5hbWUsIGFzc2V0VXJsXSBvZiBPYmplY3QuZW50cmllcyhhc3NldHMpKSB7XG4gICAgICBjb25zdCBhc3NldFByb21pc2UgPSB0aGlzLmxvYWRTaW5nbGVBc3NldChhc3NldFVybCwgYXNzZXROYW1lKTtcbiAgICAgIGFzc2V0UHJvbWlzZXMucHVzaChhc3NldFByb21pc2UpO1xuICAgIH1cblxuICAgIGF3YWl0IFByb21pc2UuYWxsKGFzc2V0UHJvbWlzZXMpO1xuICB9XG5cbiAgbG9hZFNpbmdsZUFzc2V0KGFzc2V0VXJsOiBhbnksIGFzc2V0TmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCBhc3NldEltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICBhc3NldEltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgYXNzZXRJbWFnZS53aWR0aCAvPSAyO1xuICAgICAgICBhc3NldEltYWdlLmhlaWdodCAvPSAyO1xuXG4gICAgICAgIHRoaXMubG9hZGVkQXNzZXRzW2Fzc2V0TmFtZV0gPSBhc3NldEltYWdlO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9O1xuICAgICAgYXNzZXRJbWFnZS5zcmMgPSBhc3NldFVybDtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEFzc2V0KGFzc2V0TmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGVkQXNzZXRzW2Fzc2V0TmFtZV07XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBHQU1FX1dJRFRIID0gd2luZG93LmlubmVyV2lkdGg7XG5leHBvcnQgY29uc3QgR0FNRV9IRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbmV4cG9ydCBjb25zdCBTS0lFUl9DUkFTSCA9IFwic2tpZXJDcmFzaFwiO1xuZXhwb3J0IGNvbnN0IFNLSUVSX0xFRlQgPSBcInNraWVyTGVmdFwiO1xuZXhwb3J0IGNvbnN0IFNLSUVSX0xFRlRET1dOID0gXCJza2llckxlZnREb3duXCI7XG5leHBvcnQgY29uc3QgU0tJRVJfRE9XTiA9IFwic2tpZXJEb3duXCI7XG5leHBvcnQgY29uc3QgU0tJRVJfUklHSFRET1dOID0gXCJza2llclJpZ2h0RG93blwiO1xuZXhwb3J0IGNvbnN0IFNLSUVSX1JJR0hUID0gXCJza2llclJpZ2h0XCI7XG5leHBvcnQgY29uc3QgVFJFRSA9IFwidHJlZVwiO1xuZXhwb3J0IGNvbnN0IFRSRUVfQ0xVU1RFUiA9IFwidHJlZUNsdXN0ZXJcIjtcbmV4cG9ydCBjb25zdCBST0NLMSA9IFwicm9jazFcIjtcbmV4cG9ydCBjb25zdCBST0NLMiA9IFwicm9jazJcIjtcbmV4cG9ydCBjb25zdCBTS0lFUl9VUCA9IFwic2tpZXJVcFwiO1xuZXhwb3J0IGNvbnN0IEpVTVBfUkFNUCA9IFwianVtcFJhbXBcIjtcbmV4cG9ydCBjb25zdCBSSElOT19ERUZBVUxUID0gXCJyaGlub0RlZmF1bHRcIjtcbmV4cG9ydCBjb25zdCBSSElOT19SVU5fTEVGVCA9IFwicmhpbm9SdW5MZWZ0XCI7XG5leHBvcnQgY29uc3QgUkhJTk9fTElGVCA9IFwicmhpbm9MaWZ0XCI7XG5leHBvcnQgY29uc3QgUkhJTk9fTElGVF9NT1VUSF9PUEVOID0gXCJyaGlub0xpZnRNb3V0aE9wZW5cIjtcbmV4cG9ydCBjb25zdCBSSElOT19MSUZUX0VBVDEgPSBcInJoaW5vTGlmdEVhdDFcIjtcbmV4cG9ydCBjb25zdCBSSElOT19MSUZUX0VBVDIgPSBcInJoaW5vTGlmdEVhdDJcIjtcbmV4cG9ydCBjb25zdCBSSElOT19MSUZUX0VBVDMgPSBcInJoaW5vTGlmdEVhdDNcIjtcbmV4cG9ydCBjb25zdCBLSUxMX1NLSUVSID0gXCJraWxsU2tpZXJcIjtcbmV4cG9ydCBjb25zdCBQQVVTRSA9IFwic2tpZXJDcmFzaFwiO1xuXG5leHBvcnQgY29uc3QgU0tJRVJfU1RBUlRJTkdfU1BFRUQgPSAxMDtcbmV4cG9ydCBjb25zdCBTS0lFUl9ESUFHT05BTF9TUEVFRF9SRURVQ0VSID0gMS40MTQyO1xuXG5leHBvcnQgY29uc3QgQVNTRVRTID0ge1xuICBbU0tJRVJfQ1JBU0hdOiBcInB1YmxpYy9pbWcvc2tpZXJfY3Jhc2gucG5nXCIsXG4gIFtTS0lFUl9MRUZUXTogXCJwdWJsaWMvaW1nL3NraWVyX2xlZnQucG5nXCIsXG4gIFtTS0lFUl9MRUZURE9XTl06IFwicHVibGljL2ltZy9za2llcl9sZWZ0X2Rvd24ucG5nXCIsXG4gIFtTS0lFUl9ET1dOXTogXCJwdWJsaWMvaW1nL3NraWVyX2Rvd24ucG5nXCIsXG4gIFtTS0lFUl9SSUdIVERPV05dOiBcInB1YmxpYy9pbWcvc2tpZXJfcmlnaHRfZG93bi5wbmdcIixcbiAgW1NLSUVSX1JJR0hUXTogXCJwdWJsaWMvaW1nL3NraWVyX3JpZ2h0LnBuZ1wiLFxuICBbVFJFRV06IFwicHVibGljL2ltZy90cmVlXzEucG5nXCIsXG4gIFtUUkVFX0NMVVNURVJdOiBcInB1YmxpYy9pbWcvdHJlZV9jbHVzdGVyLnBuZ1wiLFxuICBbUk9DSzFdOiBcInB1YmxpYy9pbWcvcm9ja18xLnBuZ1wiLFxuICBbUk9DSzJdOiBcInB1YmxpYy9pbWcvcm9ja18yLnBuZ1wiLFxuICBbU0tJRVJfVVBdOiBcInB1YmxpYy9pbWcvc2tpZXJfanVtcF8xLnBuZ1wiLFxuICBbSlVNUF9SQU1QXTogXCJwdWJsaWMvaW1nL2p1bXBfcmFtcC5wbmdcIixcbiAgW1JISU5PX1JVTl9MRUZUXTogXCJwdWJsaWMvaW1nL3JoaW5vX3J1bl9sZWZ0LnBuZ1wiLFxuICBbUkhJTk9fTElGVF06IFwicHVibGljL2ltZy9yaGlub19saWZ0LnBuZ1wiLFxuICBbUkhJTk9fTElGVF9NT1VUSF9PUEVOXTogXCJwdWJsaWMvaW1nL3JoaW5vX2xpZnRfbW91dGhfb3Blbi5wbmdcIixcbiAgW1JISU5PX0xJRlRfRUFUMV06IFwicHVibGljL2ltZy9yaGlub19saWZ0X2VhdF8xLnBuZ1wiLFxuICBbUkhJTk9fTElGVF9FQVQyXTogXCJwdWJsaWMvaW1nL3JoaW5vX2xpZnRfZWF0XzIucG5nXCIsXG4gIFtSSElOT19MSUZUX0VBVDNdOiBcInB1YmxpYy9pbWcvcmhpbm9fbGlmdF9lYXRfMy5wbmdcIixcbiAgW0tJTExfU0tJRVJdOiBcInB1YmxpYy9pbWcvY2xlYXJfc2tpZXIucG5nXCIsXG59O1xuXG5leHBvcnQgY29uc3QgU0tJRVJfRElSRUNUSU9OUyA9IHtcbiAgQ1JBU0g6IDAsXG4gIExFRlQ6IDEsXG4gIExFRlRfRE9XTjogMixcbiAgRE9XTjogMyxcbiAgUklHSFRfRE9XTjogNCxcbiAgUklHSFQ6IDUsXG4gIFVQOiA2LFxuICBLSUxMOiA3LFxuICBQQVVTRTogOFxufTtcblxuZXhwb3J0IGNvbnN0IFNLSUVSX0RJUkVDVElPTl9BU1NFVCA9IHtcbiAgW1NLSUVSX0RJUkVDVElPTlMuQ1JBU0hdOiBTS0lFUl9DUkFTSCxcbiAgW1NLSUVSX0RJUkVDVElPTlMuTEVGVF06IFNLSUVSX0xFRlQsXG4gIFtTS0lFUl9ESVJFQ1RJT05TLkxFRlRfRE9XTl06IFNLSUVSX0xFRlRET1dOLFxuICBbU0tJRVJfRElSRUNUSU9OUy5ET1dOXTogU0tJRVJfRE9XTixcbiAgW1NLSUVSX0RJUkVDVElPTlMuUklHSFRfRE9XTl06IFNLSUVSX1JJR0hURE9XTixcbiAgW1NLSUVSX0RJUkVDVElPTlMuUklHSFRdOiBTS0lFUl9SSUdIVCxcbiAgW1NLSUVSX0RJUkVDVElPTlMuVVBdOiBTS0lFUl9VUCxcbiAgW1NLSUVSX0RJUkVDVElPTlMuS0lMTF06IEtJTExfU0tJRVIsXG4gIFtTS0lFUl9ESVJFQ1RJT05TLlBBVVNFXTogUEFVU0UsXG59O1xuXG5leHBvcnQgY29uc3QgS0VZUyA9IHtcbiAgTEVGVDogMzcsXG4gIFJJR0hUOiAzOSxcbiAgVVA6IDM4LFxuICBET1dOOiA0MCxcbiAgU1BBQ0U6IDMyLFxuICBSZXNldDogODJcbn07XG5cbmV4cG9ydCBjb25zdCBSSElOT19BQ1RJT05TID0ge1xuICBDSEFTRV9TS0lFUjogMCxcbiAgTElGVF9TS0lFUjogMSxcbiAgTElGVF9NT1VUSF9PUEVOX1NLSUVSOiAyLFxuICBDSEVXX1NLSUVSOiAzLFxuICBTV0FMTE9XX1NLSUVSOiA0LFxuICBFTkQ6IDUsXG59O1xuXG5leHBvcnQgY29uc3QgUkhJTk9fQUNUSU9OX0FTU0VUID0ge1xuICBbUkhJTk9fQUNUSU9OUy5DSEFTRV9TS0lFUl06IFJISU5PX1JVTl9MRUZULFxuICBbUkhJTk9fQUNUSU9OUy5MSUZUX1NLSUVSXTogUkhJTk9fTElGVCxcbiAgW1JISU5PX0FDVElPTlMuTElGVF9NT1VUSF9PUEVOX1NLSUVSXTogUkhJTk9fTElGVF9NT1VUSF9PUEVOLFxuICBbUkhJTk9fQUNUSU9OUy5DSEVXX1NLSUVSXTogUkhJTk9fTElGVF9FQVQxLFxuICBbUkhJTk9fQUNUSU9OUy5TV0FMTE9XX1NLSUVSXTogUkhJTk9fTElGVF9FQVQyLFxuICBbUkhJTk9fQUNUSU9OUy5FTkRdOiBSSElOT19MSUZUX0VBVDMsXG59O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUludChtaW46bnVtYmVyLCBtYXg6bnVtYmVyKSB7XG4gICAgbWluID0gTWF0aC5jZWlsKG1pbik7XG4gICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0VHdvUmVjdHMocmVjdDE6YW55LCByZWN0MjphbnkpIHtcbiAgICByZXR1cm4gIShyZWN0Mi5sZWZ0ID4gcmVjdDEucmlnaHQgfHxcbiAgICAgICAgcmVjdDIucmlnaHQgPCByZWN0MS5sZWZ0IHx8XG4gICAgICAgIHJlY3QyLnRvcCA+IHJlY3QxLmJvdHRvbSB8fFxuICAgICAgICByZWN0Mi5ib3R0b20gPCByZWN0MS50b3ApO1xufVxuXG5leHBvcnQgY2xhc3MgUmVjdCB7XG4gICAgbGVmdCA9IDA7XG4gICAgdG9wID0gMDtcbiAgICByaWdodCA9IDA7XG4gICAgYm90dG9tID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKGxlZnQ6bnVtYmVyLCB0b3A6bnVtYmVyLCByaWdodDpudW1iZXIsIGJvdHRvbTpudW1iZXIpIHtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XG4gICAgICAgIHRoaXMucmlnaHQgPSByaWdodDtcbiAgICAgICAgdGhpcy5ib3R0b20gPSBib3R0b207XG4gICAgfVxufSIsImltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi4vY29uc3RhbnRzL2NvbnN0c1wiO1xuaW1wb3J0IEVudGl0eSAgZnJvbSBcIi4uL21vZGVscy9lbnRpdHlcIjtcbmltcG9ydCB7IHJhbmRvbUludCB9IGZyb20gXCIuLi91dGlsaXRpZXMvdXRpbHNcIjtcblxuY29uc3QgYXNzZXRUeXBlcyA9IFtcbiAgQ29uc3RhbnRzLlRSRUUsXG4gIENvbnN0YW50cy5UUkVFX0NMVVNURVIsXG4gIENvbnN0YW50cy5ST0NLMSxcbiAgQ29uc3RhbnRzLlJPQ0syLFxuICBDb25zdGFudHMuSlVNUF9SQU1QLFxuXTtcblxuZXhwb3J0IGNsYXNzIE9ic3RhY2xlIGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3IoeDpudW1iZXIsIHk6bnVtYmVyKSB7XG4gICAgc3VwZXIoeCwgeSk7XG5cbiAgICBjb25zdCBhc3NldElkeCA9IHJhbmRvbUludCgwLCBhc3NldFR5cGVzLmxlbmd0aCAtIDEpO1xuICAgIHRoaXMuYXNzZXROYW1lID0gYXNzZXRUeXBlc1thc3NldElkeF07XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eSB7XG4gIHggPSAwO1xuICB5ID0gMDtcblxuICBhc3NldE5hbWUgPSBcIlwiO1xuXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTpudW1iZXIpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cblxuICBnZXRBc3NldE5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNzZXROYW1lO1xuICB9XG5cbiAgZ2V0UG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHRoaXMueCxcbiAgICAgIHk6IHRoaXMueSxcbiAgICB9O1xuICB9XG5cbiAgZHJhdyhjYW52YXM6YW55LCBhc3NldE1hbmFnZXI6YW55KSB7XG4gICAgY29uc3QgYXNzZXQgPSBhc3NldE1hbmFnZXIuZ2V0QXNzZXQodGhpcy5hc3NldE5hbWUpO1xuICAgIGNvbnN0IGRyYXdYID0gdGhpcy54IC0gYXNzZXQud2lkdGggLyAyO1xuICAgIGNvbnN0IGRyYXdZID0gdGhpcy55IC0gYXNzZXQuaGVpZ2h0IC8gMjtcblxuICAgIGNhbnZhcy5kcmF3SW1hZ2UoYXNzZXQsIGRyYXdYLCBkcmF3WSwgYXNzZXQud2lkdGgsIGFzc2V0LmhlaWdodCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMvY29uc3RzJztcbmltcG9ydCB7IHJhbmRvbUludCB9IGZyb20gJy4uL3V0aWxpdGllcy91dGlscyc7XG5pbXBvcnQgeyBPYnN0YWNsZSB9IGZyb20gXCIuLi9tb2RlbHMvb2JzdGFjbGVcIjtcbmltcG9ydCB7IFNlcnZpY2UgfSBmcm9tICd0eXBlZGknO1xuaW1wb3J0IENhbnZhcyBmcm9tICcuLi9sb2FkZXJzL2NhbnZhcyc7XG5pbXBvcnQgQXNzZXRNYW5hZ2VyIGZyb20gJy4uL2xvYWRlcnMvYXNzZXRNYW5hZ2VyJztcblxuY29uc3QgRElTVEFOQ0VfQkVUV0VFTl9PQlNUQUNMRVMgPSA1MDtcbmNvbnN0IFNUQVJUSU5HX09CU1RBQ0xFX0dBUCA9IDEwMDtcbmNvbnN0IFNUQVJUSU5HX09CU1RBQ0xFX1JFRFVDRVIgPSAzMDA7XG5jb25zdCBORVdfT0JTVEFDTEVfQ0hBTkNFID0gODtcblxuQFNlcnZpY2UoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JzdGFjbGVNYW5hZ2VyIHtcbiAgb2JzdGFjbGVzOmFueSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuXG4gIHJlc3RhcnRPYnN0YWNsZSgpe1xuICAgIHRoaXMub2JzdGFjbGVzID0gW107XG4gIH1cbiAgZ2V0T2JzdGFjbGVzKCkge1xuICAgIHJldHVybiB0aGlzLm9ic3RhY2xlcztcbiAgfVxuXG4gIGRyYXdPYnN0YWNsZXMoY2FudmFzOkNhbnZhcywgYXNzZXRNYW5hZ2VyOkFzc2V0TWFuYWdlcikge1xuICAgIHRoaXMub2JzdGFjbGVzLmZvckVhY2goKG9ic3RhY2xlKSA9PiB7XG4gICAgICBvYnN0YWNsZS5kcmF3KGNhbnZhcywgYXNzZXRNYW5hZ2VyKTtcbiAgICB9KTtcbiAgfVxuXG4gIHBsYWNlSW5pdGlhbE9ic3RhY2xlcygpIHtcbiAgICBjb25zdCBudW1iZXJPYnN0YWNsZXMgPSBNYXRoLmNlaWwoXG4gICAgICAoQ29uc3RhbnRzLkdBTUVfV0lEVEggLyBTVEFSVElOR19PQlNUQUNMRV9SRURVQ0VSKSAqXG4gICAgICAgIChDb25zdGFudHMuR0FNRV9IRUlHSFQgLyBTVEFSVElOR19PQlNUQUNMRV9SRURVQ0VSKVxuICAgICk7XG5cbiAgICBjb25zdCBtaW5YID0gLUNvbnN0YW50cy5HQU1FX1dJRFRIIC8gMjtcbiAgICBjb25zdCBtYXhYID0gQ29uc3RhbnRzLkdBTUVfV0lEVEggLyAyO1xuICAgIGNvbnN0IG1pblkgPSBTVEFSVElOR19PQlNUQUNMRV9HQVA7XG4gICAgY29uc3QgbWF4WSA9IENvbnN0YW50cy5HQU1FX0hFSUdIVCAvIDI7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9ic3RhY2xlczsgaSsrKSB7XG4gICAgICB0aGlzLnBsYWNlUmFuZG9tT2JzdGFjbGUobWluWCwgbWF4WCwgbWluWSwgbWF4WSk7XG4gICAgfVxuXG4gICAgdGhpcy5vYnN0YWNsZXMuc29ydCgob2JzdGFjbGUxLCBvYnN0YWNsZTIpID0+IHtcbiAgICAgIHJldHVybiBvYnN0YWNsZTEuZ2V0UG9zaXRpb24oKS55IC0gb2JzdGFjbGUyLmdldFBvc2l0aW9uKCkueTtcbiAgICB9KTtcbiAgfVxuXG4gIHBsYWNlTmV3T2JzdGFjbGUoZ2FtZVdpbmRvdzphbnksIHByZXZpb3VzR2FtZVdpbmRvdzphbnkpIHtcbiAgICBjb25zdCBzaG91bGRQbGFjZU9ic3RhY2xlID0gcmFuZG9tSW50KDEsIE5FV19PQlNUQUNMRV9DSEFOQ0UpO1xuICAgIGlmIChzaG91bGRQbGFjZU9ic3RhY2xlICE9PSBORVdfT0JTVEFDTEVfQ0hBTkNFKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGdhbWVXaW5kb3cubGVmdCA8IHByZXZpb3VzR2FtZVdpbmRvdy5sZWZ0KSB7XG4gICAgICB0aGlzLnBsYWNlT2JzdGFjbGVMZWZ0KGdhbWVXaW5kb3cpO1xuICAgIH0gZWxzZSBpZiAoZ2FtZVdpbmRvdy5sZWZ0ID4gcHJldmlvdXNHYW1lV2luZG93LmxlZnQpIHtcbiAgICAgIHRoaXMucGxhY2VPYnN0YWNsZVJpZ2h0KGdhbWVXaW5kb3cpO1xuICAgIH1cblxuICAgIGlmIChnYW1lV2luZG93LnRvcCA8IHByZXZpb3VzR2FtZVdpbmRvdy50b3ApIHtcbiAgICAgIHRoaXMucGxhY2VPYnN0YWNsZVRvcChnYW1lV2luZG93KTtcbiAgICB9IGVsc2UgaWYgKGdhbWVXaW5kb3cudG9wID4gcHJldmlvdXNHYW1lV2luZG93LnRvcCkge1xuICAgICAgdGhpcy5wbGFjZU9ic3RhY2xlQm90dG9tKGdhbWVXaW5kb3cpO1xuICAgIH1cbiAgfVxuXG4gIHBsYWNlT2JzdGFjbGVMZWZ0KGdhbWVXaW5kb3c6YW55KSB7XG4gICAgdGhpcy5wbGFjZVJhbmRvbU9ic3RhY2xlKFxuICAgICAgZ2FtZVdpbmRvdy5sZWZ0LFxuICAgICAgZ2FtZVdpbmRvdy5sZWZ0LFxuICAgICAgZ2FtZVdpbmRvdy50b3AsXG4gICAgICBnYW1lV2luZG93LmJvdHRvbVxuICAgICk7XG4gIH1cblxuICBwbGFjZU9ic3RhY2xlUmlnaHQoZ2FtZVdpbmRvdzphbnkpIHtcbiAgICB0aGlzLnBsYWNlUmFuZG9tT2JzdGFjbGUoXG4gICAgICBnYW1lV2luZG93LnJpZ2h0LFxuICAgICAgZ2FtZVdpbmRvdy5yaWdodCxcbiAgICAgIGdhbWVXaW5kb3cudG9wLFxuICAgICAgZ2FtZVdpbmRvdy5ib3R0b21cbiAgICApO1xuICB9XG5cbiAgcGxhY2VPYnN0YWNsZVRvcChnYW1lV2luZG93OmFueSkge1xuICAgIHRoaXMucGxhY2VSYW5kb21PYnN0YWNsZShcbiAgICAgIGdhbWVXaW5kb3cubGVmdCxcbiAgICAgIGdhbWVXaW5kb3cucmlnaHQsXG4gICAgICBnYW1lV2luZG93LnRvcCxcbiAgICAgIGdhbWVXaW5kb3cudG9wXG4gICAgKTtcbiAgfVxuXG4gIHBsYWNlT2JzdGFjbGVCb3R0b20oZ2FtZVdpbmRvdzphbnkpIHtcbiAgICB0aGlzLnBsYWNlUmFuZG9tT2JzdGFjbGUoXG4gICAgICBnYW1lV2luZG93LmxlZnQsXG4gICAgICBnYW1lV2luZG93LnJpZ2h0LFxuICAgICAgZ2FtZVdpbmRvdy5ib3R0b20sXG4gICAgICBnYW1lV2luZG93LmJvdHRvbVxuICAgICk7XG4gIH1cblxuICBwbGFjZVJhbmRvbU9ic3RhY2xlKG1pblg6IG51bWJlciwgbWF4WDogbnVtYmVyLCBtaW5ZOiBudW1iZXIsIG1heFk6IG51bWJlcikge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5jYWxjdWxhdGVPcGVuUG9zaXRpb24obWluWCwgbWF4WCwgbWluWSwgbWF4WSk7XG4gICAgY29uc3QgbmV3T2JzdGFjbGUgPSBuZXcgT2JzdGFjbGUocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG5cbiAgICB0aGlzLm9ic3RhY2xlcy5wdXNoKG5ld09ic3RhY2xlKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZU9wZW5Qb3NpdGlvbihcbiAgICBtaW5YOiBudW1iZXIsXG4gICAgbWF4WDogbnVtYmVyLFxuICAgIG1pblk6IG51bWJlcixcbiAgICBtYXhZOiBudW1iZXJcbiAgKSB7XG4gICAgY29uc3QgeCA9IHJhbmRvbUludChtaW5YLCBtYXhYKTtcbiAgICBjb25zdCB5ID0gcmFuZG9tSW50KG1pblksIG1heFkpO1xuXG4gICAgY29uc3QgZm91bmRDb2xsaXNpb24gPSB0aGlzLm9ic3RhY2xlcy5maW5kKChvYnN0YWNsZSkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgeCA+IG9ic3RhY2xlLnggLSBESVNUQU5DRV9CRVRXRUVOX09CU1RBQ0xFUyAmJlxuICAgICAgICB4IDwgb2JzdGFjbGUueCArIERJU1RBTkNFX0JFVFdFRU5fT0JTVEFDTEVTICYmXG4gICAgICAgIHkgPiBvYnN0YWNsZS55IC0gRElTVEFOQ0VfQkVUV0VFTl9PQlNUQUNMRVMgJiZcbiAgICAgICAgeSA8IG9ic3RhY2xlLnkgKyBESVNUQU5DRV9CRVRXRUVOX09CU1RBQ0xFU1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGlmIChmb3VuZENvbGxpc2lvbikge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlT3BlblBvc2l0aW9uKG1pblgsIG1heFgsIG1pblksIG1heFkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiB4LFxuICAgICAgICB5OiB5LFxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgeyBTZXJ2aWNlIH0gZnJvbSBcInR5cGVkaVwiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuLi9jb25zdGFudHMvY29uc3RzXCJcblxuQFNlcnZpY2UoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzIHtcbiAgeDogbnVtYmVyID0gMDtcbiAgeTogbnVtYmVyID0gMDtcbiAgd2lkdGg6IG51bWJlciA9IDA7XG4gIGhlaWdodDogbnVtYmVyID0gMDtcbiAgZHJhd09mZnNldDogYW55ID0ge1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgfTtcbiAgY3R4OiBhbnkgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5jcmVhdGVDYW52YXMoKTtcbiAgfVxuXG4gIHJlc3RhcnRDYW52YXMoKXtcbiAgICB0aGlzLnggPSAwO1xuICAgIHRoaXMueSA9IDA7XG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIHRoaXMuZHJhd09mZnNldCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgIH07XG4gICAgdGhpcy5jdHggPSBudWxsO1xuICAgIHRoaXMud2lkdGggPSBDb25zdGFudHMuR0FNRV9XSURUSDtcbiAgICB0aGlzLmhlaWdodCAgPSBDb25zdGFudHMuR0FNRV9IRUlHSFQ7XG4gIH1cblxuICBjcmVhdGVDYW52YXMoKSB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICBjYW52YXMuaWQgPSBcInNraUNhbnZhc1wiO1xuICAgIGNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICBjYW52YXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICBjYW52YXMuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgXCJweFwiO1xuICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArIFwicHhcIjtcblxuICAgIHRoaXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICB0aGlzLmN0eC5zY2FsZSh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuICB9XG5cbiAgY2xlYXJDYW52YXMoKSB7XG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH1cblxuICBzZXREcmF3T2Zmc2V0KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy5kcmF3T2Zmc2V0LnggPSB4O1xuICAgIHRoaXMuZHJhd09mZnNldC55ID0geTtcbiAgfVxuXG4gIGRyYXdJbWFnZShpbWFnZTogYW55LCB4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICB4IC09IHRoaXMuZHJhd09mZnNldC54O1xuICAgIHkgLT0gdGhpcy5kcmF3T2Zmc2V0Lnk7XG5cbiAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoaW1hZ2UsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRpdHkge1xuICB4ID0gMDtcbiAgeSA9IDA7XG5cbiAgYXNzZXROYW1lID0gXCJcIjtcblxuICBjb25zdHJ1Y3Rvcih4Om51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgZ2V0QXNzZXROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmFzc2V0TmFtZTtcbiAgfVxuXG4gIGdldFBvc2l0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiB0aGlzLngsXG4gICAgICB5OiB0aGlzLnksXG4gICAgfTtcbiAgfVxuXG4gIGRyYXcoY2FudmFzOiBhbnksIGFzc2V0TWFuYWdlcjogYW55KSB7XG4gICAgY29uc3QgYXNzZXQgPSBhc3NldE1hbmFnZXIuZ2V0QXNzZXQodGhpcy5hc3NldE5hbWUpO1xuICAgIGNvbnN0IGRyYXdYID0gdGhpcy54IC0gYXNzZXQud2lkdGggLyAyO1xuICAgIGNvbnN0IGRyYXdZID0gdGhpcy55IC0gYXNzZXQuaGVpZ2h0IC8gMjtcblxuICAgIGNhbnZhcy5kcmF3SW1hZ2UoYXNzZXQsIGRyYXdYLCBkcmF3WSwgYXNzZXQud2lkdGgsIGFzc2V0LmhlaWdodCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFNlcnZpY2UgfSBmcm9tIFwidHlwZWRpXCI7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4uL2NvbnN0YW50cy9jb25zdHNcIjtcbmltcG9ydCAgRW50aXR5ICBmcm9tIFwiLi4vbG9hZGVycy9lbnRpdHlcIjtcbmltcG9ydCB7IGludGVyc2VjdFR3b1JlY3RzLCBSZWN0IH0gZnJvbSBcIi4uL3V0aWxpdGllcy91dGlsc1wiO1xuaW1wb3J0IE9ic3RhY2xlU2VydmljZSBmcm9tIFwiLi4vc2VydmljZXMvb2JzdGFjbGVTZXJ2aWNlXCJcbmltcG9ydCBBc3NldE1hbmFnZXIgZnJvbSBcIi4uL2xvYWRlcnMvYXNzZXRNYW5hZ2VyXCI7XG5cbkBTZXJ2aWNlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNraWVyIGV4dGVuZHMgRW50aXR5IHtcbiAgYXNzZXROYW1lOiBzdHJpbmcgPSBDb25zdGFudHMuU0tJRVJfRE9XTjtcbiAgaXNQYXVzZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgZGlyZWN0aW9uOiBudW1iZXIgPSBDb25zdGFudHMuU0tJRVJfRElSRUNUSU9OUy5ET1dOO1xuICBsYXN0RGlyZWN0aW9uOiBudW1iZXIgPSB0aGlzLmRpcmVjdGlvbjtcbiAgc3BlZWQ6IG51bWJlciA9IENvbnN0YW50cy5TS0lFUl9TVEFSVElOR19TUEVFRDtcblxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHN1cGVyKHgsIHkpO1xuICB9XG5cbiAgcmVzdGFydFNraWVyKCkge1xuICAgIHRoaXMuYXNzZXROYW1lID0gQ29uc3RhbnRzLlNLSUVSX0RPV047XG4gICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuRE9XTjtcbiAgICB0aGlzLmxhc3REaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjtcbiAgICB0aGlzLnNwZWVkID0gQ29uc3RhbnRzLlNLSUVSX1NUQVJUSU5HX1NQRUVEO1xuICAgIHRoaXMueCA9IDA7XG4gICAgdGhpcy55ID0gMDtcbiAgfVxuXG4gIHNldERpcmVjdGlvbihkaXJlY3Rpb246IG51bWJlcikge1xuICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgIHRoaXMudXBkYXRlQXNzZXQoKTtcbiAgfVxuXG4gIHNldExhc3REaXJlY3Rpb24oZGlyZWN0aW9uOiBudW1iZXIpIHtcbiAgICB0aGlzLmxhc3REaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gIH1cbiAgdXBkYXRlQXNzZXQoKSB7XG4gICAgdGhpcy5hc3NldE5hbWUgPSBDb25zdGFudHMuU0tJRVJfRElSRUNUSU9OX0FTU0VUW3RoaXMuZGlyZWN0aW9uXTtcbiAgfVxuXG4gIG1vdmUoKSB7XG4gICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuICAgICAgY2FzZSBDb25zdGFudHMuU0tJRVJfRElSRUNUSU9OUy5MRUZUX0RPV046XG4gICAgICAgIHRoaXMubW92ZVNraWVyTGVmdERvd24oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLkRPV046XG4gICAgICAgIHRoaXMubW92ZVNraWVyRG93bigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuUklHSFRfRE9XTjpcbiAgICAgICAgdGhpcy5tb3ZlU2tpZXJSaWdodERvd24oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLkxFRlQ6XG4gICAgICAgIHRoaXMubW92ZVNraWVyTGVmdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuUklHSFQ6XG4gICAgICAgIHRoaXMubW92ZVNraWVyUmlnaHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLlVQOlxuICAgICAgICB0aGlzLm1vdmVTa2llclVwKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIG1vdmVTa2llckxlZnQoKSB7XG4gICAgdGhpcy54IC09IENvbnN0YW50cy5TS0lFUl9TVEFSVElOR19TUEVFRDtcbiAgfVxuXG4gIG1vdmVTa2llckxlZnREb3duKCkge1xuICAgIHRoaXMueCAtPSB0aGlzLnNwZWVkIC8gQ29uc3RhbnRzLlNLSUVSX0RJQUdPTkFMX1NQRUVEX1JFRFVDRVI7XG4gICAgdGhpcy55ICs9IHRoaXMuc3BlZWQgLyBDb25zdGFudHMuU0tJRVJfRElBR09OQUxfU1BFRURfUkVEVUNFUjtcbiAgfVxuXG4gIG1vdmVTa2llckRvd24oKSB7XG4gICAgdGhpcy55ICs9IHRoaXMuc3BlZWQ7XG4gIH1cblxuICBtb3ZlU2tpZXJSaWdodERvd24oKSB7XG4gICAgdGhpcy54ICs9IHRoaXMuc3BlZWQgLyBDb25zdGFudHMuU0tJRVJfRElBR09OQUxfU1BFRURfUkVEVUNFUjtcbiAgICB0aGlzLnkgKz0gdGhpcy5zcGVlZCAvIENvbnN0YW50cy5TS0lFUl9ESUFHT05BTF9TUEVFRF9SRURVQ0VSO1xuICB9XG5cbiAgbW92ZVNraWVyUmlnaHQoKSB7XG4gICAgdGhpcy54ICs9IENvbnN0YW50cy5TS0lFUl9TVEFSVElOR19TUEVFRDtcbiAgfVxuXG4gIG1vdmVTa2llclVwKCkge1xuICAgIHRoaXMueSArPSB0aGlzLnNwZWVkO1xuICB9XG5cbiAgdHVybkxlZnQoKSB7XG4gICAgdGhpcy5zZXREaXJlY3Rpb24oQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuTEVGVCk7XG4gICAgdGhpcy51cGRhdGVMYXN0RGlyZWN0aW9uKCk7XG4gIH1cblxuICB0dXJuUmlnaHQoKSB7XG4gICAgdGhpcy5zZXREaXJlY3Rpb24oQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuUklHSFQpO1xuICAgIHRoaXMudXBkYXRlTGFzdERpcmVjdGlvbigpO1xuICB9XG5cbiAgdHVyblVwKCkge1xuICAgIHRoaXMuc2V0RGlyZWN0aW9uKENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLlVQKTtcbiAgICB0aGlzLnVwZGF0ZUxhc3REaXJlY3Rpb24oKTtcbiAgfVxuXG4gIHR1cm5Eb3duKCkge1xuICAgIHRoaXMuc2V0RGlyZWN0aW9uKENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLkRPV04pO1xuICAgIHRoaXMudXBkYXRlTGFzdERpcmVjdGlvbigpO1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgaWYgKHRoaXMuaXNQYXVzZWQpIHtcbiAgICAgIHRoaXMuc2V0RGlyZWN0aW9uKHRoaXMubGFzdERpcmVjdGlvbik7XG4gICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXNQYXVzZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zZXREaXJlY3Rpb24oQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuUEFVU0UpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUxhc3REaXJlY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRMYXN0RGlyZWN0aW9uKHRoaXMuZGlyZWN0aW9uKTtcbiAgfVxuXG4gIHNldFNraWVySnVtcE92ZXJSb2NrKG9ic3RhY2xlTmFtZTogc3RyaW5nKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5kaXJlY3Rpb24gPT09IENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLlVQICYmXG4gICAgICAob2JzdGFjbGVOYW1lID09PSBDb25zdGFudHMuUk9DSzEgfHwgb2JzdGFjbGVOYW1lID09PSBDb25zdGFudHMuUk9DSzIpXG4gICAgKVxuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBtYWtlU2tpZXJKdW1wSWZIaXRSYW1wKG9ic3RhY2xlTmFtZTogc3RyaW5nKSB7XG4gICAgaWYgKG9ic3RhY2xlTmFtZSA9PT0gQ29uc3RhbnRzLkpVTVBfUkFNUCkge1xuICAgICAgdGhpcy50dXJuVXAoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIENoZWNrSWZTa2llclNob3VsZEp1bXAob2JzdGFjbGVOYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5zZXRTa2llckp1bXBPdmVyUm9jayhvYnN0YWNsZU5hbWUpIHx8XG4gICAgICB0aGlzLm1ha2VTa2llckp1bXBJZkhpdFJhbXAob2JzdGFjbGVOYW1lKVxuICAgICk7XG4gIH1cblxuICBjaGVja0lmU2tpZXJIaXRPYnN0YWNsZShcbiAgICBvYnN0YWNsZVNlcnZpY2U6IE9ic3RhY2xlU2VydmljZSxcbiAgICBhc3NldE1hbmFnZXI6IEFzc2V0TWFuYWdlclxuICApIHtcbiAgICBjb25zdCBhc3NldCA9IGFzc2V0TWFuYWdlci5nZXRBc3NldCh0aGlzLmFzc2V0TmFtZSk7XG4gICAgY29uc3Qgc2tpZXJCb3VuZHMgPSBuZXcgUmVjdChcbiAgICAgIHRoaXMueCAtIGFzc2V0LndpZHRoIC8gMixcbiAgICAgIHRoaXMueSAtIGFzc2V0LmhlaWdodCAvIDIsXG4gICAgICB0aGlzLnggKyBhc3NldC53aWR0aCAvIDIsXG4gICAgICB0aGlzLnkgLSBhc3NldC5oZWlnaHQgLyA0XG4gICAgKTtcblxuICAgIGNvbnN0IGNvbGxpc2lvbiA9IG9ic3RhY2xlU2VydmljZS5nZXRPYnN0YWNsZXMoKS5maW5kKChvYnN0YWNsZSkgPT4ge1xuICAgICAgY29uc3Qgb2JzdGFjbGVOYW1lID0gb2JzdGFjbGUuZ2V0QXNzZXROYW1lKCk7XG4gICAgICBjb25zdCBvYnN0YWNsZUFzc2V0ID0gYXNzZXRNYW5hZ2VyLmdldEFzc2V0KG9ic3RhY2xlTmFtZSk7XG4gICAgICBjb25zdCBvYnN0YWNsZVBvc2l0aW9uID0gb2JzdGFjbGUuZ2V0UG9zaXRpb24oKTtcbiAgICAgIGNvbnN0IG9ic3RhY2xlQm91bmRzID0gbmV3IFJlY3QoXG4gICAgICAgIG9ic3RhY2xlUG9zaXRpb24ueCAtIG9ic3RhY2xlQXNzZXQud2lkdGggLyAyLFxuICAgICAgICBvYnN0YWNsZVBvc2l0aW9uLnkgLSBvYnN0YWNsZUFzc2V0LmhlaWdodCAvIDIsXG4gICAgICAgIG9ic3RhY2xlUG9zaXRpb24ueCArIG9ic3RhY2xlQXNzZXQud2lkdGggLyAyLFxuICAgICAgICBvYnN0YWNsZVBvc2l0aW9uLnlcbiAgICAgICk7XG4gICAgICBjb25zdCBjaGVja0lmVHdvUmVjdHNudGVyc2VjdCA9IGludGVyc2VjdFR3b1JlY3RzKFxuICAgICAgICBza2llckJvdW5kcyxcbiAgICAgICAgb2JzdGFjbGVCb3VuZHNcbiAgICAgICk7XG5cbiAgICAgIGlmIChjaGVja0lmVHdvUmVjdHNudGVyc2VjdCAmJiB0aGlzLkNoZWNrSWZTa2llclNob3VsZEp1bXAob2JzdGFjbGVOYW1lKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICByZXR1cm4gY2hlY2tJZlR3b1JlY3RzbnRlcnNlY3Q7XG4gICAgfSk7XG5cbiAgICBpZiAoY29sbGlzaW9uKSB7XG4gICAgICB0aGlzLnNldERpcmVjdGlvbihDb25zdGFudHMuU0tJRVJfRElSRUNUSU9OUy5DUkFTSCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBTZXJ2aWNlIH0gZnJvbSBcInR5cGVkaVwiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuLi9jb25zdGFudHMvY29uc3RzXCI7XG5pbXBvcnQgQXNzZXRNYW5hZ2VyIGZyb20gXCIuLi9sb2FkZXJzL2Fzc2V0TWFuYWdlclwiO1xuaW1wb3J0IENhbnZhcyBmcm9tIFwiLi4vbG9hZGVycy9jYW52YXNcIjtcbmltcG9ydCBFbnRpdHkgIGZyb20gXCIuLi9sb2FkZXJzL2VudGl0eVwiO1xuaW1wb3J0IHsgaW50ZXJzZWN0VHdvUmVjdHMsIFJlY3QgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3V0aWxzXCI7XG5pbXBvcnQgU2tpZXIgZnJvbSBcIi4vc2tpZXJTZXJ2aWNlXCI7XG5cbmNvbnN0IFJISU5PX1NLSUVSX1NUQVJUSU5HX0RJU1RBTkNFID0gMzAwMDtcbmNvbnN0IEFDVElPTl9EVVJBVElPTiA9IDcwMDtcblxuQFNlcnZpY2UoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmhpbm8gZXh0ZW5kcyBFbnRpdHkge1xuICBhc3NldE5hbWUgPSBDb25zdGFudHMuUkhJTk9fUlVOX0xFRlQ7XG4gIGFjdGlvbiA9IENvbnN0YW50cy5SSElOT19BQ1RJT05TLkNIQVNFX1NLSUVSO1xuXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgc3VwZXIoeCwgeSk7XG4gIH1cblxuICByZXN0YXJ0Umhpbm8oKXtcbiAgICAgICAgdGhpcy5hc3NldE5hbWUgPSBDb25zdGFudHMuUkhJTk9fUlVOX0xFRlQ7XG4gICAgICAgIHRoaXMuYWN0aW9uID0gQ29uc3RhbnRzLlJISU5PX0FDVElPTlMuQ0hBU0VfU0tJRVI7XG4gICAgICAgIHRoaXMueCA9IDA7XG4gICAgICAgIHRoaXMueSA9IDA7XG5cbiAgfTtcblxuICBkcmF3Umhpbm8oY2FudmFzOiBDYW52YXMsIGFzc2V0TWFuYWdlcjogQXNzZXRNYW5hZ2VyKSB7XG4gICAgaWYgKHRoaXMueSA+PSBSSElOT19TS0lFUl9TVEFSVElOR19ESVNUQU5DRSkge1xuICAgICAgdGhpcy5kcmF3KGNhbnZhcywgYXNzZXRNYW5hZ2VyKTtcbiAgICB9XG4gIH1cblxuICBtb3ZlKHNraWVyOiBTa2llcikge1xuICAgIGlmIChcbiAgICAgIHNraWVyLnkgPj0gUkhJTk9fU0tJRVJfU1RBUlRJTkdfRElTVEFOQ0UgJiZcbiAgICAgIHRoaXMuYWN0aW9uID09PSBDb25zdGFudHMuUkhJTk9fQUNUSU9OUy5DSEFTRV9TS0lFUlxuICAgICkge1xuICAgICAgdGhpcy55ID0gc2tpZXIueTtcbiAgICAgIHN3aXRjaCAoc2tpZXIuZGlyZWN0aW9uKSB7XG4gICAgICAgIGNhc2UgQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuRE9XTjpcbiAgICAgICAgICB0aGlzLm1vdmVEb3duKHNraWVyLnkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLkxFRlQ6XG4gICAgICAgICAgdGhpcy5tb3ZlTGVmdChza2llci5zcGVlZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuUklHSFQ6XG4gICAgICAgICAgdGhpcy5tb3ZlUmlnaHQoc2tpZXIuc3BlZWQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLlVQOlxuICAgICAgICAgIHRoaXMubW92ZVVwKHNraWVyLnkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLkNSQVNIOlxuICAgICAgICAgIHRoaXMubW92ZURvd24oc2tpZXIueSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbW92ZUxlZnQoc2tpZXJfc3BlZWQ6IG51bWJlcikge1xuICAgIHRoaXMueCArPSBza2llcl9zcGVlZDtcbiAgfVxuXG4gIG1vdmVSaWdodChza2llcl9zcGVlZDogbnVtYmVyKSB7XG4gICAgdGhpcy54ICs9IHNraWVyX3NwZWVkICogMjtcbiAgfVxuXG4gIG1vdmVVcChza2llcl9wb3NpdGlvbl94OiBudW1iZXIpIHtcbiAgICB0aGlzLnggPSBza2llcl9wb3NpdGlvbl94IC0gUkhJTk9fU0tJRVJfU1RBUlRJTkdfRElTVEFOQ0UgKiAyO1xuICB9XG5cbiAgbW92ZURvd24oc2tpZXJfcG9zaXRpb25feTogbnVtYmVyKSB7XG4gICAgdGhpcy54ID0gc2tpZXJfcG9zaXRpb25feSAtIFJISU5PX1NLSUVSX1NUQVJUSU5HX0RJU1RBTkNFICogMjtcbiAgfVxuXG4gIGVuZElmUmhpbm9DYXRjaFNraWVyKGFzc2V0TWFuYWdlcjogQXNzZXRNYW5hZ2VyLCBza2llcjogU2tpZXIpIHtcbiAgICBpZiAodGhpcy5hY3Rpb24gPT09IENvbnN0YW50cy5SSElOT19BQ1RJT05TLkNIQVNFX1NLSUVSKSB7XG4gICAgICBjb25zdCBhc3NldCA9IGFzc2V0TWFuYWdlci5nZXRBc3NldCh0aGlzLmFzc2V0TmFtZSk7XG4gICAgICBjb25zdCBSaGlub0JvdW5kcyA9IG5ldyBSZWN0KFxuICAgICAgICB0aGlzLnggLSBhc3NldC53aWR0aCAvIDIsXG4gICAgICAgIHRoaXMueSAtIGFzc2V0LmhlaWdodCAvIDIsXG4gICAgICAgIHRoaXMueCArIGFzc2V0LndpZHRoIC8gMixcbiAgICAgICAgdGhpcy55IC0gYXNzZXQuaGVpZ2h0IC8gNFxuICAgICAgKTtcblxuICAgICAgY29uc3QgU2tpZXJBc3NldCA9IGFzc2V0TWFuYWdlci5nZXRBc3NldChza2llci5hc3NldE5hbWUpO1xuICAgICAgY29uc3QgU2tpZXJCb3VuZHMgPSBuZXcgUmVjdChcbiAgICAgICAgc2tpZXIueCAtIFNraWVyQXNzZXQud2lkdGggLyAyLFxuICAgICAgICBza2llci55IC0gU2tpZXJBc3NldC5oZWlnaHQgLyAyLFxuICAgICAgICBza2llci54ICsgU2tpZXJBc3NldC53aWR0aCAvIDIsXG4gICAgICAgIHNraWVyLnkgLSBTa2llckFzc2V0LmhlaWdodCAvIDRcbiAgICAgICk7XG4gICAgICBjb25zdCBjb2xsaXNpb24gPSBpbnRlcnNlY3RUd29SZWN0cyhSaGlub0JvdW5kcywgU2tpZXJCb3VuZHMpO1xuXG4gICAgICBpZiAoY29sbGlzaW9uKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlU2tpZXIoc2tpZXIpO1xuICAgICAgICB0aGlzLnNldEFjdGlvbihDb25zdGFudHMuUkhJTk9fQUNUSU9OUy5MSUZUX1NLSUVSKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW1vdmVTa2llcihza2llcjogU2tpZXIpIHtcbiAgICBza2llci5kaXJlY3Rpb24gPSBDb25zdGFudHMuU0tJRVJfRElSRUNUSU9OUy5LSUxMO1xuICAgIHNraWVyLnkgPSB0aGlzLnk7XG4gICAgc2tpZXIueCA9IHRoaXMueDtcbiAgICBza2llci5hc3NldE5hbWUgPSBDb25zdGFudHMuS0lMTF9TS0lFUjtcbiAgfVxuXG4gIHNldEFjdGlvbihhY3Rpb246IG51bWJlcikge1xuICAgIHRoaXMuYWN0aW9uID0gYWN0aW9uO1xuICAgIHRoaXMudXBkYXRlQXNzZXQoKTtcbiAgfVxuXG4gIHVwZGF0ZUFzc2V0KCkge1xuICAgIHRoaXMuYXNzZXROYW1lID0gQ29uc3RhbnRzLlJISU5PX0FDVElPTl9BU1NFVFt0aGlzLmFjdGlvbl07XG4gIH1cblxuICB1cGRhdGVBY3Rpb24oc2tpZXI6IFNraWVyKSB7XG4gICAgaWYgKHRoaXMuYWN0aW9uKSB7XG4gICAgICB0aGlzLnJlbW92ZVNraWVyKHNraWVyKTtcbiAgICAgIHN3aXRjaCAodGhpcy5hY3Rpb24pIHtcbiAgICAgICAgY2FzZSBDb25zdGFudHMuUkhJTk9fQUNUSU9OUy5MSUZUX1NLSUVSOlxuICAgICAgICAgIHRoaXMuY2hhbmdlQWN0aW9uKENvbnN0YW50cy5SSElOT19BQ1RJT05TLkxJRlRfTU9VVEhfT1BFTl9TS0lFUik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ29uc3RhbnRzLlJISU5PX0FDVElPTlMuTElGVF9NT1VUSF9PUEVOX1NLSUVSOlxuICAgICAgICAgIHRoaXMuY2hhbmdlQWN0aW9uKENvbnN0YW50cy5SSElOT19BQ1RJT05TLkNIRVdfU0tJRVIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbnN0YW50cy5SSElOT19BQ1RJT05TLkNIRVdfU0tJRVI6XG4gICAgICAgICAgdGhpcy5jaGFuZ2VBY3Rpb24oQ29uc3RhbnRzLlJISU5PX0FDVElPTlMuU1dBTExPV19TS0lFUik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ29uc3RhbnRzLlJISU5PX0FDVElPTlMuU1dBTExPV19TS0lFUjpcbiAgICAgICAgICB0aGlzLmNoYW5nZUFjdGlvbihDb25zdGFudHMuUkhJTk9fQUNUSU9OUy5FTkQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNoYW5nZUFjdGlvbihyaGlub0FjdGlvbjogbnVtYmVyKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnNldEFjdGlvbihyaGlub0FjdGlvbik7XG4gICAgfSwgQUNUSU9OX0RVUkFUSU9OKTtcbiAgfVxufVxuIiwiaW1wb3J0IEFzc2V0TWFuYWdlciBmcm9tIFwiLi4vbG9hZGVycy9hc3NldE1hbmFnZXJcIjtcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi4vY29uc3RhbnRzL2NvbnN0c1wiO1xuaW1wb3J0IE9ic3RhY2xlU2VydmljZSBmcm9tIFwiLi4vc2VydmljZXMvb2JzdGFjbGVTZXJ2aWNlXCI7XG5pbXBvcnQgIENhbnZhcyAgZnJvbSBcIi4uL2xvYWRlcnMvY2FudmFzXCI7XG5pbXBvcnQgU2tpZXIgZnJvbSBcIi4uL3NlcnZpY2VzL3NraWVyU2VydmljZVwiXG5pbXBvcnQgeyBSZWN0IH0gZnJvbSBcIi4uL3V0aWxpdGllcy91dGlsc1wiO1xuaW1wb3J0IFJoaW5vIGZyb20gXCIuLi9zZXJ2aWNlcy9yaGlub1NlcnZpY2VcIlxuaW1wb3J0IHsgU2VydmljZSB9IGZyb20gXCJ0eXBlZGlcIjtcblxuQFNlcnZpY2UoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSAge1xuICBnYW1lV2luZG93OiBSZWN0ID0gbmV3IFJlY3QoMCwgMCwgMCwgMCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhc3NldE1hbmFnZXI6IEFzc2V0TWFuYWdlcixcbiAgICBwcml2YXRlIG9ic3RhY2xlU2VydmljZTogT2JzdGFjbGVTZXJ2aWNlLFxuICAgIHByaXZhdGUgc2tpZXI6IFNraWVyLFxuICAgIHByaXZhdGUgY2FudmFzOiBDYW52YXMsXG4gICAgcHJpdmF0ZSByaGlubzogUmhpbm9cbiAgKSB7XG4gICAgdGhpcy5za2llciA9IG5ldyBTa2llcigwLCAwKTtcbiAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXMoQ29uc3RhbnRzLkdBTUVfV0lEVEgsIENvbnN0YW50cy5HQU1FX0hFSUdIVCk7XG4gICAgdGhpcy5yaGlubyA9IG5ldyBSaGlubygwLCAwKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKSk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMub2JzdGFjbGVTZXJ2aWNlLnBsYWNlSW5pdGlhbE9ic3RhY2xlcygpO1xuICB9XG5cbiAgYXN5bmMgbG9hZCgpIHtcbiAgICBhd2FpdCB0aGlzLmFzc2V0TWFuYWdlci5sb2FkQXNzZXRzKENvbnN0YW50cy5BU1NFVFMpO1xuICB9XG5cbiAgcnVuKCkge1xuICAgIHRoaXMuY2FudmFzLmNsZWFyQ2FudmFzKCk7XG5cbiAgICB0aGlzLnVwZGF0ZUdhbWVXaW5kb3coKTtcbiAgICB0aGlzLmRyYXdHYW1lV2luZG93KCk7XG5cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5ydW4uYmluZCh0aGlzKSk7XG4gIH1cblxuICB1cGRhdGVHYW1lV2luZG93KCkge1xuICAgIHRoaXMuc2tpZXIubW92ZSgpO1xuXG4gICAgY29uc3QgcHJldmlvdXNHYW1lV2luZG93ID0gdGhpcy5nYW1lV2luZG93O1xuICAgIHRoaXMuY2FsY3VsYXRlR2FtZVdpbmRvdygpO1xuXG4gICAgdGhpcy5vYnN0YWNsZVNlcnZpY2UucGxhY2VOZXdPYnN0YWNsZSh0aGlzLmdhbWVXaW5kb3csIHByZXZpb3VzR2FtZVdpbmRvdyk7XG4gICAgdGhpcy5za2llci5jaGVja0lmU2tpZXJIaXRPYnN0YWNsZSh0aGlzLm9ic3RhY2xlU2VydmljZSwgdGhpcy5hc3NldE1hbmFnZXIpO1xuXG4gICAgdGhpcy5yaGluby5tb3ZlKHRoaXMuc2tpZXIpO1xuICAgIHRoaXMucmhpbm8uZW5kSWZSaGlub0NhdGNoU2tpZXIodGhpcy5hc3NldE1hbmFnZXIsIHRoaXMuc2tpZXIpO1xuICAgIHRoaXMucmhpbm8udXBkYXRlQWN0aW9uKHRoaXMuc2tpZXIpO1xuICAgIFxuICB9XG5cbiAgcmVzZXRHYW1lKCl7XG4gICAgICB0aGlzLnNraWVyLnJlc3RhcnRTa2llcigpO1xuICAgICAgdGhpcy5yaGluby5yZXN0YXJ0Umhpbm8oKTtcbiAgICAgIHRoaXMub2JzdGFjbGVTZXJ2aWNlLnJlc3RhcnRPYnN0YWNsZSgpO1xuICB9XG5cbiAgZHJhd0dhbWVXaW5kb3coKSB7XG4gICAgdGhpcy5jYW52YXMuc2V0RHJhd09mZnNldCh0aGlzLmdhbWVXaW5kb3cubGVmdCwgdGhpcy5nYW1lV2luZG93LnRvcCk7XG5cbiAgICB0aGlzLnNraWVyLmRyYXcodGhpcy5jYW52YXMsIHRoaXMuYXNzZXRNYW5hZ2VyKTtcbiAgICB0aGlzLm9ic3RhY2xlU2VydmljZS5kcmF3T2JzdGFjbGVzKHRoaXMuY2FudmFzLCB0aGlzLmFzc2V0TWFuYWdlcik7XG4gICAgdGhpcy5yaGluby5kcmF3Umhpbm8odGhpcy5jYW52YXMsIHRoaXMuYXNzZXRNYW5hZ2VyKTtcbiAgfVxuICBjYWxjdWxhdGVHYW1lV2luZG93KCkge1xuICAgIGNvbnN0IHNraWVyUG9zaXRpb24gPSB0aGlzLnNraWVyLmdldFBvc2l0aW9uKCk7XG4gICAgY29uc3QgbGVmdCA9IHNraWVyUG9zaXRpb24ueCAtIENvbnN0YW50cy5HQU1FX1dJRFRIIC8gMjtcbiAgICBjb25zdCB0b3AgPSBza2llclBvc2l0aW9uLnkgLSBDb25zdGFudHMuR0FNRV9IRUlHSFQgLyAyO1xuXG4gICAgdGhpcy5nYW1lV2luZG93ID0gbmV3IFJlY3QoXG4gICAgICBsZWZ0LFxuICAgICAgdG9wLFxuICAgICAgbGVmdCArIENvbnN0YW50cy5HQU1FX1dJRFRILFxuICAgICAgdG9wICsgQ29uc3RhbnRzLkdBTUVfSEVJR0hUXG4gICAgKTtcbiAgfVxuXG4gIGhhbmRsZUtleURvd24oZXZlbnQ6IGFueSkge1xuICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgIGNhc2UgQ29uc3RhbnRzLktFWVMuTEVGVDpcbiAgICAgICAgdGhpcy5za2llci50dXJuTGVmdCgpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29uc3RhbnRzLktFWVMuUklHSFQ6XG4gICAgICAgIHRoaXMuc2tpZXIudHVyblJpZ2h0KCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb25zdGFudHMuS0VZUy5VUDpcbiAgICAgICAgdGhpcy5za2llci50dXJuVXAoKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5LRVlTLkRPV046XG4gICAgICAgIHRoaXMuc2tpZXIudHVybkRvd24oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5LRVlTLlNQQUNFOlxuICAgICAgICB0aGlzLnNraWVyLnBhdXNlKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb25zdGFudHMuS0VZUy5SZXNldDpcbiAgICAgICAgdGhpcy5yZXNldEdhbWUoKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiBcbn0iLCJpbXBvcnQgXCIuLi9wdWJsaWMvY3NzL2dhbWUuY3NzXCI7XG5pbXBvcnQgXCJyZWZsZWN0LW1ldGFkYXRhXCI7XG5pbXBvcnQgQ29udGFpbmVyIGZyb20gXCJ0eXBlZGlcIjtcblxuaW1wb3J0IEdhbWVTZXJ2aWNlIGZyb20gXCIuL3NlcnZpY2VzL2dhbWVTZXJ2aWNlXCI7XG5cbmNvbnN0IHN0YXJ0R2FtZSA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgZ2FtZVNlcnZpY2UgPSBDb250YWluZXIuZ2V0KEdhbWVTZXJ2aWNlKTtcbiAgZ2FtZVNlcnZpY2UubG9hZCgpLnRoZW4oKCkgPT4ge1xuXG4gICAgZ2FtZVNlcnZpY2UuaW5pdCgpO1xuICAgIGdhbWVTZXJ2aWNlLnJ1bigpO1xuICB9KTtcblxuICBjb25zb2xlLmxvZyhcIkdhbWUgc3RhcnRlZFwiKTtcbn07XG5cbnN0YXJ0R2FtZSgpLmNhdGNoKChlcnIpID0+IHtcbiAgY29uc29sZS5lcnJvcihlcnIpO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9