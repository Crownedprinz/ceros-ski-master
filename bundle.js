!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=10)}([function(t,e,n){"use strict";var r=n(2),i=n.n(r),o=n(3),s=n.n(o)()(i.a);s.push([t.i,"html, body {\n    margin: 0;\n    padding: 0;\n}","",{version:3,sources:["webpack://./public/css/game.css"],names:[],mappings:"AAAA;IACI,SAAS;IACT,UAAU;AACd",sourcesContent:["html, body {\n    margin: 0;\n    padding: 0;\n}"],sourceRoot:""}]),e.a=s},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],c=e.base?o[0]+e.base:o[0],u=n[c]||0,h="".concat(c," ").concat(u);n[c]=u+1;var f=a(h),l={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(s[f].references++,s[f].updater(l)):s.push({identifier:h,updater:v(l,e),references:1}),r.push(h)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var h,f=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function l(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=f(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function p(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,y=0;function v(t,e){var n,r,i;if(e.singleton){var o=y++;n=d||(d=u(e)),r=l.bind(null,n,o,!1),i=l.bind(null,n,o,!0)}else n=u(e),r=p.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);s[i].references--}for(var o=c(t,e),u=0;u<n.length;u++){var h=a(n[u]);0===s[h].references&&(s[h].updater(),s.splice(h,1))}n=o}}}},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var e=r(t,4),n=e[1],i=e[3];if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),a="/*# ".concat(s," */"),c=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(c).concat([a]).join("\n")}return[n].join("\n")}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},,,,function(t,e,n){(function(t,e){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(r){var i="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=s(n);function s(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===i.Reflect?i.Reflect=n:o=s(i.Reflect,o),function(e){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,a={__proto__:[]}instanceof Array,c=!s&&!a,u={create:s?function(){return I(Object.create(null))}:a?function(){return I({__proto__:null})}:function(){return I({})},has:c?function(t,e){return n.call(t,e)}:function(t,e){return e in t},get:c?function(t,e){return n.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},h=Object.getPrototypeOf(Function),f="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=f||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,i)},e.prototype.entries=function(){return new n(this._keys,this._values,s)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function i(t,e){return e}function s(t,e){return[t,e]}}():Map,p=f||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new l}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}():Set,d=new(f||"function"!=typeof WeakMap?function(){var t=u.create(),e=r();return function(){function t(){this._key=r()}return t.prototype.has=function(t){var e=i(t,!1);return void 0!==e&&u.has(e,this._key)},t.prototype.get=function(t){var e=i(t,!1);return void 0!==e?u.get(e,this._key):void 0},t.prototype.set=function(t,e){return i(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=i(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=r()},t}();function r(){var e;do{e="@@WeakMap@@"+s()}while(u.has(t,e));return t[e]=!0,e}function i(t,r){if(!n.call(t,e)){if(!r)return;Object.defineProperty(t,e,{value:u.create()})}return t[e]}function o(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(){var t,e=(t=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):o(new Uint8Array(t),t):o(new Array(t),t));e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<16;++r){var i=e[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function y(t,e,n){var r=d.get(t);if(k(r)){if(!n)return;r=new l,d.set(t,r)}var i=r.get(e);if(k(i)){if(!n)return;i=new l,r.set(e,i)}return i}function v(t,e,n){var r=y(e,n,!1);return!k(r)&&!!r.has(t)}function m(t,e,n){var r=y(e,n,!1);if(!k(r))return r.get(t)}function g(t,e,n,r){y(n,r,!0).set(t,e)}function b(t,e){var n=[],r=y(t,e,!1);if(k(r))return n;for(var i=function(t){var e=P(t,o);if(!j(e))throw new TypeError;var n=e.call(t);if(!O(n))throw new TypeError;return n}(r.keys()),s=0;;){var a=D(i);if(!a)return n.length=s,n;var c=a.value;try{n[s]=c}catch(t){try{E(i)}finally{throw t}}s++}}function w(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function k(t){return void 0===t}function _(t){return null===t}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function R(t,e){switch(w(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=P(t,i);if(void 0!==r){var o=r.call(t,n);if(O(o))throw new TypeError;return o}return function(t,e){if("string"===e){var n=t.toString;if(j(n))if(!O(i=n.call(t)))return i;if(j(r=t.valueOf))if(!O(i=r.call(t)))return i}else{var r;if(j(r=t.valueOf))if(!O(i=r.call(t)))return i;var i,o=t.toString;if(j(o))if(!O(i=o.call(t)))return i}throw new TypeError}(t,"default"===n?"number":n)}function S(t){var e=R(t,3);return"symbol"==typeof e?e:function(t){return""+t}(e)}function x(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function j(t){return"function"==typeof t}function A(t){return"function"==typeof t}function P(t,e){var n=t[e];if(null!=n){if(!j(n))throw new TypeError;return n}}function D(t){var e=t.next();return!e.done&&e}function E(t){var e=t.return;e&&e.call(t)}function T(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===h)return e;if(e!==h)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var i=r.constructor;return"function"!=typeof i||i===t?e:i}function I(t){return t.__=void 0,delete t.__,t}e("decorate",(function(t,e,n,r){if(k(n)){if(!x(t))throw new TypeError;if(!A(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!k(r)&&!_(r)){if(!A(r))throw new TypeError;e=r}}return e}(t,e)}if(!x(t))throw new TypeError;if(!O(e))throw new TypeError;if(!O(r)&&!k(r)&&!_(r))throw new TypeError;return _(r)&&(r=void 0),function(t,e,n,r){for(var i=t.length-1;i>=0;--i){var o=(0,t[i])(e,n,r);if(!k(o)&&!_(o)){if(!O(o))throw new TypeError;r=o}}return r}(t,e,n=S(n),r)})),e("metadata",(function(t,e){return function(n,r){if(!O(n))throw new TypeError;if(!k(r)&&!function(t){switch(w(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;g(t,e,n,r)}})),e("defineMetadata",(function(t,e,n,r){if(!O(n))throw new TypeError;return k(r)||(r=S(r)),g(t,e,n,r)})),e("hasMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return k(n)||(n=S(n)),function t(e,n,r){if(v(e,n,r))return!0;var i=T(n);return!_(i)&&t(e,i,r)}(t,e,n)})),e("hasOwnMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return k(n)||(n=S(n)),v(t,e,n)})),e("getMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return k(n)||(n=S(n)),function t(e,n,r){if(v(e,n,r))return m(e,n,r);var i=T(n);return _(i)?void 0:t(e,i,r)}(t,e,n)})),e("getOwnMetadata",(function(t,e,n){if(!O(e))throw new TypeError;return k(n)||(n=S(n)),m(t,e,n)})),e("getMetadataKeys",(function(t,e){if(!O(t))throw new TypeError;return k(e)||(e=S(e)),function t(e,n){var r=b(e,n),i=T(e);if(null===i)return r;var o=t(i,n);if(o.length<=0)return r;if(r.length<=0)return o;for(var s=new p,a=[],c=0,u=r;c<u.length;c++){var h=u[c];s.has(h)||(s.add(h),a.push(h))}for(var f=0,l=o;f<l.length;f++){h=l[f];s.has(h)||(s.add(h),a.push(h))}return a}(t,e)})),e("getOwnMetadataKeys",(function(t,e){if(!O(t))throw new TypeError;return k(e)||(e=S(e)),b(t,e)})),e("deleteMetadata",(function(t,e,n){if(!O(e))throw new TypeError;k(n)||(n=S(n));var r=y(e,n,!1);if(k(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var i=d.get(e);return i.delete(n),i.size>0||d.delete(e),!0}))}(o)}()}(n||(n={}))}).call(this,n(8),n(9))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],h=!1,f=-1;function l(){h&&c&&(h=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!h){var t=a(l);h=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||h||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var r,i=n(1),o=n.n(i),s=n(0),a={insert:"head",singleton:!1},c=(o()(s.a,a),s.a.locals,n(7),function(t){this.name=t}),u=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(e){var n,r=t.call(this)||this;return r.name="ServiceNotFoundError",r.normalizedIdentifier="<UNKNOWN_IDENTIFIER>","string"==typeof e?r.normalizedIdentifier=e:e instanceof c?r.normalizedIdentifier="Token<"+(e.name||"UNSET_NAME")+">":e&&(e.name||(null===(n=e.prototype)||void 0===n?void 0:n.name))&&(r.normalizedIdentifier="MaybeConstructable<"+e.name+">"||!1),r}return u(e,t),Object.defineProperty(e.prototype,"message",{get:function(){return'Service with "'+this.normalizedIdentifier+'" identifier was not found in the container. Register it before usage via explicitly calling the "Container.set" function or using the "@Service()" decorator.'},enumerable:!1,configurable:!0}),e}(Error),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n,r=t.call(this)||this;return r.name="CannotInstantiateValueError",r.normalizedIdentifier="<UNKNOWN_IDENTIFIER>","string"==typeof e?r.normalizedIdentifier=e:e instanceof c?r.normalizedIdentifier="Token<"+(e.name||"UNSET_NAME")+">":e&&(e.name||(null===(n=e.prototype)||void 0===n?void 0:n.name))&&(r.normalizedIdentifier="MaybeConstructable<"+e.name+">"||!1),r}return f(e,t),Object.defineProperty(e.prototype,"message",{get:function(){return'Cannot instantiate the requested value for the "'+this.normalizedIdentifier+"\" identifier. The related metadata doesn't contain a factory or a type to instantiate."},enumerable:!1,configurable:!0}),e}(Error),p=Symbol("EMPTY_VALUE"),d=function(){return(d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},y=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},v=function(){function t(t){this.services=[],this.id=t}return t.prototype.has=function(t){return!!this.findService(t)},t.prototype.get=function(t){var e=m.of(void 0),n=e.findService(t),r=this.findService(t);if(n&&!0===n.global)return this.getServiceValue(n);if(r)return this.getServiceValue(r);if(n&&this!==e){var i=d({},n);i.value=p,this.set(i);var o=this.getServiceValue(i);return this.set(d(d({},i),{value:o})),o}if(n)return this.getServiceValue(n);throw new h(t)},t.prototype.getMany=function(t){var e=this;return this.findAllServices(t).map((function(t){return e.getServiceValue(t)}))},t.prototype.set=function(t,e){var n=this;if(t instanceof Array)return t.forEach((function(t){return n.set(t)})),this;if("string"==typeof t||t instanceof c)return this.set({id:t,type:null,value:e,factory:void 0,global:!1,multiple:!1,eager:!1,transient:!1});if("function"==typeof t)return this.set({id:t,type:t,value:e,factory:void 0,global:!1,multiple:!1,eager:!1,transient:!1});var r=d({id:new c("UNREACHABLE"),type:null,factory:void 0,value:p,global:!1,multiple:!1,eager:!1,transient:!1},t),i=this.findService(r.id);return i&&!0!==i.multiple?Object.assign(i,r):this.services.push(r),r.eager&&this.get(r.id),this},t.prototype.remove=function(t){var e=this;return Array.isArray(t)?t.forEach((function(t){return e.remove(t)})):this.services=this.services.filter((function(n){return n.id!==t||(e.destroyServiceInstance(n),!1)})),this},t.prototype.reset=function(t){var e=this;switch(void 0===t&&(t={strategy:"resetValue"}),t.strategy){case"resetValue":this.services.forEach((function(t){return e.destroyServiceInstance(t)}));break;case"resetServices":this.services.forEach((function(t){return e.destroyServiceInstance(t)})),this.services=[];break;default:throw new Error("Received invalid reset strategy.")}return this},t.prototype.findAllServices=function(t){return this.services.filter((function(e){return e.id===t}))},t.prototype.findService=function(t){return this.services.find((function(e){return e.id===t}))},t.prototype.getServiceValue=function(t){var e,n=p;if(t.value!==p)return t.value;if(!t.factory&&!t.type)throw new l(t.id);if(t.factory)if(t.factory instanceof Array){var r=void 0;try{r=this.get(t.factory[0])}catch(e){if(!(e instanceof h))throw e;r=new t.factory[0]}n=r[t.factory[1]](this,t.id)}else n=t.factory(this,t.id);if(!t.factory&&t.type){var i=t.type,o=(null===(e=Reflect)||void 0===e?void 0:e.getMetadata("design:paramtypes",i))||[],s=this.initializeParams(i,o);s.push(this),n=new(i.bind.apply(i,y([void 0],s)))}if(t.transient||n===p||(t.value=n),n===p)throw new l(t.id);return t.type&&this.applyPropertyHandlers(t.type,n),n},t.prototype.initializeParams=function(t,e){var n=this;return e.map((function(e,r){var i=m.handlers.find((function(e){return(e.object===t||e.object===Object.getPrototypeOf(t))&&e.index===r}));return i?i.value(n):e&&e.name&&!n.isPrimitiveParamType(e.name)?n.get(e):void 0}))},t.prototype.isPrimitiveParamType=function(t){return["string","boolean","number","object"].includes(t.toLowerCase())},t.prototype.applyPropertyHandlers=function(t,e){var n=this;m.handlers.forEach((function(r){"number"!=typeof r.index&&(r.object.constructor===t||t.prototype instanceof r.object.constructor)&&r.propertyName&&(e[r.propertyName]=r.value(n))}))},t.prototype.destroyServiceInstance=function(t,e){if(void 0===e&&(e=!1),e||!!t.type||!!t.factory){if("function"==typeof(null==t?void 0:t.value).destroy)try{t.value.destroy()}catch(t){}t.value=p}},t}(),m=function(){function t(){}return t.of=function(t){if(void 0===t&&(t="default"),"default"===t)return this.globalInstance;var e=this.instances.find((function(e){return e.id===t}));return e||(e=new v(t),this.instances.push(e)),e},t.has=function(t){return this.globalInstance.has(t)},t.get=function(t){return this.globalInstance.get(t)},t.getMany=function(t){return this.globalInstance.getMany(t)},t.set=function(t,e){return this.globalInstance.set(t,e),this},t.remove=function(t){return this.globalInstance.remove(t),this},t.reset=function(t){if(void 0===t&&(t="default"),"default"==t)this.globalInstance.reset(),this.instances.forEach((function(t){return t.reset()}));else{var e=this.instances.find((function(e){return e.id===t}));e&&(e.reset(),this.instances.splice(this.instances.indexOf(e),1))}return this},t.registerHandler=function(t){return this.handlers.push(t),this},t.import=function(t){return this},t.handlers=[],t.globalInstance=new v("default"),t.instances=[],t}(),g=m;function b(t){return function(e){var n={id:e,type:e,factory:void 0,multiple:!1,global:!1,eager:!1,transient:!1,value:p};t instanceof c||"string"==typeof t?n.id=t:t&&(n.id=t.id||e,n.factory=t.factory||void 0,n.multiple=t.multiple||!1,n.global=t.global||!1,n.eager=t.eager||!1,n.transient=t.transient||!1),m.set(n)}}var w=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},k=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};let O=class{constructor(){this.loadedAssets=[]}loadAssets(t){return _(this,void 0,void 0,(function*(){const e=[];for(const[n,r]of Object.entries(t)){const t=this.loadSingleAsset(r,n);e.push(t)}yield Promise.all(e)}))}loadSingleAsset(t,e){return new Promise(n=>{const r=new Image;r.onload=()=>{r.width/=2,r.height/=2,this.loadedAssets[e]=r,n()},r.src=t})}getAsset(t){return this.loadedAssets[t]}};O=w([b(),k("design:paramtypes",[])],O);var R=O;const S=window.innerWidth,x=window.innerHeight,j={skierCrash:"public/img/skier_crash.png",skierLeft:"public/img/skier_left.png",skierLeftDown:"public/img/skier_left_down.png",skierDown:"public/img/skier_down.png",skierRightDown:"public/img/skier_right_down.png",skierRight:"public/img/skier_right.png",tree:"public/img/tree_1.png",treeCluster:"public/img/tree_cluster.png",rock1:"public/img/rock_1.png",rock2:"public/img/rock_2.png",skierUp:"public/img/skier_jump_1.png",jumpRamp:"public/img/jump_ramp.png",rhinoRunLeft:"public/img/rhino_run_left.png",rhinoLift:"public/img/rhino_lift.png",rhinoLiftMouthOpen:"public/img/rhino_lift_mouth_open.png",rhinoLiftEat1:"public/img/rhino_lift_eat_1.png",rhinoLiftEat2:"public/img/rhino_lift_eat_2.png",rhinoLiftEat3:"public/img/rhino_lift_eat_3.png",killSkier:"public/img/clear_skier.png"},A=0,P=1,D=2,E=3,T=4,I=5,M=6,L=7,C=8,N={[A]:"skierCrash",[P]:"skierLeft",[D]:"skierLeftDown",[E]:"skierDown",[T]:"skierRightDown",[I]:"skierRight",[M]:"skierUp",[L]:"killSkier",[C]:"skierCrash"},U=37,W=39,z=38,K=40,G=32,V=82,F=0,H=1,B=2,J=3,q=4,Y=5,$={[F]:"rhinoRunLeft",[H]:"rhinoLift",[B]:"rhinoLiftMouthOpen",[J]:"rhinoLiftEat1",[q]:"rhinoLiftEat2",[Y]:"rhinoLiftEat3"};function Q(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}function X(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}class Z{constructor(t,e,n,r){this.left=0,this.top=0,this.right=0,this.bottom=0,this.left=t,this.top=e,this.right=n,this.bottom=r}}const tt=["tree","treeCluster","rock1","rock2","jumpRamp"];class et extends class{constructor(t,e){this.x=0,this.y=0,this.assetName="",this.x=t,this.y=e}getAssetName(){return this.assetName}getPosition(){return{x:this.x,y:this.y}}draw(t,e){const n=e.getAsset(this.assetName),r=this.x-n.width/2,i=this.y-n.height/2;t.drawImage(n,r,i,n.width,n.height)}}{constructor(t,e){super(t,e);const n=Q(0,tt.length-1);this.assetName=tt[n]}}var nt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},rt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let it=class{constructor(){this.obstacles=[]}restartObstacle(){this.obstacles=[]}getObstacles(){return this.obstacles}drawObstacles(t,e){this.obstacles.forEach(n=>{n.draw(t,e)})}placeInitialObstacles(){const t=Math.ceil(S/300*(x/300)),e=-S/2,n=S/2,r=x/2;for(let i=0;i<t;i++)this.placeRandomObstacle(e,n,100,r);this.obstacles.sort((t,e)=>t.getPosition().y-e.getPosition().y)}placeNewObstacle(t,e){8===Q(1,8)&&(t.left<e.left?this.placeObstacleLeft(t):t.left>e.left&&this.placeObstacleRight(t),t.top<e.top?this.placeObstacleTop(t):t.top>e.top&&this.placeObstacleBottom(t))}placeObstacleLeft(t){this.placeRandomObstacle(t.left,t.left,t.top,t.bottom)}placeObstacleRight(t){this.placeRandomObstacle(t.right,t.right,t.top,t.bottom)}placeObstacleTop(t){this.placeRandomObstacle(t.left,t.right,t.top,t.top)}placeObstacleBottom(t){this.placeRandomObstacle(t.left,t.right,t.bottom,t.bottom)}placeRandomObstacle(t,e,n,r){const i=this.calculateOpenPosition(t,e,n,r),o=new et(i.x,i.y);this.obstacles.push(o)}calculateOpenPosition(t,e,n,r){const i=Q(t,e),o=Q(n,r);return this.obstacles.find(t=>i>t.x-50&&i<t.x+50&&o>t.y-50&&o<t.y+50)?this.calculateOpenPosition(t,e,n,r):{x:i,y:o}}};it=nt([b(),rt("design:paramtypes",[])],it);var ot=it,st=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},at=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let ct=class{constructor(t,e){this.x=0,this.y=0,this.width=0,this.height=0,this.drawOffset={x:0,y:0},this.ctx=null,this.width=t,this.height=e,this.createCanvas()}restartCanvas(){this.x=0,this.y=0,this.width=0,this.height=0,this.drawOffset={x:0,y:0},this.ctx=null,this.width=S,this.height=x}createCanvas(){const t=document.createElement("canvas");t.id="skiCanvas",t.width=this.width*window.devicePixelRatio,t.height=this.height*window.devicePixelRatio,t.style.width=this.width+"px",t.style.height=this.height+"px",this.ctx=t.getContext("2d"),this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio),document.body.appendChild(t)}clearCanvas(){this.ctx.clearRect(this.x,this.y,this.width,this.height)}setDrawOffset(t,e){this.drawOffset.x=t,this.drawOffset.y=e}drawImage(t,e,n,r,i){e-=this.drawOffset.x,n-=this.drawOffset.y,this.ctx.drawImage(t,e,n,r,i)}drawText(t,e,n,r,i){this.ctx.font=t,this.ctx.fillStyle=e,this.ctx.fillText(n,r,i)}};ct=st([b(),at("design:paramtypes",[Number,Number])],ct);var ut=ct,ht=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},ft=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let lt=class{constructor(t,e){this.x=0,this.y=0,this.assetName="",this.x=t,this.y=e}getAssetName(){return this.assetName}getPosition(){return{x:this.x,y:this.y}}draw(t,e){const n=e.getAsset(this.assetName),r=this.x-n.width/2,i=this.y-n.height/2;t.drawImage(n,r,i,n.width,n.height)}};lt=ht([b(),ft("design:paramtypes",[Number,Number])],lt);var pt=lt,dt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},yt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let vt=class extends pt{constructor(t,e){super(t,e),this.assetName="skierDown",this.isPaused=!1,this.direction=E,this.lastDirection=this.direction,this.speed=10,this.isCrashed=!1}restartSkier(){this.assetName="skierDown",this.isPaused=!1,this.direction=E,this.lastDirection=this.direction,this.speed=10,this.x=0,this.y=0}setDirection(t){this.direction=t,this.updateAsset()}setLastDirection(t){this.lastDirection=t}updateAsset(){this.assetName=N[this.direction]}move(){switch(this.direction){case D:this.moveSkierLeftDown();break;case E:this.moveSkierDown();break;case T:this.moveSkierRightDown();break;case P:this.moveSkierLeft();break;case I:this.moveSkierRight();break;case M:this.moveSkierUp()}}moveSkierLeft(){this.x-=10}moveSkierLeftDown(){this.x-=this.speed/1.4142,this.y+=this.speed/1.4142}moveSkierDown(){this.y+=this.speed}moveSkierRightDown(){this.x+=this.speed/1.4142,this.y+=this.speed/1.4142}moveSkierRight(){this.x+=10}moveSkierUp(){this.y+=this.speed}turnLeft(){this.setDirection(P),this.updateLastDirection(),this.updateCrashedStatus()}turnRight(){this.setDirection(I),this.updateLastDirection(),this.updateCrashedStatus()}turnUp(){this.setDirection(M),this.updateLastDirection(),this.updateCrashedStatus()}touchMovement(t,e){this.x=t,this.y=e}turnDown(){this.setDirection(E),this.updateLastDirection(),this.updateCrashedStatus()}turnLeftDown(){this.setDirection(D),this.updateLastDirection(),this.updateCrashedStatus()}turnRightDown(){this.setDirection(T),this.updateLastDirection(),this.updateCrashedStatus()}updateCrashedStatus(){this.direction!=A&&(this.isCrashed=!1)}pause(){this.isPaused?(this.setDirection(this.lastDirection),this.isPaused=!1):(this.isPaused=!0,this.setDirection(C))}updateLastDirection(){this.setLastDirection(this.direction)}setSkierJumpOverRock(t){if(this.direction===M&&("rock1"===t||"rock2"===t))return!0}makeSkierJumpIfHitRamp(t){if("jumpRamp"===t)return this.turnUp(),!0}CheckIfSkierShouldJump(t){return this.setSkierJumpOverRock(t)||this.makeSkierJumpIfHitRamp(t)}checkIfSkierHitObstacle(t,e){const n=e.getAsset(this.assetName),r=new Z(this.x-n.width/2,this.y-n.height/2,this.x+n.width/2,this.y-n.height/4);t.getObstacles().find(t=>{const n=t.getAssetName(),i=e.getAsset(n),o=t.getPosition(),s=new Z(o.x-i.width/2,o.y-i.height/2,o.x+i.width/2,o.y),a=X(r,s);return(!a||!this.CheckIfSkierShouldJump(n))&&a})&&(this.isCrashed=!0,this.setDirection(A))}};vt=dt([b(),yt("design:paramtypes",[Number,Number])],vt);var mt=vt,gt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},bt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let wt=class extends pt{constructor(t,e){super(t,e),this.assetName="rhinoRunLeft",this.action=F}restartRhino(){this.assetName="rhinoRunLeft",this.action=F,this.x=0,this.y=0}drawRhino(t,e){this.y>=3e3&&this.draw(t,e)}move(t){if(t.y>=3e3&&this.action===F)switch(this.y=t.y,t.direction){case E:this.moveDown(t.y);break;case P:this.moveLeft(t.speed);break;case I:this.moveRight(t.speed);break;case M:this.moveUp(t.y);break;case A:this.moveDown(t.y)}}moveLeft(t){this.x+=t}moveRight(t){this.x+=2*t}moveUp(t){this.x=t-6e3}moveDown(t){this.x=t-6e3}endIfRhinoCatchSkier(t,e,n,r){if(this.action===F){const i=t.getAsset(this.assetName),o=new Z(this.x-i.width/2,this.y-i.height/2,this.x+i.width/2,this.y-i.height/4),s=t.getAsset(e.assetName);X(o,new Z(e.x-s.width/2,e.y-s.height/2,e.x+s.width/2,e.y-s.height/4))&&(r.stop(),n.play(),this.removeSkier(e),this.setAction(H))}}removeSkier(t){t.isCrashed=!0,t.direction=L,t.y=this.y,t.x=this.x,t.assetName="killSkier"}setAction(t){this.action=t,this.updateAsset()}updateAsset(){this.assetName=$[this.action]}updateAction(t){if(this.action)switch(this.removeSkier(t),this.action){case H:this.changeAction(B);break;case B:this.changeAction(J);break;case J:this.changeAction(q);break;case q:this.changeAction(Y)}}changeAction(t){var e=this;setTimeout((function(){e.setAction(t)}),700)}};wt=gt([b(),bt("design:paramtypes",[Number,Number])],wt);var kt=wt,_t=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Ot=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let Rt=class{constructor(t,e){this.score=0,this.x=t,this.y=e}resetScore(){this.score=0,this.x=0,this.y=0}updateScore(t){t.isPaused||t.isCrashed||(this.score+=1)}drawScore(t){t.drawText("30px Consolas","Red","Score: "+this.score,100,40)}};Rt=_t([b(),Ot("design:paramtypes",[Number,Number])],Rt);var St=Rt,xt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},jt=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let At=class{constructor(t){this.sound=document.createElement("audio"),this.sound.src=t,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound)}play(){this.sound.play()}stop(){this.sound.pause()}};At=xt([b(),jt("design:paramtypes",[String])],At);var Pt=At,Dt=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Et=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Tt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))};let It=class{constructor(t,e,n,r,i,o,s){this.assetManager=t,this.obstacleService=e,this.skier=n,this.canvas=r,this.rhino=i,this.score=o,this.sound=s,this.gameWindow=new Z(0,0,0,0),this.keys=[],this.skier=new mt(0,0),this.canvas=new ut(S,x),this.rhino=new kt(0,0),this.score=new St(0,0),this.sound=new Pt("public/sounds/failing.wav"),this.bkMusic=new Pt("public/sounds/background.mp3"),document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("keyup",this.handleKeyDown.bind(this)),this.startBackGroundMusic()}init(){this.obstacleService.placeInitialObstacles()}load(){return Tt(this,void 0,void 0,(function*(){yield this.assetManager.loadAssets(j)}))}run(){this.canvas.clearCanvas(),this.updateGameWindow(),this.drawGameWindow(),requestAnimationFrame(this.run.bind(this))}updateGameWindow(){this.skier.move();const t=this.gameWindow;this.calculateGameWindow(),this.obstacleService.placeNewObstacle(this.gameWindow,t),this.skier.checkIfSkierHitObstacle(this.obstacleService,this.assetManager),this.score.updateScore(this.skier),this.rhino.move(this.skier),this.rhino.endIfRhinoCatchSkier(this.assetManager,this.skier,this.sound,this.bkMusic),this.rhino.updateAction(this.skier)}resetGame(){this.skier.restartSkier(),this.rhino.restartRhino(),this.obstacleService.restartObstacle(),this.score.resetScore()}drawGameWindow(){this.canvas.setDrawOffset(this.gameWindow.left,this.gameWindow.top),this.score.drawScore(this.canvas),this.skier.draw(this.canvas,this.assetManager),this.obstacleService.drawObstacles(this.canvas,this.assetManager),this.rhino.drawRhino(this.canvas,this.assetManager)}calculateGameWindow(){const t=this.skier.getPosition(),e=t.x-S/2,n=t.y-x/2;this.gameWindow=new Z(e,n,e+S,n+x)}startBackGroundMusic(){this.bkMusic.play()}stopBackGroundMusic(){this.bkMusic.stop()}handleKeyDown(t){"keyup"===t.type&&(this.keys[t.which]="keydown"==t.type),"keydown"===t.type&&(this.keys=this.keys||[],this.keys[t.which]="keydown"==t.type),this.keys&&(this.keys[U]&&(this.skier.turnLeft(),t.preventDefault()),this.keys[W]&&(this.skier.turnRight(),t.preventDefault()),this.keys[z]&&(this.skier.turnUp(),t.preventDefault()),this.keys[K]&&(this.skier.turnDown(),t.preventDefault()),this.keys[G]&&(this.skier.pause(),t.preventDefault()),this.keys[V]&&(this.resetGame(),t.preventDefault()),this.keys[K]&&this.keys[W]&&(this.skier.turnRightDown(),t.preventDefault()),this.keys[K]&&this.keys[U]&&(this.skier.turnLeftDown(),t.preventDefault()))}};It=Dt([b(),Et("design:paramtypes",[R,ot,mt,ut,kt,St,Pt])],It);var Mt=It;(function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))})(void 0,void 0,void 0,(function*(){const t=g.get(Mt);t.load().then(()=>{t.init(),t.run()}),console.log("Game started")})).catch(t=>{console.error(t)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2Nzcy9nYW1lLmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVmbGVjdC1tZXRhZGF0YS9SZWZsZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWRpL2VzbTUvZXJyb3Ivc2VydmljZS1ub3QtZm91bmQuZXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2Nzcy9nYW1lLmNzcz9kNjMzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZGkvZXNtNS90b2tlbi5jbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWRpL2VzbTUvZXJyb3IvY2Fubm90LWluc3RhbnRpYXRlLXZhbHVlLmVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZGkvZXNtNS9lbXB0eS5jb25zdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHlwZWRpL2VzbTUvY29udGFpbmVyLWluc3RhbmNlLmNsYXNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZGkvZXNtNS9jb250YWluZXIuY2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3R5cGVkaS9lc201L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90eXBlZGkvZXNtNS9kZWNvcmF0b3JzL3NlcnZpY2UuZGVjb3JhdG9yLmpzIiwid2VicGFjazovLy8uL3NyYy9sb2FkZXJzL2Fzc2V0TWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc3RhbnRzL2NvbnN0cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbGl0aWVzL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvb2JzdGFjbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9lbnRpdHkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL29ic3RhY2xlU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGVycy9jYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvYWRlcnMvZW50aXR5LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9za2llclNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL3JoaW5vU2VydmljZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvc2NvcmVTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9zb3VuZFNlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2dhbWVTZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVyL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibGVuZ3RoIiwibW9kdWxlc1RvRG9tIiwibGlzdCIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJpdGVtIiwiaWQiLCJiYXNlIiwiY291bnQiLCJjb25jYXQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJfc2xpY2VkVG9BcnJheSIsImFyciIsIkFycmF5IiwiaXNBcnJheSIsIl9hcnJheVdpdGhIb2xlcyIsIml0ZXJhdG9yIiwiX3MiLCJfZSIsIl9hcnIiLCJfbiIsIl9kIiwibmV4dCIsImRvbmUiLCJlcnIiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJmcm9tIiwidGVzdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIlR5cGVFcnJvciIsIl9ub25JdGVyYWJsZVJlc3QiLCJsZW4iLCJhcnIyIiwiX2l0ZW0iLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJhc2U2NCIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJtYXAiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsInRoaXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIlJlZmxlY3QiLCJmYWN0b3J5Iiwicm9vdCIsImdsb2JhbCIsInNlbGYiLCJGdW5jdGlvbiIsImV4cG9ydGVyIiwibWFrZUV4cG9ydGVyIiwicHJldmlvdXMiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImhhc093biIsInN1cHBvcnRzU3ltYm9sIiwidG9QcmltaXRpdmVTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsIml0ZXJhdG9yU3ltYm9sIiwic3VwcG9ydHNDcmVhdGUiLCJzdXBwb3J0c1Byb3RvIiwiX19wcm90b19fIiwiZG93bkxldmVsIiwiSGFzaE1hcCIsIk1ha2VEaWN0aW9uYXJ5IiwiaGFzIiwidW5kZWZpbmVkIiwiZnVuY3Rpb25Qcm90b3R5cGUiLCJnZXRQcm90b3R5cGVPZiIsInVzZVBvbHlmaWxsIiwicHJvY2VzcyIsImVudiIsIl9NYXAiLCJNYXAiLCJlbnRyaWVzIiwiY2FjaGVTZW50aW5lbCIsImFycmF5U2VudGluZWwiLCJNYXBJdGVyYXRvciIsInZhbHVlcyIsInNlbGVjdG9yIiwiX2tleXMiLCJfdmFsdWVzIiwiX3NlbGVjdG9yIiwidGhyb3ciLCJlcnJvciIsInJldHVybiIsIl9jYWNoZUtleSIsIl9jYWNoZUluZGV4IiwiX2ZpbmQiLCJzZXQiLCJkZWxldGUiLCJzaXplIiwiY2xlYXIiLCJnZXRLZXkiLCJnZXRWYWx1ZSIsImdldEVudHJ5IiwiaW5kZXhPZiIsIl8iLCJDcmVhdGVNYXBQb2x5ZmlsbCIsIl9TZXQiLCJTZXQiLCJfbWFwIiwiYWRkIiwiTWV0YWRhdGEiLCJXZWFrTWFwIiwicm9vdEtleSIsIkNyZWF0ZVVuaXF1ZUtleSIsIl9rZXkiLCJ0YWJsZSIsIkdldE9yQ3JlYXRlV2Vha01hcFRhYmxlIiwiQ3JlYXRlVVVJRCIsIkZpbGxSYW5kb21CeXRlcyIsImJ1ZmZlciIsIk1hdGgiLCJyYW5kb20iLCJVaW50OEFycmF5IiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwibXNDcnlwdG8iLCJvZmZzZXQiLCJieXRlIiwidG9Mb3dlckNhc2UiLCJDcmVhdGVXZWFrTWFwUG9seWZpbGwiLCJHZXRPckNyZWF0ZU1ldGFkYXRhTWFwIiwiTyIsIlAiLCJDcmVhdGUiLCJ0YXJnZXRNZXRhZGF0YSIsIklzVW5kZWZpbmVkIiwibWV0YWRhdGFNYXAiLCJPcmRpbmFyeUhhc093bk1ldGFkYXRhIiwiTWV0YWRhdGFLZXkiLCJPcmRpbmFyeUdldE93bk1ldGFkYXRhIiwiT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YSIsIk1ldGFkYXRhVmFsdWUiLCJPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyIsIm1ldGhvZCIsIkdldE1ldGhvZCIsIklzQ2FsbGFibGUiLCJJc09iamVjdCIsIkdldEl0ZXJhdG9yIiwiayIsIkl0ZXJhdG9yU3RlcCIsIm5leHRWYWx1ZSIsIkl0ZXJhdG9yQ2xvc2UiLCJUeXBlIiwieCIsIklzTnVsbCIsIlRvUHJpbWl0aXZlIiwiaW5wdXQiLCJQcmVmZXJyZWRUeXBlIiwiaGludCIsImV4b3RpY1RvUHJpbSIsInRvU3RyaW5nXzEiLCJ2YWx1ZU9mIiwidG9TdHJpbmdfMiIsIk9yZGluYXJ5VG9QcmltaXRpdmUiLCJUb1Byb3BlcnR5S2V5IiwiYXJndW1lbnQiLCJUb1N0cmluZyIsIklzQXJyYXkiLCJJc0NvbnN0cnVjdG9yIiwiViIsImZ1bmMiLCJmIiwiT3JkaW5hcnlHZXRQcm90b3R5cGVPZiIsInByb3RvIiwicHJvdG90eXBlUHJvdG8iLCJfXyIsImRlY29yYXRvcnMiLCJwcm9wZXJ0eUtleSIsImRlY29yYXRlZCIsImRlY29yYXRvciIsIkRlY29yYXRlQ29uc3RydWN0b3IiLCJkZXNjcmlwdG9yIiwiRGVjb3JhdGVQcm9wZXJ0eSIsIm1ldGFkYXRhS2V5IiwibWV0YWRhdGFWYWx1ZSIsIklzUHJvcGVydHlLZXkiLCJPcmRpbmFyeUhhc01ldGFkYXRhIiwicGFyZW50IiwiT3JkaW5hcnlHZXRNZXRhZGF0YSIsIk9yZGluYXJ5TWV0YWRhdGFLZXlzIiwib3duS2V5cyIsInBhcmVudEtleXMiLCJvd25LZXlzXzEiLCJfYSIsInBhcmVudEtleXNfMSIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsInRpdGxlIiwiYnJvd3NlciIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImciLCJleHRlbmRTdGF0aWNzIiwiVG9rZW4iLCJsb2NhbHMiLCJfX2V4dGVuZHMiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfc3VwZXIiLCJTZXJ2aWNlTm90Rm91bmRFcnJvciIsIl90aGlzIiwibm9ybWFsaXplZElkZW50aWZpZXIiLCJDYW5ub3RJbnN0YW50aWF0ZVZhbHVlRXJyb3IiLCJFTVBUWV9WQUxVRSIsIl9fYXNzaWduIiwiYXNzaWduIiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImEiLCJqIiwiamwiLCJDb250YWluZXJJbnN0YW5jZSIsInNlcnZpY2VzIiwiZmluZFNlcnZpY2UiLCJnbG9iYWxDb250YWluZXIiLCJvZiIsImdsb2JhbFNlcnZpY2UiLCJzY29wZWRTZXJ2aWNlIiwiZ2V0U2VydmljZVZhbHVlIiwiY2xvbmVkU2VydmljZSIsImdldE1hbnkiLCJmaW5kQWxsU2VydmljZXMiLCJzZXJ2aWNlIiwiaWRlbnRpZmllck9yU2VydmljZU1ldGFkYXRhIiwidHlwZSIsIm11bHRpcGxlIiwiZWFnZXIiLCJ0cmFuc2llbnQiLCJuZXdTZXJ2aWNlIiwiaWRlbnRpZmllck9ySWRlbnRpZmllckFycmF5IiwiZGVzdHJveVNlcnZpY2VJbnN0YW5jZSIsInJlc2V0Iiwic3RyYXRlZ3kiLCJmaW5kIiwic2VydmljZU1ldGFkYXRhIiwiZmFjdG9yeUluc3RhbmNlIiwiY29uc3RydWN0YWJsZVRhcmdldFR5cGUiLCJwYXJhbVR5cGVzIiwiZ2V0TWV0YWRhdGEiLCJwYXJhbXMiLCJpbml0aWFsaXplUGFyYW1zIiwiYXBwbHlQcm9wZXJ0eUhhbmRsZXJzIiwicGFyYW1UeXBlIiwicGFyYW1IYW5kbGVyIiwiaGFuZGxlcnMiLCJoYW5kbGVyIiwiaXNQcmltaXRpdmVQYXJhbVR5cGUiLCJwYXJhbVR5cGVOYW1lIiwiaW5jbHVkZXMiLCJpbnN0YW5jZSIsInByb3BlcnR5TmFtZSIsImZvcmNlIiwiZGVzdHJveSIsIkNvbnRhaW5lciIsImNvbnRhaW5lcklkIiwiZ2xvYmFsSW5zdGFuY2UiLCJjb250YWluZXIiLCJpbnN0YW5jZXMiLCJyZWdpc3RlckhhbmRsZXIiLCJpbXBvcnQiLCJTZXJ2aWNlIiwib3B0aW9uc09yU2VydmljZUlkZW50aWZpZXIiLCJ0YXJnZXRDb25zdHJ1Y3RvciIsIkFzc2V0TWFuYWdlciIsImxvYWRlZEFzc2V0cyIsImFzc2V0cyIsImFzc2V0UHJvbWlzZXMiLCJhc3NldE5hbWUiLCJhc3NldFVybCIsImFzc2V0UHJvbWlzZSIsImxvYWRTaW5nbGVBc3NldCIsIlByb21pc2UiLCJyZXNvbHZlIiwiYXNzZXRJbWFnZSIsIkltYWdlIiwib25sb2FkIiwid2lkdGgiLCJoZWlnaHQiLCJzcmMiLCJHQU1FX1dJRFRIIiwiaW5uZXJXaWR0aCIsIkdBTUVfSEVJR0hUIiwiaW5uZXJIZWlnaHQiLCJBU1NFVFMiLCJTS0lFUl9ESVJFQ1RJT05TIiwiU0tJRVJfRElSRUNUSU9OX0FTU0VUIiwiS0VZUyIsIlJISU5PX0FDVElPTlMiLCJSSElOT19BQ1RJT05fQVNTRVQiLCJyYW5kb21JbnQiLCJtaW4iLCJtYXgiLCJjZWlsIiwiZmxvb3IiLCJpbnRlcnNlY3RUd29SZWN0cyIsInJlY3QxIiwicmVjdDIiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJSZWN0IiwiYXNzZXRUeXBlcyIsInkiLCJjYW52YXMiLCJhc3NldE1hbmFnZXIiLCJhc3NldCIsImdldEFzc2V0IiwiZHJhd1giLCJkcmF3WSIsImRyYXdJbWFnZSIsInN1cGVyIiwiYXNzZXRJZHgiLCJvYnN0YWNsZXMiLCJvYnN0YWNsZSIsImRyYXciLCJudW1iZXJPYnN0YWNsZXMiLCJtaW5YIiwibWF4WCIsIm1heFkiLCJwbGFjZVJhbmRvbU9ic3RhY2xlIiwic29ydCIsIm9ic3RhY2xlMSIsIm9ic3RhY2xlMiIsImdldFBvc2l0aW9uIiwiZ2FtZVdpbmRvdyIsInByZXZpb3VzR2FtZVdpbmRvdyIsInBsYWNlT2JzdGFjbGVMZWZ0IiwicGxhY2VPYnN0YWNsZVJpZ2h0IiwicGxhY2VPYnN0YWNsZVRvcCIsInBsYWNlT2JzdGFjbGVCb3R0b20iLCJtaW5ZIiwicG9zaXRpb24iLCJjYWxjdWxhdGVPcGVuUG9zaXRpb24iLCJuZXdPYnN0YWNsZSIsImRyYXdPZmZzZXQiLCJjdHgiLCJjcmVhdGVDYW52YXMiLCJkZXZpY2VQaXhlbFJhdGlvIiwiZ2V0Q29udGV4dCIsInNjYWxlIiwiYm9keSIsImNsZWFyUmVjdCIsImltYWdlIiwiZm9udCIsImNvbG9yIiwidGV4dCIsImZpbGxTdHlsZSIsImZpbGxUZXh0IiwiaXNQYXVzZWQiLCJkaXJlY3Rpb24iLCJsYXN0RGlyZWN0aW9uIiwic3BlZWQiLCJpc0NyYXNoZWQiLCJ1cGRhdGVBc3NldCIsIm1vdmVTa2llckxlZnREb3duIiwibW92ZVNraWVyRG93biIsIm1vdmVTa2llclJpZ2h0RG93biIsIm1vdmVTa2llckxlZnQiLCJtb3ZlU2tpZXJSaWdodCIsIm1vdmVTa2llclVwIiwic2V0RGlyZWN0aW9uIiwidXBkYXRlTGFzdERpcmVjdGlvbiIsInVwZGF0ZUNyYXNoZWRTdGF0dXMiLCJzZXRMYXN0RGlyZWN0aW9uIiwib2JzdGFjbGVOYW1lIiwidHVyblVwIiwic2V0U2tpZXJKdW1wT3ZlclJvY2siLCJtYWtlU2tpZXJKdW1wSWZIaXRSYW1wIiwib2JzdGFjbGVTZXJ2aWNlIiwic2tpZXJCb3VuZHMiLCJnZXRPYnN0YWNsZXMiLCJnZXRBc3NldE5hbWUiLCJvYnN0YWNsZUFzc2V0Iiwib2JzdGFjbGVQb3NpdGlvbiIsIm9ic3RhY2xlQm91bmRzIiwiY2hlY2tJZlR3b1JlY3RzbnRlcnNlY3QiLCJDaGVja0lmU2tpZXJTaG91bGRKdW1wIiwiYWN0aW9uIiwic2tpZXIiLCJtb3ZlRG93biIsIm1vdmVMZWZ0IiwibW92ZVJpZ2h0IiwibW92ZVVwIiwic2tpZXJfc3BlZWQiLCJza2llcl9wb3NpdGlvbl94IiwiUkhJTk9fU0tJRVJfU1RBUlRJTkdfRElTVEFOQ0UiLCJza2llcl9wb3NpdGlvbl95Iiwic291bmQiLCJia011c2ljIiwiUmhpbm9Cb3VuZHMiLCJTa2llckFzc2V0Iiwic3RvcCIsInBsYXkiLCJyZW1vdmVTa2llciIsInNldEFjdGlvbiIsImNoYW5nZUFjdGlvbiIsInJoaW5vQWN0aW9uIiwiU2NvcmVTZXJ2aWNlIiwic2NvcmUiLCJkcmF3VGV4dCIsIlNvdW5kIiwiZGlzcGxheSIsInBhdXNlIiwicmhpbm8iLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlS2V5RG93biIsInN0YXJ0QmFja0dyb3VuZE11c2ljIiwicGxhY2VJbml0aWFsT2JzdGFjbGVzIiwibG9hZEFzc2V0cyIsImNsZWFyQ2FudmFzIiwidXBkYXRlR2FtZVdpbmRvdyIsImRyYXdHYW1lV2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW92ZSIsImNhbGN1bGF0ZUdhbWVXaW5kb3ciLCJwbGFjZU5ld09ic3RhY2xlIiwiY2hlY2tJZlNraWVySGl0T2JzdGFjbGUiLCJ1cGRhdGVTY29yZSIsImVuZElmUmhpbm9DYXRjaFNraWVyIiwidXBkYXRlQWN0aW9uIiwicmVzdGFydFNraWVyIiwicmVzdGFydFJoaW5vIiwicmVzdGFydE9ic3RhY2xlIiwicmVzZXRTY29yZSIsInNldERyYXdPZmZzZXQiLCJkcmF3U2NvcmUiLCJkcmF3T2JzdGFjbGVzIiwiZHJhd1JoaW5vIiwic2tpZXJQb3NpdGlvbiIsImV2ZW50Iiwid2hpY2giLCJ0dXJuTGVmdCIsInByZXZlbnREZWZhdWx0IiwidHVyblJpZ2h0IiwidHVybkRvd24iLCJyZXNldEdhbWUiLCJ0dXJuUmlnaHREb3duIiwidHVybkxlZnREb3duIiwiZ2FtZVNlcnZpY2UiLCJsb2FkIiwidGhlbiIsImluaXQiLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0Qlgs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S0FBS2hGLE9BQ0hnRixLQUFLaEYsS0FBSyxLQUNaZ0YsS0FBSzhYLE1BQU1xRCxXQUNYRixFQUFNRyxrQkFFSnBiLEtBQUtoRixLQUFLLEtBQ1pnRixLQUFLOFgsTUFBTXVELFlBQ1hKLEVBQU1HLGtCQUVKcGIsS0FBS2hGLEtBQUssS0FDWmdGLEtBQUs4WCxNQUFNYixTQUNYZ0UsRUFBTUcsa0JBRUpwYixLQUFLaEYsS0FBSyxLQUNaZ0YsS0FBSzhYLE1BQU13RCxXQUNYTCxFQUFNRyxrQkFFSnBiLEtBQUtoRixLQUFLLEtBQ1pnRixLQUFLOFgsTUFBTXdCLFFBQ1gyQixFQUFNRyxrQkFFSnBiLEtBQUtoRixLQUFLLEtBQ1pnRixLQUFLdWIsWUFDTE4sRUFBTUcsa0JBRUpwYixLQUFLaEYsS0FBSyxJQUF3QmdGLEtBQUtoRixLQUFLLEtBQzlDZ0YsS0FBSzhYLE1BQU0wRCxnQkFDWFAsRUFBTUcsa0JBRUpwYixLQUFLaEYsS0FBSyxJQUF3QmdGLEtBQUtoRixLQUFLLEtBQzlDZ0YsS0FBSzhYLE1BQU0yRCxlQUNYUixFQUFNRyxxQkFwSU8sR0FBSSxJQUR4QjdLLEksd0JBTXlCLEVBQ0csR0FDVixHQUNDLEdBQ0QsR0FDQSxHQUNBLE1BWEUsZSxvU0NOUyxtQ0FDNUIsTUFBTW1MLEVBQWMsRUFBVTFrQixJQUFJLElBQ2xDMGtCLEVBQVlDLE9BQU9DLEtBQUssS0FFdEJGLEVBQVlHLE9BQ1pILEVBQVl0UixRQUdkMFIsUUFBUUMsSUFBSSxtQkFHRkMsTUFBT3pkLElBQ2pCdWQsUUFBUWpaLE1BQU10RSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEwKTtcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiaHRtbCwgYm9keSB7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgcGFkZGluZzogMDtcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vcHVibGljL2Nzcy9nYW1lLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLFNBQVM7SUFDVCxVQUFVO0FBQ2RcIixcInNvdXJjZXNDb250ZW50XCI6W1wiaHRtbCwgYm9keSB7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgcGFkZGluZzogMDtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IHZhciBfaSA9IGFyciAmJiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdKTsgaWYgKF9pID09IG51bGwpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfcywgX2U7IHRyeSB7IGZvciAoX2kgPSBfaS5jYWxsKGFycik7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pIHtcbiAgdmFyIF9pdGVtID0gX3NsaWNlZFRvQXJyYXkoaXRlbSwgNCksXG4gICAgICBjb250ZW50ID0gX2l0ZW1bMV0sXG4gICAgICBjc3NNYXBwaW5nID0gX2l0ZW1bM107XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoQykgTWljcm9zb2Z0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXG5cblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbnZhciBSZWZsZWN0O1xuKGZ1bmN0aW9uIChSZWZsZWN0KSB7XG4gICAgLy8gTWV0YWRhdGEgUHJvcG9zYWxcbiAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhL1xuICAgIChmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICAgICB2YXIgcm9vdCA9IHR5cGVvZiBnbG9iYWwgPT09IFwib2JqZWN0XCIgPyBnbG9iYWwgOlxuICAgICAgICAgICAgdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDpcbiAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcyA9PT0gXCJvYmplY3RcIiA/IHRoaXMgOlxuICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbihcInJldHVybiB0aGlzO1wiKSgpO1xuICAgICAgICB2YXIgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIoUmVmbGVjdCk7XG4gICAgICAgIGlmICh0eXBlb2Ygcm9vdC5SZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByb290LlJlZmxlY3QgPSBSZWZsZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIocm9vdC5SZWZsZWN0LCBleHBvcnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZmFjdG9yeShleHBvcnRlcik7XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VFeHBvcnRlcih0YXJnZXQsIHByZXZpb3VzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKVxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91cyhrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KShmdW5jdGlvbiAoZXhwb3J0ZXIpIHtcbiAgICAgICAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gICAgICAgIC8vIGZlYXR1cmUgdGVzdCBmb3IgU3ltYm9sIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB2YXIgdG9QcmltaXRpdmVTeW1ib2wgPSBzdXBwb3J0c1N5bWJvbCAmJiB0eXBlb2YgU3ltYm9sLnRvUHJpbWl0aXZlICE9PSBcInVuZGVmaW5lZFwiID8gU3ltYm9sLnRvUHJpbWl0aXZlIDogXCJAQHRvUHJpbWl0aXZlXCI7XG4gICAgICAgIHZhciBpdGVyYXRvclN5bWJvbCA9IHN1cHBvcnRzU3ltYm9sICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgIT09IFwidW5kZWZpbmVkXCIgPyBTeW1ib2wuaXRlcmF0b3IgOiBcIkBAaXRlcmF0b3JcIjtcbiAgICAgICAgdmFyIHN1cHBvcnRzQ3JlYXRlID0gdHlwZW9mIE9iamVjdC5jcmVhdGUgPT09IFwiZnVuY3Rpb25cIjsgLy8gZmVhdHVyZSB0ZXN0IGZvciBPYmplY3QuY3JlYXRlIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzUHJvdG8gPSB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5OyAvLyBmZWF0dXJlIHRlc3QgZm9yIF9fcHJvdG9fXyBzdXBwb3J0XG4gICAgICAgIHZhciBkb3duTGV2ZWwgPSAhc3VwcG9ydHNDcmVhdGUgJiYgIXN1cHBvcnRzUHJvdG87XG4gICAgICAgIHZhciBIYXNoTWFwID0ge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIG9iamVjdCBpbiBkaWN0aW9uYXJ5IG1vZGUgKGEuay5hLiBcInNsb3dcIiBtb2RlIGluIHY4KVxuICAgICAgICAgICAgY3JlYXRlOiBzdXBwb3J0c0NyZWF0ZVxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gTWFrZURpY3Rpb25hcnkoT2JqZWN0LmNyZWF0ZShudWxsKSk7IH1cbiAgICAgICAgICAgICAgICA6IHN1cHBvcnRzUHJvdG9cbiAgICAgICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBNYWtlRGljdGlvbmFyeSh7IF9fcHJvdG9fXzogbnVsbCB9KTsgfVxuICAgICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1ha2VEaWN0aW9uYXJ5KHt9KTsgfSxcbiAgICAgICAgICAgIGhhczogZG93bkxldmVsXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIGhhc093bi5jYWxsKG1hcCwga2V5KTsgfVxuICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBrZXkgaW4gbWFwOyB9LFxuICAgICAgICAgICAgZ2V0OiBkb3duTGV2ZWxcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gaGFzT3duLmNhbGwobWFwLCBrZXkpID8gbWFwW2tleV0gOiB1bmRlZmluZWQ7IH1cbiAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gbWFwW2tleV07IH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIExvYWQgZ2xvYmFsIG9yIHNoaW0gdmVyc2lvbnMgb2YgTWFwLCBTZXQsIGFuZCBXZWFrTWFwXG4gICAgICAgIHZhciBmdW5jdGlvblByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihGdW5jdGlvbik7XG4gICAgICAgIHZhciB1c2VQb2x5ZmlsbCA9IHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MuZW52ICYmIHByb2Nlc3MuZW52W1wiUkVGTEVDVF9NRVRBREFUQV9VU0VfTUFQX1BPTFlGSUxMXCJdID09PSBcInRydWVcIjtcbiAgICAgICAgdmFyIF9NYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBNYXAucHJvdG90eXBlLmVudHJpZXMgPT09IFwiZnVuY3Rpb25cIiA/IE1hcCA6IENyZWF0ZU1hcFBvbHlmaWxsKCk7XG4gICAgICAgIHZhciBfU2V0ID0gIXVzZVBvbHlmaWxsICYmIHR5cGVvZiBTZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU2V0LnByb3RvdHlwZS5lbnRyaWVzID09PSBcImZ1bmN0aW9uXCIgPyBTZXQgOiBDcmVhdGVTZXRQb2x5ZmlsbCgpO1xuICAgICAgICB2YXIgX1dlYWtNYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIFdlYWtNYXAgPT09IFwiZnVuY3Rpb25cIiA/IFdlYWtNYXAgOiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKTtcbiAgICAgICAgLy8gW1tNZXRhZGF0YV1dIGludGVybmFsIHNsb3RcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnktb2JqZWN0LWludGVybmFsLW1ldGhvZHMtYW5kLWludGVybmFsLXNsb3RzXG4gICAgICAgIHZhciBNZXRhZGF0YSA9IG5ldyBfV2Vha01hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXBwbGllcyBhIHNldCBvZiBkZWNvcmF0b3JzIHRvIGEgcHJvcGVydHkgb2YgYSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gZGVjb3JhdG9ycyBBbiBhcnJheSBvZiBkZWNvcmF0b3JzLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IHRvIGRlY29yYXRlLlxuICAgICAgICAgKiBAcGFyYW0gYXR0cmlidXRlcyAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvciB0aGUgdGFyZ2V0IGtleS5cbiAgICAgICAgICogQHJlbWFya3MgRGVjb3JhdG9ycyBhcmUgYXBwbGllZCBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBFeGFtcGxlID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIixcbiAgICAgICAgICogICAgICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNBcnJheShkZWNvcmF0b3JzKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoYXR0cmlidXRlcykgJiYgIUlzVW5kZWZpbmVkKGF0dHJpYnV0ZXMpICYmICFJc051bGwoYXR0cmlidXRlcykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoSXNOdWxsKGF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRlUHJvcGVydHkoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQXJyYXkoZGVjb3JhdG9ycykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQ29uc3RydWN0b3IodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvcmF0ZUNvbnN0cnVjdG9yKGRlY29yYXRvcnMsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWNvcmF0ZVwiLCBkZWNvcmF0ZSk7XG4gICAgICAgIC8vIDQuMS4yIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI3JlZmxlY3QubWV0YWRhdGFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmYXVsdCBtZXRhZGF0YSBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGNhbiBiZSB1c2VkIG9uIGEgY2xhc3MsIGNsYXNzIG1lbWJlciwgb3IgcGFyYW1ldGVyLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgVGhlIGtleSBmb3IgdGhlIG1ldGFkYXRhIGVudHJ5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFWYWx1ZSBUaGUgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBlbnRyeS5cbiAgICAgICAgICogQHJldHVybnMgQSBkZWNvcmF0b3IgZnVuY3Rpb24uXG4gICAgICAgICAqIEByZW1hcmtzXG4gICAgICAgICAqIElmIGBtZXRhZGF0YUtleWAgaXMgYWxyZWFkeSBkZWZpbmVkIGZvciB0aGUgdGFyZ2V0IGFuZCB0YXJnZXQga2V5LCB0aGVcbiAgICAgICAgICogbWV0YWRhdGFWYWx1ZSBmb3IgdGhhdCBrZXkgd2lsbCBiZSBvdmVyd3JpdHRlbi5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IsIFR5cGVTY3JpcHQgb25seSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSwgVHlwZVNjcmlwdCBvbmx5KVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBwcm9wZXJ0eTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBtZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpICYmICFJc1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlY29yYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcIm1ldGFkYXRhXCIsIG1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZSBhIHVuaXF1ZSBtZXRhZGF0YSBlbnRyeSBvbiB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YVZhbHVlIEEgdmFsdWUgdGhhdCBjb250YWlucyBhdHRhY2hlZCBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0byBkZWZpbmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBkZWNvcmF0b3IgZmFjdG9yeSBhcyBtZXRhZGF0YS1wcm9kdWNpbmcgYW5ub3RhdGlvbi5cbiAgICAgICAgICogICAgIGZ1bmN0aW9uIE15QW5ub3RhdGlvbihvcHRpb25zKTogRGVjb3JhdG9yIHtcbiAgICAgICAgICogICAgICAgICByZXR1cm4gKHRhcmdldCwga2V5PykgPT4gUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIHRhcmdldCwga2V5KTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZU1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImRlZmluZU1ldGFkYXRhXCIsIGRlZmluZU1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbiBoYXMgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEga2V5IHdhcyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW47IG90aGVyd2lzZSwgYGZhbHNlYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImhhc01ldGFkYXRhXCIsIGhhc01ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3QgaGFzIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1ldGFkYXRhIGtleSB3YXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdDsgb3RoZXJ3aXNlLCBgZmFsc2VgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5SGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiaGFzT3duTWV0YWRhdGFcIiwgaGFzT3duTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRNZXRhZGF0YVwiLCBnZXRNZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBvbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YVwiLCBnZXRPd25NZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSBrZXlzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdW5pcXVlIG1ldGFkYXRhIGtleXMuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0TWV0YWRhdGFLZXlzXCIsIGdldE1ldGFkYXRhS2V5cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSB1bmlxdWUgbWV0YWRhdGEga2V5cyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB1bmlxdWUgbWV0YWRhdGEga2V5cy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YUtleXNcIiwgZ2V0T3duTWV0YWRhdGFLZXlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGV0ZXMgdGhlIG1ldGFkYXRhIGVudHJ5IGZyb20gdGhlIHRhcmdldCBvYmplY3Qgd2l0aCB0aGUgcHJvdmlkZWQga2V5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEgZW50cnkgd2FzIGZvdW5kIGFuZCBkZWxldGVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcCh0YXJnZXQsIHByb3BlcnR5S2V5LCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFtZXRhZGF0YU1hcC5kZWxldGUobWV0YWRhdGFLZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YU1hcC5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB0YXJnZXRNZXRhZGF0YSA9IE1ldGFkYXRhLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgdGFyZ2V0TWV0YWRhdGEuZGVsZXRlKHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRNZXRhZGF0YS5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlbGV0ZSh0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWxldGVNZXRhZGF0YVwiLCBkZWxldGVNZXRhZGF0YSk7XG4gICAgICAgIGZ1bmN0aW9uIERlY29yYXRlQ29uc3RydWN0b3IoZGVjb3JhdG9ycywgdGFyZ2V0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0ZWQgPSBkZWNvcmF0b3IodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNDb25zdHJ1Y3RvcihkZWNvcmF0ZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBkZWNvcmF0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBEZWNvcmF0ZVByb3BlcnR5KGRlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRlZCA9IGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoZGVjb3JhdGVkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvciA9IGRlY29yYXRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIENyZWF0ZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldE1ldGFkYXRhID0gTWV0YWRhdGEuZ2V0KE8pO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKHRhcmdldE1ldGFkYXRhKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRhcmdldE1ldGFkYXRhID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICBNZXRhZGF0YS5zZXQoTywgdGFyZ2V0TWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gdGFyZ2V0TWV0YWRhdGEuZ2V0KFApO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhTWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRNZXRhZGF0YS5zZXQoUCwgbWV0YWRhdGFNYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhTWFwO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4xLjEgT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAoIUlzTnVsbChwYXJlbnQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBwYXJlbnQsIFApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4yLjEgT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNvd25tZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gVG9Cb29sZWFuKG1ldGFkYXRhTWFwLmhhcyhNZXRhZGF0YUtleSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4zLjEgT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlnZXRtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKCFJc051bGwocGFyZW50KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgcGFyZW50LCBQKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjQuMSBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWdldG93bm1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gbWV0YWRhdGFNYXAuZ2V0KE1ldGFkYXRhS2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNS4xIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUsIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5ZGVmaW5lb3dubWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTWV0YWRhdGFWYWx1ZSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIHRydWUpO1xuICAgICAgICAgICAgbWV0YWRhdGFNYXAuc2V0KE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNi4xIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5bWV0YWRhdGFrZXlzXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApIHtcbiAgICAgICAgICAgIHZhciBvd25LZXlzID0gT3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUCk7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG93bktleXM7XG4gICAgICAgICAgICB2YXIgcGFyZW50S2V5cyA9IE9yZGluYXJ5TWV0YWRhdGFLZXlzKHBhcmVudCwgUCk7XG4gICAgICAgICAgICBpZiAocGFyZW50S2V5cy5sZW5ndGggPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gb3duS2V5cztcbiAgICAgICAgICAgIGlmIChvd25LZXlzLmxlbmd0aCA8PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRLZXlzO1xuICAgICAgICAgICAgdmFyIHNldCA9IG5ldyBfU2V0KCk7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBvd25LZXlzXzEgPSBvd25LZXlzOyBfaSA8IG93bktleXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gb3duS2V5c18xW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBwYXJlbnRLZXlzXzEgPSBwYXJlbnRLZXlzOyBfYSA8IHBhcmVudEtleXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gcGFyZW50S2V5c18xW19hXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjcuMSBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeW93bm1ldGFkYXRha2V5c1xuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICB2YXIga2V5c09iaiA9IG1ldGFkYXRhTWFwLmtleXMoKTtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IEdldEl0ZXJhdG9yKGtleXNPYmopO1xuICAgICAgICAgICAgdmFyIGsgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IEl0ZXJhdG9yU3RlcChpdGVyYXRvcik7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMubGVuZ3RoID0gaztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBJdGVyYXRvclZhbHVlKG5leHQpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXNba10gPSBuZXh0VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDYgRUNNQVNjcmlwdCBEYXRhIFR5cDBlcyBhbmQgVmFsdWVzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtZGF0YS10eXBlcy1hbmQtdmFsdWVzXG4gICAgICAgIGZ1bmN0aW9uIFR5cGUoeCkge1xuICAgICAgICAgICAgaWYgKHggPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogTnVsbCAqLztcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6IHJldHVybiAwIC8qIFVuZGVmaW5lZCAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOiByZXR1cm4gMiAvKiBCb29sZWFuICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjogcmV0dXJuIDMgLyogU3RyaW5nICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjogcmV0dXJuIDQgLyogU3ltYm9sICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjogcmV0dXJuIDUgLyogTnVtYmVyICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjogcmV0dXJuIHggPT09IG51bGwgPyAxIC8qIE51bGwgKi8gOiA2IC8qIE9iamVjdCAqLztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gNiAvKiBPYmplY3QgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjEgVGhlIFVuZGVmaW5lZCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtdW5kZWZpbmVkLXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNVbmRlZmluZWQoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuMiBUaGUgTnVsbCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtbnVsbC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzTnVsbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4geCA9PT0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuNSBUaGUgU3ltYm9sIFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcy1zeW1ib2wtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc1N5bWJvbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjcgVGhlIE9iamVjdCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzT2JqZWN0KHgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiA/IHggIT09IG51bGwgOiB0eXBlb2YgeCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMSBUeXBlIENvbnZlcnNpb25cbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZS1jb252ZXJzaW9uXG4gICAgICAgIC8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3ByaW1pdGl2ZVxuICAgICAgICBmdW5jdGlvbiBUb1ByaW1pdGl2ZShpbnB1dCwgUHJlZmVycmVkVHlwZSkge1xuICAgICAgICAgICAgc3dpdGNoIChUeXBlKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBVbmRlZmluZWQgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogTnVsbCAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBCb29sZWFuICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBTeW1ib2wgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDUgLyogTnVtYmVyICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGludCA9IFByZWZlcnJlZFR5cGUgPT09IDMgLyogU3RyaW5nICovID8gXCJzdHJpbmdcIiA6IFByZWZlcnJlZFR5cGUgPT09IDUgLyogTnVtYmVyICovID8gXCJudW1iZXJcIiA6IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgdmFyIGV4b3RpY1RvUHJpbSA9IEdldE1ldGhvZChpbnB1dCwgdG9QcmltaXRpdmVTeW1ib2wpO1xuICAgICAgICAgICAgaWYgKGV4b3RpY1RvUHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGV4b3RpY1RvUHJpbS5jYWxsKGlucHV0LCBoaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlUb1ByaW1pdGl2ZShpbnB1dCwgaGludCA9PT0gXCJkZWZhdWx0XCIgPyBcIm51bWJlclwiIDogaGludCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEuMSBPcmRpbmFyeVRvUHJpbWl0aXZlKE8sIGhpbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5dG9wcmltaXRpdmVcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlUb1ByaW1pdGl2ZShPLCBoaW50KSB7XG4gICAgICAgICAgICBpZiAoaGludCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18xID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18xKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMS5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVPZiA9IE8udmFsdWVPZjtcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh2YWx1ZU9mKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWVPZi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZU9mID0gTy52YWx1ZU9mO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHZhbHVlT2YpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB2YWx1ZU9mLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18yID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18yKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMiBUb0Jvb2xlYW4oYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8yMDE2LyNzZWMtdG9ib29sZWFuXG4gICAgICAgIGZ1bmN0aW9uIFRvQm9vbGVhbihhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuICEhYXJndW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEyIFRvU3RyaW5nKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3N0cmluZ1xuICAgICAgICBmdW5jdGlvbiBUb1N0cmluZyhhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyBhcmd1bWVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMTQgVG9Qcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBUb1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gVG9QcmltaXRpdmUoYXJndW1lbnQsIDMgLyogU3RyaW5nICovKTtcbiAgICAgICAgICAgIGlmIChJc1N5bWJvbChrZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICByZXR1cm4gVG9TdHJpbmcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIgVGVzdGluZyBhbmQgQ29tcGFyaXNvbiBPcGVyYXRpb25zXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRlc3RpbmctYW5kLWNvbXBhcmlzb24tb3BlcmF0aW9uc1xuICAgICAgICAvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc2FycmF5XG4gICAgICAgIGZ1bmN0aW9uIElzQXJyYXkoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5XG4gICAgICAgICAgICAgICAgPyBBcnJheS5pc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAgICAgICAgIDogYXJndW1lbnQgaW5zdGFuY2VvZiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgPyBhcmd1bWVudCBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgICAgICAgIDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi4zIElzQ2FsbGFibGUoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY2FsbGFibGVcbiAgICAgICAgZnVuY3Rpb24gSXNDYWxsYWJsZShhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kLlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi40IElzQ29uc3RydWN0b3IoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY29uc3RydWN0b3JcbiAgICAgICAgZnVuY3Rpb24gSXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2QuXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yLjcgSXNQcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNwcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBJc1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKFR5cGUoYXJndW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0IC8qIFN5bWJvbCAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDcuMyBPcGVyYXRpb25zIG9uIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1vYmplY3RzXG4gICAgICAgIC8vIDcuMy45IEdldE1ldGhvZChWLCBQKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1nZXRtZXRob2RcbiAgICAgICAgZnVuY3Rpb24gR2V0TWV0aG9kKFYsIFApIHtcbiAgICAgICAgICAgIHZhciBmdW5jID0gVltQXTtcbiAgICAgICAgICAgIGlmIChmdW5jID09PSB1bmRlZmluZWQgfHwgZnVuYyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCFJc0NhbGxhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNCBPcGVyYXRpb25zIG9uIEl0ZXJhdG9yIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1pdGVyYXRvci1vYmplY3RzXG4gICAgICAgIGZ1bmN0aW9uIEdldEl0ZXJhdG9yKG9iaikge1xuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IEdldE1ldGhvZChvYmosIGl0ZXJhdG9yU3ltYm9sKTtcbiAgICAgICAgICAgIGlmICghSXNDYWxsYWJsZShtZXRob2QpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsgLy8gZnJvbSBDYWxsXG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBtZXRob2QuY2FsbChvYmopO1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdChpdGVyYXRvcikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNC40IEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLzIwMTYvI3NlYy1pdGVyYXRvcnZhbHVlXG4gICAgICAgIGZ1bmN0aW9uIEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJSZXN1bHQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjUgSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pdGVyYXRvcnN0ZXBcbiAgICAgICAgZnVuY3Rpb24gSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gZmFsc2UgOiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXRlcmF0b3JjbG9zZVxuICAgICAgICBmdW5jdGlvbiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgZiA9IGl0ZXJhdG9yW1wicmV0dXJuXCJdO1xuICAgICAgICAgICAgaWYgKGYpXG4gICAgICAgICAgICAgICAgZi5jYWxsKGl0ZXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA5LjEgT3JkaW5hcnkgT2JqZWN0IEludGVybmFsIE1ldGhvZHMgYW5kIEludGVybmFsIFNsb3RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5LW9iamVjdC1pbnRlcm5hbC1tZXRob2RzLWFuZC1pbnRlcm5hbC1zbG90c1xuICAgICAgICAvLyA5LjEuMS4xIE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTylcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3JkaW5hcnlnZXRwcm90b3R5cGVvZlxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pIHtcbiAgICAgICAgICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgTyAhPT0gXCJmdW5jdGlvblwiIHx8IE8gPT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBzZXQgX19wcm90b19fIGluIEVTNSwgYXMgaXQncyBub24tc3RhbmRhcmQuXG4gICAgICAgICAgICAvLyBUcnkgdG8gZGV0ZXJtaW5lIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLiBDb21wYXRpYmxlIGltcGxlbWVudGF0aW9uc1xuICAgICAgICAgICAgLy8gbXVzdCBlaXRoZXIgc2V0IF9fcHJvdG9fXyBvbiBhIHN1YmNsYXNzIGNvbnN0cnVjdG9yIHRvIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgLy8gb3IgZW5zdXJlIGVhY2ggY2xhc3MgaGFzIGEgdmFsaWQgYGNvbnN0cnVjdG9yYCBwcm9wZXJ0eSBvbiBpdHMgcHJvdG90eXBlIHRoYXRcbiAgICAgICAgICAgIC8vIHBvaW50cyBiYWNrIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIEZ1bmN0aW9uLltbUHJvdG90eXBlXV0sIHRoZW4gdGhpcyBpcyBkZWZpbmF0ZWx5IGluaGVyaXRlZC5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBpbiBFUzYgb3Igd2hlbiB1c2luZyBfX3Byb3RvX18gaW4gYSBjb21wYXRpYmxlIGJyb3dzZXIuXG4gICAgICAgICAgICBpZiAocHJvdG8gIT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHRoZSBzdXBlciBwcm90b3R5cGUgaXMgT2JqZWN0LnByb3RvdHlwZSwgbnVsbCwgb3IgdW5kZWZpbmVkLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgdmFyIHByb3RvdHlwZSA9IE8ucHJvdG90eXBlO1xuICAgICAgICAgICAgdmFyIHByb3RvdHlwZVByb3RvID0gcHJvdG90eXBlICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpO1xuICAgICAgICAgICAgaWYgKHByb3RvdHlwZVByb3RvID09IG51bGwgfHwgcHJvdG90eXBlUHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGNvbnN0cnVjdG9yIHdhcyBub3QgYSBmdW5jdGlvbiwgdGhlbiB3ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb3RvdHlwZVByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zdHJ1Y3RvciAhPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgc29tZSBraW5kIG9mIHNlbGYtcmVmZXJlbmNlLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgaWYgKGNvbnN0cnVjdG9yID09PSBPKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYSBwcmV0dHkgZ29vZCBndWVzcyBhdCB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgTWFwIHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgY2FjaGVTZW50aW5lbCA9IHt9O1xuICAgICAgICAgICAgdmFyIGFycmF5U2VudGluZWwgPSBbXTtcbiAgICAgICAgICAgIHZhciBNYXBJdGVyYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXBJdGVyYXRvcihrZXlzLCB2YWx1ZXMsIHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuX2tleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fc2VsZWN0b3IodGhpcy5fa2V5c1tpbmRleF0sIHRoaXMuX3ZhbHVlc1tpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICsgMSA+PSB0aGlzLl9rZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWFwSXRlcmF0b3I7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlS2V5ID0gY2FjaGVTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9rZXlzLmxlbmd0aDsgfSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyBmYWxzZSkgPj0gMDsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggPj0gMCA/IHRoaXMuX3ZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5fa2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5c1tpIC0gMV0gPSB0aGlzLl9rZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpIC0gMV0gPSB0aGlzLl92YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5fY2FjaGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUtleSA9IGNhY2hlU2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVLZXkgPSBjYWNoZVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gLTI7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcy5fa2V5cywgdGhpcy5fdmFsdWVzLCBnZXRLZXkpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcywgZ2V0VmFsdWUpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMsIGdldEVudHJ5KTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZW50cmllcygpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5fZmluZCA9IGZ1bmN0aW9uIChrZXksIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVLZXkgIT09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMuaW5kZXhPZih0aGlzLl9jYWNoZUtleSA9IGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlSW5kZXggPCAwICYmIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUluZGV4O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hcDtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRLZXkoa2V5LCBfKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFZhbHVlKF8sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RW50cnkoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBba2V5LCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgU2V0IHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlU2V0UG9seWZpbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFNldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldC5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnNpemU7IH0sXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuaGFzKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdGhpcy5fbWFwLnNldCh2YWx1ZSwgdmFsdWUpLCB0aGlzOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuZGVsZXRlKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9tYXAuY2xlYXIoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnZhbHVlcygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZVtcIkBAaXRlcmF0b3JcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmtleXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBTZXQ7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5haXZlIFdlYWtNYXAgc2hpbVxuICAgICAgICBmdW5jdGlvbiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgVVVJRF9TSVpFID0gMTY7XG4gICAgICAgICAgICB2YXIga2V5cyA9IEhhc2hNYXAuY3JlYXRlKCk7XG4gICAgICAgICAgICB2YXIgcm9vdEtleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBXZWFrTWFwKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXkgPSBDcmVhdGVVbmlxdWVLZXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUgIT09IHVuZGVmaW5lZCA/IEhhc2hNYXAuaGFzKHRhYmxlLCB0aGlzLl9rZXkpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gSGFzaE1hcC5nZXQodGFibGUsIHRoaXMuX2tleSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlW3RoaXMuX2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gZGVsZXRlIHRhYmxlW3RoaXMuX2tleV0gOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBub3QgYSByZWFsIGNsZWFyLCBqdXN0IG1ha2VzIHRoZSBwcmV2aW91cyBkYXRhIHVucmVhY2hhYmxlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFdlYWtNYXA7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlVW5pcXVlS2V5KCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXk7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgICAga2V5ID0gXCJAQFdlYWtNYXBAQFwiICsgQ3JlYXRlVVVJRCgpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChIYXNoTWFwLmhhcyhrZXlzLCBrZXkpKTtcbiAgICAgICAgICAgICAgICBrZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIGNyZWF0ZSkge1xuICAgICAgICAgICAgICAgIGlmICghaGFzT3duLmNhbGwodGFyZ2V0LCByb290S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyZWF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHJvb3RLZXksIHsgdmFsdWU6IEhhc2hNYXAuY3JlYXRlKCkgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcm9vdEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBGaWxsUmFuZG9tQnl0ZXMoYnVmZmVyLCBzaXplKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcltpXSA9IE1hdGgucmFuZG9tKCkgKiAweGZmIHwgMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gR2VuUmFuZG9tQnl0ZXMoc2l6ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgVWludDhBcnJheSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShzaXplKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGaWxsUmFuZG9tQnl0ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSksIHNpemUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gRmlsbFJhbmRvbUJ5dGVzKG5ldyBBcnJheShzaXplKSwgc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVVVUlEKCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gR2VuUmFuZG9tQnl0ZXMoVVVJRF9TSVpFKTtcbiAgICAgICAgICAgICAgICAvLyBtYXJrIGFzIHJhbmRvbSAtIFJGQyA0MTIyIMKnIDQuNFxuICAgICAgICAgICAgICAgIGRhdGFbNl0gPSBkYXRhWzZdICYgMHg0ZiB8IDB4NDA7XG4gICAgICAgICAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gJiAweGJmIHwgMHg4MDtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBVVUlEX1NJWkU7ICsrb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBieXRlID0gZGF0YVtvZmZzZXRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID09PSA0IHx8IG9mZnNldCA9PT0gNiB8fCBvZmZzZXQgPT09IDgpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCItXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChieXRlIDwgMTYpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCIwXCI7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBieXRlLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHVzZXMgYSBoZXVyaXN0aWMgdXNlZCBieSB2OCBhbmQgY2hha3JhIHRvIGZvcmNlIGFuIG9iamVjdCBpbnRvIGRpY3Rpb25hcnkgbW9kZS5cbiAgICAgICAgZnVuY3Rpb24gTWFrZURpY3Rpb25hcnkob2JqKSB7XG4gICAgICAgICAgICBvYmouX18gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBkZWxldGUgb2JqLl9fO1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoUmVmbGVjdCB8fCAoUmVmbGVjdCA9IHt9KSk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IFRva2VuIH0gZnJvbSAnLi4vdG9rZW4uY2xhc3MnO1xuLyoqXG4gKiBUaHJvd24gd2hlbiByZXF1ZXN0ZWQgc2VydmljZSB3YXMgbm90IGZvdW5kLlxuICovXG52YXIgU2VydmljZU5vdEZvdW5kRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNlcnZpY2VOb3RGb3VuZEVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNlcnZpY2VOb3RGb3VuZEVycm9yKGlkZW50aWZpZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubmFtZSA9ICdTZXJ2aWNlTm90Rm91bmRFcnJvcic7XG4gICAgICAgIC8qKiBOb3JtYWxpemVkIGlkZW50aWZpZXIgbmFtZSB1c2VkIGluIHRoZSBlcnJvciBtZXNzYWdlLiAqL1xuICAgICAgICBfdGhpcy5ub3JtYWxpemVkSWRlbnRpZmllciA9ICc8VU5LTk9XTl9JREVOVElGSUVSPic7XG4gICAgICAgIGlmICh0eXBlb2YgaWRlbnRpZmllciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID0gaWRlbnRpZmllcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpZGVudGlmaWVyIGluc3RhbmNlb2YgVG9rZW4pIHtcbiAgICAgICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID0gXCJUb2tlbjxcIiArIChpZGVudGlmaWVyLm5hbWUgfHwgJ1VOU0VUX05BTUUnKSArIFwiPlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlkZW50aWZpZXIgJiYgKGlkZW50aWZpZXIubmFtZSB8fCAoKF9hID0gaWRlbnRpZmllci5wcm90b3R5cGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lKSkpIHtcbiAgICAgICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID1cbiAgICAgICAgICAgICAgICBcIk1heWJlQ29uc3RydWN0YWJsZTxcIiArIGlkZW50aWZpZXIubmFtZSArIFwiPlwiIHx8XG4gICAgICAgICAgICAgICAgICAgIFwiTWF5YmVDb25zdHJ1Y3RhYmxlPFwiICsgKChfYiA9IGlkZW50aWZpZXIucHJvdG90eXBlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubmFtZSkgKyBcIj5cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXJ2aWNlTm90Rm91bmRFcnJvci5wcm90b3R5cGUsIFwibWVzc2FnZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIChcIlNlcnZpY2Ugd2l0aCBcXFwiXCIgKyB0aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyICsgXCJcXFwiIGlkZW50aWZpZXIgd2FzIG5vdCBmb3VuZCBpbiB0aGUgY29udGFpbmVyLiBcIiArXG4gICAgICAgICAgICAgICAgXCJSZWdpc3RlciBpdCBiZWZvcmUgdXNhZ2UgdmlhIGV4cGxpY2l0bHkgY2FsbGluZyB0aGUgXFxcIkNvbnRhaW5lci5zZXRcXFwiIGZ1bmN0aW9uIG9yIHVzaW5nIHRoZSBcXFwiQFNlcnZpY2UoKVxcXCIgZGVjb3JhdG9yLlwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTZXJ2aWNlTm90Rm91bmRFcnJvcjtcbn0oRXJyb3IpKTtcbmV4cG9ydCB7IFNlcnZpY2VOb3RGb3VuZEVycm9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJ2aWNlLW5vdC1mb3VuZC5lcnJvci5qcy5tYXAiLCJpbXBvcnQgYXBpIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2dhbWUuY3NzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307IiwiLyoqXG4gKiBVc2VkIHRvIGNyZWF0ZSB1bmlxdWUgdHlwZWQgc2VydmljZSBpZGVudGlmaWVyLlxuICogVXNlZnVsIHdoZW4gc2VydmljZSBoYXMgb25seSBpbnRlcmZhY2UsIGJ1dCBkb24ndCBoYXZlIGEgY2xhc3MuXG4gKi9cbnZhciBUb2tlbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbmFtZSBUb2tlbiBuYW1lLCBvcHRpb25hbCBhbmQgb25seSB1c2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gVG9rZW4obmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICByZXR1cm4gVG9rZW47XG59KCkpO1xuZXhwb3J0IHsgVG9rZW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRva2VuLmNsYXNzLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJy4uL3Rva2VuLmNsYXNzJztcbi8qKlxuICogVGhyb3duIHdoZW4gREkgY2Fubm90IGluamVjdCB2YWx1ZSBpbnRvIHByb3BlcnR5IGRlY29yYXRlZCBieSBASW5qZWN0IGRlY29yYXRvci5cbiAqL1xudmFyIENhbm5vdEluc3RhbnRpYXRlVmFsdWVFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ2Fubm90SW5zdGFudGlhdGVWYWx1ZUVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENhbm5vdEluc3RhbnRpYXRlVmFsdWVFcnJvcihpZGVudGlmaWVyKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm5hbWUgPSAnQ2Fubm90SW5zdGFudGlhdGVWYWx1ZUVycm9yJztcbiAgICAgICAgLyoqIE5vcm1hbGl6ZWQgaWRlbnRpZmllciBuYW1lIHVzZWQgaW4gdGhlIGVycm9yIG1lc3NhZ2UuICovXG4gICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID0gJzxVTktOT1dOX0lERU5USUZJRVI+JztcbiAgICAgICAgLy8gVE9ETzogRXh0cmFjdCB0aGlzIHRvIGEgaGVscGVyIGZ1bmN0aW9uIGFuZCBzaGFyZSBiZXR3ZWVuIHRoaXMgYW5kIE5vdEZvdW5kRXJyb3IuXG4gICAgICAgIGlmICh0eXBlb2YgaWRlbnRpZmllciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID0gaWRlbnRpZmllcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpZGVudGlmaWVyIGluc3RhbmNlb2YgVG9rZW4pIHtcbiAgICAgICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID0gXCJUb2tlbjxcIiArIChpZGVudGlmaWVyLm5hbWUgfHwgJ1VOU0VUX05BTUUnKSArIFwiPlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlkZW50aWZpZXIgJiYgKGlkZW50aWZpZXIubmFtZSB8fCAoKF9hID0gaWRlbnRpZmllci5wcm90b3R5cGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lKSkpIHtcbiAgICAgICAgICAgIF90aGlzLm5vcm1hbGl6ZWRJZGVudGlmaWVyID1cbiAgICAgICAgICAgICAgICBcIk1heWJlQ29uc3RydWN0YWJsZTxcIiArIGlkZW50aWZpZXIubmFtZSArIFwiPlwiIHx8XG4gICAgICAgICAgICAgICAgICAgIFwiTWF5YmVDb25zdHJ1Y3RhYmxlPFwiICsgKChfYiA9IGlkZW50aWZpZXIucHJvdG90eXBlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubmFtZSkgKyBcIj5cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW5ub3RJbnN0YW50aWF0ZVZhbHVlRXJyb3IucHJvdG90eXBlLCBcIm1lc3NhZ2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAoXCJDYW5ub3QgaW5zdGFudGlhdGUgdGhlIHJlcXVlc3RlZCB2YWx1ZSBmb3IgdGhlIFxcXCJcIiArIHRoaXMubm9ybWFsaXplZElkZW50aWZpZXIgKyBcIlxcXCIgaWRlbnRpZmllci4gXCIgK1xuICAgICAgICAgICAgICAgIFwiVGhlIHJlbGF0ZWQgbWV0YWRhdGEgZG9lc24ndCBjb250YWluIGEgZmFjdG9yeSBvciBhIHR5cGUgdG8gaW5zdGFudGlhdGUuXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENhbm5vdEluc3RhbnRpYXRlVmFsdWVFcnJvcjtcbn0oRXJyb3IpKTtcbmV4cG9ydCB7IENhbm5vdEluc3RhbnRpYXRlVmFsdWVFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2Fubm90LWluc3RhbnRpYXRlLXZhbHVlLmVycm9yLmpzLm1hcCIsImV4cG9ydCB2YXIgRU1QVFlfVkFMVUUgPSBTeW1ib2woJ0VNUFRZX1ZBTFVFJyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbXB0eS5jb25zdC5qcy5tYXAiLCJ2YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fc3ByZWFkQXJyYXlzID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5cykgfHwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcbiAgICByZXR1cm4gcjtcbn07XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuL2NvbnRhaW5lci5jbGFzcyc7XG5pbXBvcnQgeyBTZXJ2aWNlTm90Rm91bmRFcnJvciB9IGZyb20gJy4vZXJyb3Ivc2VydmljZS1ub3QtZm91bmQuZXJyb3InO1xuaW1wb3J0IHsgQ2Fubm90SW5zdGFudGlhdGVWYWx1ZUVycm9yIH0gZnJvbSAnLi9lcnJvci9jYW5ub3QtaW5zdGFudGlhdGUtdmFsdWUuZXJyb3InO1xuaW1wb3J0IHsgVG9rZW4gfSBmcm9tICcuL3Rva2VuLmNsYXNzJztcbmltcG9ydCB7IEVNUFRZX1ZBTFVFIH0gZnJvbSAnLi9lbXB0eS5jb25zdCc7XG4vKipcbiAqIFR5cGVESSBjYW4gaGF2ZSBtdWx0aXBsZSBjb250YWluZXJzLlxuICogT25lIGNvbnRhaW5lciBpcyBDb250YWluZXJJbnN0YW5jZS5cbiAqL1xudmFyIENvbnRhaW5lckluc3RhbmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lckluc3RhbmNlKGlkKSB7XG4gICAgICAgIC8qKiBBbGwgcmVnaXN0ZXJlZCBzZXJ2aWNlcyBpbiB0aGUgY29udGFpbmVyLiAqL1xuICAgICAgICB0aGlzLnNlcnZpY2VzID0gW107XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9XG4gICAgQ29udGFpbmVySW5zdGFuY2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuZmluZFNlcnZpY2UoaWRlbnRpZmllcik7XG4gICAgfTtcbiAgICBDb250YWluZXJJbnN0YW5jZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcbiAgICAgICAgdmFyIGdsb2JhbENvbnRhaW5lciA9IENvbnRhaW5lci5vZih1bmRlZmluZWQpO1xuICAgICAgICB2YXIgZ2xvYmFsU2VydmljZSA9IGdsb2JhbENvbnRhaW5lci5maW5kU2VydmljZShpZGVudGlmaWVyKTtcbiAgICAgICAgdmFyIHNjb3BlZFNlcnZpY2UgPSB0aGlzLmZpbmRTZXJ2aWNlKGlkZW50aWZpZXIpO1xuICAgICAgICBpZiAoZ2xvYmFsU2VydmljZSAmJiBnbG9iYWxTZXJ2aWNlLmdsb2JhbCA9PT0gdHJ1ZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFNlcnZpY2VWYWx1ZShnbG9iYWxTZXJ2aWNlKTtcbiAgICAgICAgaWYgKHNjb3BlZFNlcnZpY2UpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZXJ2aWNlVmFsdWUoc2NvcGVkU2VydmljZSk7XG4gICAgICAgIC8qKiBJZiBpdCdzIHRoZSBmaXJzdCB0aW1lIHJlcXVlc3RlZCBpbiB0aGUgY2hpbGQgY29udGFpbmVyIHdlIGxvYWQgaXQgZnJvbSBwYXJlbnQgYW5kIHNldCBpdC4gKi9cbiAgICAgICAgaWYgKGdsb2JhbFNlcnZpY2UgJiYgdGhpcyAhPT0gZ2xvYmFsQ29udGFpbmVyKSB7XG4gICAgICAgICAgICB2YXIgY2xvbmVkU2VydmljZSA9IF9fYXNzaWduKHt9LCBnbG9iYWxTZXJ2aWNlKTtcbiAgICAgICAgICAgIGNsb25lZFNlcnZpY2UudmFsdWUgPSBFTVBUWV9WQUxVRTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2UgbmVlZCB0byBpbW1lZGlhdGVseSBzZXQgdGhlIGVtcHR5IHZhbHVlIGZyb20gdGhlIHJvb3QgY29udGFpbmVyXG4gICAgICAgICAgICAgKiB0byBwcmV2ZW50IGluZmluaXRlIGxvb2t1cCBpbiBjeWNsaWMgZGVwZW5kZW5jaWVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnNldChjbG9uZWRTZXJ2aWNlKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0U2VydmljZVZhbHVlKGNsb25lZFNlcnZpY2UpO1xuICAgICAgICAgICAgdGhpcy5zZXQoX19hc3NpZ24oX19hc3NpZ24oe30sIGNsb25lZFNlcnZpY2UpLCB7IHZhbHVlOiB2YWx1ZSB9KSk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsb2JhbFNlcnZpY2UpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZXJ2aWNlVmFsdWUoZ2xvYmFsU2VydmljZSk7XG4gICAgICAgIHRocm93IG5ldyBTZXJ2aWNlTm90Rm91bmRFcnJvcihpZGVudGlmaWVyKTtcbiAgICB9O1xuICAgIENvbnRhaW5lckluc3RhbmNlLnByb3RvdHlwZS5nZXRNYW55ID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEFsbFNlcnZpY2VzKGlkZW50aWZpZXIpLm1hcChmdW5jdGlvbiAoc2VydmljZSkgeyByZXR1cm4gX3RoaXMuZ2V0U2VydmljZVZhbHVlKHNlcnZpY2UpOyB9KTtcbiAgICB9O1xuICAgIENvbnRhaW5lckluc3RhbmNlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaWRlbnRpZmllck9yU2VydmljZU1ldGFkYXRhLCB2YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoaWRlbnRpZmllck9yU2VydmljZU1ldGFkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGlkZW50aWZpZXJPclNlcnZpY2VNZXRhZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBfdGhpcy5zZXQoZGF0YSk7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBpZGVudGlmaWVyT3JTZXJ2aWNlTWV0YWRhdGEgPT09ICdzdHJpbmcnIHx8IGlkZW50aWZpZXJPclNlcnZpY2VNZXRhZGF0YSBpbnN0YW5jZW9mIFRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXQoe1xuICAgICAgICAgICAgICAgIGlkOiBpZGVudGlmaWVyT3JTZXJ2aWNlTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgdHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgZmFjdG9yeTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGdsb2JhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVhZ2VyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0cmFuc2llbnQ6IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBpZGVudGlmaWVyT3JTZXJ2aWNlTWV0YWRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldCh7XG4gICAgICAgICAgICAgICAgaWQ6IGlkZW50aWZpZXJPclNlcnZpY2VNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgZXhwbGljaXQgY2FzdGluZ1xuICAgICAgICAgICAgICAgIHR5cGU6IGlkZW50aWZpZXJPclNlcnZpY2VNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgZmFjdG9yeTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGdsb2JhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVhZ2VyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0cmFuc2llbnQ6IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld1NlcnZpY2UgPSBfX2Fzc2lnbih7IGlkOiBuZXcgVG9rZW4oJ1VOUkVBQ0hBQkxFJyksIHR5cGU6IG51bGwsIGZhY3Rvcnk6IHVuZGVmaW5lZCwgdmFsdWU6IEVNUFRZX1ZBTFVFLCBnbG9iYWw6IGZhbHNlLCBtdWx0aXBsZTogZmFsc2UsIGVhZ2VyOiBmYWxzZSwgdHJhbnNpZW50OiBmYWxzZSB9LCBpZGVudGlmaWVyT3JTZXJ2aWNlTWV0YWRhdGEpO1xuICAgICAgICB2YXIgc2VydmljZSA9IHRoaXMuZmluZFNlcnZpY2UobmV3U2VydmljZS5pZCk7XG4gICAgICAgIGlmIChzZXJ2aWNlICYmIHNlcnZpY2UubXVsdGlwbGUgIT09IHRydWUpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2VydmljZSwgbmV3U2VydmljZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlcnZpY2VzLnB1c2gobmV3U2VydmljZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld1NlcnZpY2UuZWFnZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0KG5ld1NlcnZpY2UuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBzZXJ2aWNlcyB3aXRoIGEgZ2l2ZW4gc2VydmljZSBpZGVudGlmaWVycy5cbiAgICAgKi9cbiAgICBDb250YWluZXJJbnN0YW5jZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGlkZW50aWZpZXJPcklkZW50aWZpZXJBcnJheSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpZGVudGlmaWVyT3JJZGVudGlmaWVyQXJyYXkpKSB7XG4gICAgICAgICAgICBpZGVudGlmaWVyT3JJZGVudGlmaWVyQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIF90aGlzLnJlbW92ZShpZCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXJ2aWNlcyA9IHRoaXMuc2VydmljZXMuZmlsdGVyKGZ1bmN0aW9uIChzZXJ2aWNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2UuaWQgPT09IGlkZW50aWZpZXJPcklkZW50aWZpZXJBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0cm95U2VydmljZUluc3RhbmNlKHNlcnZpY2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wbGV0ZWx5IHJlc2V0cyB0aGUgY29udGFpbmVyIGJ5IHJlbW92aW5nIGFsbCBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgc2VydmljZXMgZnJvbSBpdC5cbiAgICAgKi9cbiAgICBDb250YWluZXJJbnN0YW5jZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHN0cmF0ZWd5OiAncmVzZXRWYWx1ZScgfTsgfVxuICAgICAgICBzd2l0Y2ggKG9wdGlvbnMuc3RyYXRlZ3kpIHtcbiAgICAgICAgICAgIGNhc2UgJ3Jlc2V0VmFsdWUnOlxuICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZXMuZm9yRWFjaChmdW5jdGlvbiAoc2VydmljZSkgeyByZXR1cm4gX3RoaXMuZGVzdHJveVNlcnZpY2VJbnN0YW5jZShzZXJ2aWNlKTsgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyZXNldFNlcnZpY2VzJzpcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZpY2VzLmZvckVhY2goZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuIF90aGlzLmRlc3Ryb3lTZXJ2aWNlSW5zdGFuY2Uoc2VydmljZSk7IH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VydmljZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWNlaXZlZCBpbnZhbGlkIHJlc2V0IHN0cmF0ZWd5LicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgc2VydmljZXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBnaXZlbiBpZGVudGlmaWVyLlxuICAgICAqL1xuICAgIENvbnRhaW5lckluc3RhbmNlLnByb3RvdHlwZS5maW5kQWxsU2VydmljZXMgPSBmdW5jdGlvbiAoaWRlbnRpZmllcikge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXJ2aWNlcy5maWx0ZXIoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuIHNlcnZpY2UuaWQgPT09IGlkZW50aWZpZXI7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluZHMgcmVnaXN0ZXJlZCBzZXJ2aWNlIGluIHRoZSB3aXRoIGEgZ2l2ZW4gc2VydmljZSBpZGVudGlmaWVyLlxuICAgICAqL1xuICAgIENvbnRhaW5lckluc3RhbmNlLnByb3RvdHlwZS5maW5kU2VydmljZSA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VzLmZpbmQoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuIHNlcnZpY2UuaWQgPT09IGlkZW50aWZpZXI7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYmVsb25naW5nIHRvIGBzZXJ2aWNlTWV0YWRhdGEuaWRgLlxuICAgICAqXG4gICAgICogLSBpZiBgc2VydmljZU1ldGFkYXRhLnZhbHVlYCBpcyBhbHJlYWR5IHNldCBpdCBpcyBpbW1lZGlhdGVseSByZXR1cm5lZFxuICAgICAqIC0gb3RoZXJ3aXNlIHRoZSByZXF1ZXN0ZWQgdHlwZSBpcyByZXNvbHZlZCB0byB0aGUgdmFsdWUgc2F2ZWQgdG8gYHNlcnZpY2VNZXRhZGF0YS52YWx1ZWAgYW5kIHJldHVybmVkXG4gICAgICovXG4gICAgQ29udGFpbmVySW5zdGFuY2UucHJvdG90eXBlLmdldFNlcnZpY2VWYWx1ZSA9IGZ1bmN0aW9uIChzZXJ2aWNlTWV0YWRhdGEpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgdmFsdWUgPSBFTVBUWV9WQUxVRTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBzZXJ2aWNlIHZhbHVlIGhhcyBiZWVuIHNldCB0byBhbnl0aGluZyBwcmlvciB0byB0aGlzIGNhbGwgd2UgcmV0dXJuIHRoYXQgdmFsdWUuXG4gICAgICAgICAqIE5PVEU6IFRoaXMgcGFydCBidWlsZHMgb24gdGhlIGFzc3VtcHRpb24gdGhhdCB0cmFuc2llbnQgZGVwZW5kZW5jaWVzIGhhcyBubyB2YWx1ZSBzZXQgZXZlci5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChzZXJ2aWNlTWV0YWRhdGEudmFsdWUgIT09IEVNUFRZX1ZBTFVFKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VydmljZU1ldGFkYXRhLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBJZiBib3RoIGZhY3RvcnkgYW5kIHR5cGUgaXMgbWlzc2luZywgd2UgY2Fubm90IHJlc29sdmUgdGhlIHJlcXVlc3RlZCBJRC4gKi9cbiAgICAgICAgaWYgKCFzZXJ2aWNlTWV0YWRhdGEuZmFjdG9yeSAmJiAhc2VydmljZU1ldGFkYXRhLnR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDYW5ub3RJbnN0YW50aWF0ZVZhbHVlRXJyb3Ioc2VydmljZU1ldGFkYXRhLmlkKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYSBmYWN0b3J5IGlzIGRlZmluZWQgaXQgdGFrZXMgcHJpb3JpdHkgb3ZlciBjcmVhdGluZyBhbiBpbnN0YW5jZSB2aWEgYG5ld2AuXG4gICAgICAgICAqIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZhY3RvcnkgaXMgbm90IGNoZWNrZWQsIHdlIGJlbGlldmUgYnkgZGVzaWduIHRoYXQgdGhlIHVzZXIga25vd3Mgd2hhdCBoZS9zaGUgaXMgZG9pbmcuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoc2VydmljZU1ldGFkYXRhLmZhY3RvcnkpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgd2UgcmVjZWl2ZWQgdGhlIGZhY3RvcnkgaW4gdGhlIFtDb25zdHJ1Y3RhYmxlPEZhY3Rvcnk+LCBcImZ1bmN0aW9uTmFtZVwiXSBmb3JtYXQsIHdlIG5lZWQgdG8gY3JlYXRlIHRoZVxuICAgICAgICAgICAgICogZmFjdG9yeSBmaXJzdCBhbmQgdGhlbiBjYWxsIHRoZSBzcGVjaWZpZWQgZnVuY3Rpb24gb24gaXQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChzZXJ2aWNlTWV0YWRhdGEuZmFjdG9yeSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGZhY3RvcnlJbnN0YW5jZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvKiogVHJ5IHRvIGdldCB0aGUgZmFjdG9yeSBmcm9tIFR5cGVESSBmaXJzdCwgaWYgZmFpbGVkLCBmYWxsIGJhY2sgdG8gc2ltcGx5IGluaXRpYXRpbmcgdGhlIGNsYXNzLiAqL1xuICAgICAgICAgICAgICAgICAgICBmYWN0b3J5SW5zdGFuY2UgPSB0aGlzLmdldChzZXJ2aWNlTWV0YWRhdGEuZmFjdG9yeVswXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBTZXJ2aWNlTm90Rm91bmRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFjdG9yeUluc3RhbmNlID0gbmV3IHNlcnZpY2VNZXRhZGF0YS5mYWN0b3J5WzBdKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGZhY3RvcnlJbnN0YW5jZVtzZXJ2aWNlTWV0YWRhdGEuZmFjdG9yeVsxXV0odGhpcywgc2VydmljZU1ldGFkYXRhLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8qKiBJZiBvbmx5IGEgc2ltcGxlIGZ1bmN0aW9uIHdhcyBwcm92aWRlZCB3ZSBzaW1wbHkgY2FsbCBpdC4gKi9cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHNlcnZpY2VNZXRhZGF0YS5mYWN0b3J5KHRoaXMsIHNlcnZpY2VNZXRhZGF0YS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIG5vIGZhY3Rvcnkgd2FzIHByb3ZpZGVkIGFuZCBvbmx5IHRoZW4sIHdlIGNyZWF0ZSB0aGUgaW5zdGFuY2UgZnJvbSB0aGUgdHlwZSBpZiBpdCB3YXMgc2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFzZXJ2aWNlTWV0YWRhdGEuZmFjdG9yeSAmJiBzZXJ2aWNlTWV0YWRhdGEudHlwZSkge1xuICAgICAgICAgICAgdmFyIGNvbnN0cnVjdGFibGVUYXJnZXRUeXBlID0gc2VydmljZU1ldGFkYXRhLnR5cGU7XG4gICAgICAgICAgICAvLyBzZXR1cCBjb25zdHJ1Y3RvciBwYXJhbWV0ZXJzIGZvciBhIG5ld2x5IGluaXRpYWxpemVkIHNlcnZpY2VcbiAgICAgICAgICAgIHZhciBwYXJhbVR5cGVzID0gKChfYSA9IFJlZmxlY3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRNZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBjb25zdHJ1Y3RhYmxlVGFyZ2V0VHlwZSkpIHx8IFtdO1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuaW5pdGlhbGl6ZVBhcmFtcyhjb25zdHJ1Y3RhYmxlVGFyZ2V0VHlwZSwgcGFyYW1UeXBlcyk7XG4gICAgICAgICAgICAvLyBcImV4dHJhIGZlYXR1cmVcIiAtIGFsd2F5cyBwYXNzIGNvbnRhaW5lciBpbnN0YW5jZSBhcyB0aGUgbGFzdCBhcmd1bWVudCB0byB0aGUgc2VydmljZSBmdW5jdGlvblxuICAgICAgICAgICAgLy8gdGhpcyBhbGxvd3MgdXMgdG8gc3VwcG9ydCBqYXZhc2NyaXB0IHdoZXJlIHdlIGRvbid0IGhhdmUgZGVjb3JhdG9ycyBhbmQgZW1pdHRlZCBtZXRhZGF0YSBhYm91dCBkZXBlbmRlbmNpZXNcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gYmUgaW5qZWN0ZWQsIGFuZCB1c2VyIGNhbiB1c2UgcHJvdmlkZWQgY29udGFpbmVyIHRvIGdldCBpbnN0YW5jZXMgaGUgbmVlZHNcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgdmFsdWUgPSBuZXcgKGNvbnN0cnVjdGFibGVUYXJnZXRUeXBlLmJpbmQuYXBwbHkoY29uc3RydWN0YWJsZVRhcmdldFR5cGUsIF9fc3ByZWFkQXJyYXlzKFt2b2lkIDBdLCBwYXJhbXMpKSkoKTtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbGxpbmcgdGhpcyBoZXJlLCBsZWFkcyB0byBpbmZpbml0ZSBsb29wLCBiZWNhdXNlIEBJbmplY3QgZGVjb3JhdG9yIHJlZ2lzdGVyZHMgYSBoYW5kbGVyXG4gICAgICAgICAgICAvLyBUT0RPOiB3aGljaCBjYWxscyBDb250YWluZXIuZ2V0LCB3aGljaCB3aWxsIGNoZWNrIGlmIHRoZSByZXF1ZXN0ZWQgdHlwZSBoYXMgYSB2YWx1ZSBzZXQgYW5kIGlmIG5vdFxuICAgICAgICAgICAgLy8gVE9ETzogaXQgd2lsbCBzdGFydCB0aGUgaW5zdGFudGlhdGlvbiBwcm9jZXNzIG92ZXIuIFNvIHRoaXMgaXMgY3VycmVudGx5IGNhbGxlZCBvdXRzaWRlIG9mIHRoZSBpZiBicmFuY2hcbiAgICAgICAgICAgIC8vIFRPRE86IGFmdGVyIHRoZSBjdXJyZW50IHZhbHVlIGhhcyBiZWVuIGFzc2lnbmVkIHRvIHRoZSBzZXJ2aWNlTWV0YWRhdGEuXG4gICAgICAgICAgICAvLyB0aGlzLmFwcGx5UHJvcGVydHlIYW5kbGVycyhjb25zdHJ1Y3RhYmxlVGFyZ2V0VHlwZSwgdmFsdWUgYXMgQ29uc3RydWN0YWJsZTx1bmtub3duPik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIElmIHRoaXMgaXMgbm90IGEgdHJhbnNpZW50IHNlcnZpY2UsIGFuZCB3ZSByZXNvbHZlZCBzb21ldGhpbmcsIHRoZW4gd2Ugc2V0IGl0IGFzIHRoZSB2YWx1ZS4gKi9cbiAgICAgICAgaWYgKCFzZXJ2aWNlTWV0YWRhdGEudHJhbnNpZW50ICYmIHZhbHVlICE9PSBFTVBUWV9WQUxVRSkge1xuICAgICAgICAgICAgc2VydmljZU1ldGFkYXRhLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09PSBFTVBUWV9WQUxVRSkge1xuICAgICAgICAgICAgLyoqIFRoaXMgYnJhbmNoIHNob3VsZCBuZXZlciBleGVjdXRlLCBidXQgYmV0dGVyIHRvIGJlIHNhZmUgdGhhbiBzb3JyeS4gKi9cbiAgICAgICAgICAgIHRocm93IG5ldyBDYW5ub3RJbnN0YW50aWF0ZVZhbHVlRXJyb3Ioc2VydmljZU1ldGFkYXRhLmlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VydmljZU1ldGFkYXRhLnR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlQcm9wZXJ0eUhhbmRsZXJzKHNlcnZpY2VNZXRhZGF0YS50eXBlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYWxsIHBhcmFtZXRlciB0eXBlcyBmb3IgYSBnaXZlbiB0YXJnZXQgc2VydmljZSBjbGFzcy5cbiAgICAgKi9cbiAgICBDb250YWluZXJJbnN0YW5jZS5wcm90b3R5cGUuaW5pdGlhbGl6ZVBhcmFtcyA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmFtVHlwZXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHBhcmFtVHlwZXMubWFwKGZ1bmN0aW9uIChwYXJhbVR5cGUsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1IYW5kbGVyID0gQ29udGFpbmVyLmhhbmRsZXJzLmZpbmQoZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBASW5qZWN0KCktZWQgdmFsdWVzIGFyZSBzdG9yZWQgYXMgcGFyYW1ldGVyIGhhbmRsZXJzIGFuZCB0aGV5IHJlZmVyZW5jZSB0aGVpciB0YXJnZXRcbiAgICAgICAgICAgICAgICAgKiB3aGVuIGNyZWF0ZWQuIFNvIHdoZW4gYSBjbGFzcyBpcyBleHRlbmRlZCB0aGUgQEluamVjdCgpLWVkIHZhbHVlcyBhcmUgbm90IGluaGVyaXRlZFxuICAgICAgICAgICAgICAgICAqIGJlY2F1c2UgdGhlIGhhbmRsZXIgc3RpbGwgcG9pbnRzIHRvIHRoZSBvbGQgb2JqZWN0IG9ubHkuXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBBcyBhIHF1aWNrIGZpeCBhIHNpbmdsZSBsZXZlbCBwYXJlbnQgbG9va3VwIGlzIGFkZGVkIHZpYSBgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldClgLFxuICAgICAgICAgICAgICAgICAqIGhvd2V2ZXIgdGhpcyBzaG91bGQgYmUgdXBkYXRlZCB0byBhIG1vcmUgcm9idXN0IHNvbHV0aW9uLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogVE9ETzogQWRkIHByb3BlciBpbmhlcml0YW5jZSBoYW5kbGluZzogZWl0aGVyIGNvcHkgdGhlIGhhbmRsZXJzIHdoZW4gYSBjbGFzcyBpcyByZWdpc3RlcmVkIHdoYXRcbiAgICAgICAgICAgICAgICAgKiBUT0RPOiBoYXMgaXQncyBwYXJlbnQgYWxyZWFkeSByZWdpc3RlcmVkIGFzIGRlcGVuZGVuY3kgb3IgbWFrZSB0aGUgbG9va3VwIHNlYXJjaCB1cCB0byB0aGUgYmFzZSBPYmplY3QuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcmV0dXJuICgoaGFuZGxlci5vYmplY3QgPT09IHRhcmdldCB8fCBoYW5kbGVyLm9iamVjdCA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCkpICYmIGhhbmRsZXIuaW5kZXggPT09IGluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHBhcmFtSGFuZGxlcilcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1IYW5kbGVyLnZhbHVlKF90aGlzKTtcbiAgICAgICAgICAgIGlmIChwYXJhbVR5cGUgJiYgcGFyYW1UeXBlLm5hbWUgJiYgIV90aGlzLmlzUHJpbWl0aXZlUGFyYW1UeXBlKHBhcmFtVHlwZS5uYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXQocGFyYW1UeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGdpdmVuIHBhcmFtZXRlciB0eXBlIGlzIHByaW1pdGl2ZSB0eXBlIG9yIG5vdC5cbiAgICAgKi9cbiAgICBDb250YWluZXJJbnN0YW5jZS5wcm90b3R5cGUuaXNQcmltaXRpdmVQYXJhbVR5cGUgPSBmdW5jdGlvbiAocGFyYW1UeXBlTmFtZSkge1xuICAgICAgICByZXR1cm4gWydzdHJpbmcnLCAnYm9vbGVhbicsICdudW1iZXInLCAnb2JqZWN0J10uaW5jbHVkZXMocGFyYW1UeXBlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYWxsIHJlZ2lzdGVyZWQgaGFuZGxlcnMgb24gYSBnaXZlbiB0YXJnZXQgY2xhc3MuXG4gICAgICovXG4gICAgQ29udGFpbmVySW5zdGFuY2UucHJvdG90eXBlLmFwcGx5UHJvcGVydHlIYW5kbGVycyA9IGZ1bmN0aW9uICh0YXJnZXQsIGluc3RhbmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIENvbnRhaW5lci5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIuaW5kZXggPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyLm9iamVjdC5jb25zdHJ1Y3RvciAhPT0gdGFyZ2V0ICYmICEodGFyZ2V0LnByb3RvdHlwZSBpbnN0YW5jZW9mIGhhbmRsZXIub2JqZWN0LmNvbnN0cnVjdG9yKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBpZiAoaGFuZGxlci5wcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZVtoYW5kbGVyLnByb3BlcnR5TmFtZV0gPSBoYW5kbGVyLnZhbHVlKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIHNlcnZpY2UgbWV0YWRhdGEgY29udGFpbnMgYSBkZXN0cm95YWJsZSBzZXJ2aWNlIGluc3RhbmNlIGFuZCBkZXN0cm95cyBpdCBpbiBwbGFjZS4gSWYgdGhlIHNlcnZpY2VcbiAgICAgKiBjb250YWlucyBhIGNhbGxhYmxlIGZ1bmN0aW9uIG5hbWVkIGBkZXN0cm95YCBpdCBpcyBjYWxsZWQgYnV0IG5vdCBhd2FpdGVkIGFuZCB0aGUgcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWQuLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNlcnZpY2VNZXRhZGF0YSB0aGUgc2VydmljZSBtZXRhZGF0YSBjb250YWluaW5nIHRoZSBpbnN0YW5jZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIGZvcmNlIHdoZW4gdHJ1ZSB0aGUgc2VydmljZSB3aWxsIGJlIGFsd2F5cyBkZXN0cm95ZWQgZXZlbiBpZiBpdCdzIGNhbm5vdCBiZSByZS1jcmVhdGVkXG4gICAgICovXG4gICAgQ29udGFpbmVySW5zdGFuY2UucHJvdG90eXBlLmRlc3Ryb3lTZXJ2aWNlSW5zdGFuY2UgPSBmdW5jdGlvbiAoc2VydmljZU1ldGFkYXRhLCBmb3JjZSkge1xuICAgICAgICBpZiAoZm9yY2UgPT09IHZvaWQgMCkgeyBmb3JjZSA9IGZhbHNlOyB9XG4gICAgICAgIC8qKiBXZSByZXNldCB2YWx1ZSBvbmx5IGlmIHdlIGNhbiByZS1jcmVhdGUgaXQgKGFrYSB0eXBlIG9yIGZhY3RvcnkgZXhpc3RzKS4gKi9cbiAgICAgICAgdmFyIHNob3VsZFJlc2V0VmFsdWUgPSBmb3JjZSB8fCAhIXNlcnZpY2VNZXRhZGF0YS50eXBlIHx8ICEhc2VydmljZU1ldGFkYXRhLmZhY3Rvcnk7XG4gICAgICAgIGlmIChzaG91bGRSZXNldFZhbHVlKSB7XG4gICAgICAgICAgICAvKiogSWYgd2Ugd291bmQgYSBmdW5jdGlvbiBuYW1lZCBkZXN0cm95IHdlIGNhbGwgaXQgd2l0aG91dCBhbnkgcGFyYW1zLiAqL1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAoc2VydmljZU1ldGFkYXRhID09PSBudWxsIHx8IHNlcnZpY2VNZXRhZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VydmljZU1ldGFkYXRhLnZhbHVlKVsnZGVzdHJveSddID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZU1ldGFkYXRhLnZhbHVlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKiBXZSBzaW1wbHkgaWdub3JlIHRoZSBlcnJvcnMgZnJvbSB0aGUgZGVzdHJveSBmdW5jdGlvbi4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXJ2aWNlTWV0YWRhdGEudmFsdWUgPSBFTVBUWV9WQUxVRTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbnRhaW5lckluc3RhbmNlO1xufSgpKTtcbmV4cG9ydCB7IENvbnRhaW5lckluc3RhbmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250YWluZXItaW5zdGFuY2UuY2xhc3MuanMubWFwIiwiaW1wb3J0IHsgQ29udGFpbmVySW5zdGFuY2UgfSBmcm9tICcuL2NvbnRhaW5lci1pbnN0YW5jZS5jbGFzcyc7XG4vKipcbiAqIFNlcnZpY2UgY29udGFpbmVyLlxuICovXG52YXIgQ29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhIHNlcGFyYXRlIGNvbnRhaW5lciBpbnN0YW5jZSBmb3IgdGhlIGdpdmVuIGluc3RhbmNlIGlkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5vZiA9IGZ1bmN0aW9uIChjb250YWluZXJJZCkge1xuICAgICAgICBpZiAoY29udGFpbmVySWQgPT09IHZvaWQgMCkgeyBjb250YWluZXJJZCA9ICdkZWZhdWx0JzsgfVxuICAgICAgICBpZiAoY29udGFpbmVySWQgPT09ICdkZWZhdWx0JylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdsb2JhbEluc3RhbmNlO1xuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5pbnN0YW5jZXMuZmluZChmdW5jdGlvbiAoaW5zdGFuY2UpIHsgcmV0dXJuIGluc3RhbmNlLmlkID09PSBjb250YWluZXJJZDsgfSk7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSBuZXcgQ29udGFpbmVySW5zdGFuY2UoY29udGFpbmVySWQpO1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZXMucHVzaChjb250YWluZXIpO1xuICAgICAgICAgICAgLy8gVE9ETzogV2h5IHdlIGFyZSBub3QgcmVzZXRpbmcgaGVyZT8gTGV0J3MgcmVzZXQgaGVyZS4gKEkgaGF2ZSBhZGRlZCB0aGUgY29tbWVudGVkIGNvZGUuKVxuICAgICAgICAgICAgLy8gY29udGFpbmVyLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9O1xuICAgIENvbnRhaW5lci5oYXMgPSBmdW5jdGlvbiAoaWRlbnRpZmllcikge1xuICAgICAgICByZXR1cm4gdGhpcy5nbG9iYWxJbnN0YW5jZS5oYXMoaWRlbnRpZmllcik7XG4gICAgfTtcbiAgICBDb250YWluZXIuZ2V0ID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2xvYmFsSW5zdGFuY2UuZ2V0KGlkZW50aWZpZXIpO1xuICAgIH07XG4gICAgQ29udGFpbmVyLmdldE1hbnkgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2xvYmFsSW5zdGFuY2UuZ2V0TWFueShpZCk7XG4gICAgfTtcbiAgICBDb250YWluZXIuc2V0ID0gZnVuY3Rpb24gKGlkZW50aWZpZXJPclNlcnZpY2VNZXRhZGF0YSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5nbG9iYWxJbnN0YW5jZS5zZXQoaWRlbnRpZmllck9yU2VydmljZU1ldGFkYXRhLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBzZXJ2aWNlcyB3aXRoIGEgZ2l2ZW4gc2VydmljZSBpZGVudGlmaWVycy5cbiAgICAgKi9cbiAgICBDb250YWluZXIucmVtb3ZlID0gZnVuY3Rpb24gKGlkZW50aWZpZXJPcklkZW50aWZpZXJBcnJheSkge1xuICAgICAgICB0aGlzLmdsb2JhbEluc3RhbmNlLnJlbW92ZShpZGVudGlmaWVyT3JJZGVudGlmaWVyQXJyYXkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbXBsZXRlbHkgcmVzZXRzIHRoZSBjb250YWluZXIgYnkgcmVtb3ZpbmcgYWxsIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBzZXJ2aWNlcyBhbmQgaGFuZGxlcnMgZnJvbSBpdC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucmVzZXQgPSBmdW5jdGlvbiAoY29udGFpbmVySWQpIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lcklkID09PSB2b2lkIDApIHsgY29udGFpbmVySWQgPSAnZGVmYXVsdCc7IH1cbiAgICAgICAgaWYgKGNvbnRhaW5lcklkID09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxJbnN0YW5jZS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5zdGFuY2UpIHsgcmV0dXJuIGluc3RhbmNlLnJlc2V0KCk7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZXMuZmluZChmdW5jdGlvbiAoaW5zdGFuY2UpIHsgcmV0dXJuIGluc3RhbmNlLmlkID09PSBjb250YWluZXJJZDsgfSk7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5yZXNldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzLnNwbGljZSh0aGlzLmluc3RhbmNlcy5pbmRleE9mKGluc3RhbmNlKSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBuZXcgaGFuZGxlci5cbiAgICAgKi9cbiAgICBDb250YWluZXIucmVnaXN0ZXJIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5wdXNoKGhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdGhhdCBpbXBvcnRzIGdpdmVuIHNlcnZpY2VzLlxuICAgICAqL1xuICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMgKi9cbiAgICBDb250YWluZXIuaW1wb3J0ID0gZnVuY3Rpb24gKHNlcnZpY2VzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWxsIHJlZ2lzdGVyZWQgaGFuZGxlcnMuIFRoZSBASW5qZWN0KCkgZGVjb3JhdG9yIHVzZXMgaGFuZGxlcnMgaW50ZXJuYWxseSB0byBtYXJrIGEgcHJvcGVydHkgZm9yIGluamVjdGlvbi5cbiAgICAgKiovXG4gICAgQ29udGFpbmVyLmhhbmRsZXJzID0gW107XG4gICAgLyoqICBHbG9iYWwgY29udGFpbmVyIGluc3RhbmNlLiAqL1xuICAgIENvbnRhaW5lci5nbG9iYWxJbnN0YW5jZSA9IG5ldyBDb250YWluZXJJbnN0YW5jZSgnZGVmYXVsdCcpO1xuICAgIC8qKiBPdGhlciBjb250YWluZXJzIGNyZWF0ZWQgdXNpbmcgQ29udGFpbmVyLm9mIG1ldGhvZC4gKi9cbiAgICBDb250YWluZXIuaW5zdGFuY2VzID0gW107XG4gICAgcmV0dXJuIENvbnRhaW5lcjtcbn0oKSk7XG5leHBvcnQgeyBDb250YWluZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRhaW5lci5jbGFzcy5qcy5tYXAiLCIvKipcbiAqIFdlIGhhdmUgYSBoYXJkIGRlcGVuZGVuY3kgb24gcmVmbGVjdC1tZXRhZGF0YSBwYWNrYWdlLlxuICogV2l0aG91dCB0aGUgZGVwZW5kZW5jeSBsb29rdXAgd29udCB3b3JrLiBTbyB3ZSBzaG91bGQgd2FybiB0aGUgdXNlcnNcbiAqIHdoZW4gaXQncyBub3QgbG9hZGVkLlxuICovXG4vLyBpZighUmVmbGVjdCB8fCAhKFJlZmxlY3QgYXMgYW55KS5nZXRNZXRhZGF0YSkge1xuLy8gICB0aHJvdyBuZXcgRXJyb3IoJ1JlZmxlY3QuZ2V0TWV0YWRhdGEgaXMgbm90IGEgZnVuY3Rpb24uIFBsZWFzZSBpbXBvcnQgdGhlIFwicmVmbGVjdC1tZXRhZGF0YVwiIHBhY2thZ2UgYXQgdGhlIGZpcnN0IGxpbmUgb2YgeW91ciBhcHBsaWNhdGlvbi4nKTtcbi8vIH1cbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJy4vY29udGFpbmVyLmNsYXNzJztcbmV4cG9ydCAqIGZyb20gJy4vZGVjb3JhdG9ycy9pbmplY3QtbWFueS5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL2luamVjdC5kZWNvcmF0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9kZWNvcmF0b3JzL3NlcnZpY2UuZGVjb3JhdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vZXJyb3IvY2Fubm90LWluamVjdC12YWx1ZS5lcnJvcic7XG5leHBvcnQgKiBmcm9tICcuL2Vycm9yL2Nhbm5vdC1pbnN0YW50aWF0ZS12YWx1ZS5lcnJvcic7XG5leHBvcnQgKiBmcm9tICcuL2Vycm9yL3NlcnZpY2Utbm90LWZvdW5kLmVycm9yJztcbmV4cG9ydCB7IENvbnRhaW5lckluc3RhbmNlIH0gZnJvbSAnLi9jb250YWluZXItaW5zdGFuY2UuY2xhc3MnO1xuZXhwb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnLi9jb250YWluZXIuY2xhc3MnO1xuZXhwb3J0IHsgVG9rZW4gfSBmcm9tICcuL3Rva2VuLmNsYXNzJztcbmV4cG9ydCBkZWZhdWx0IENvbnRhaW5lcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJy4uL2NvbnRhaW5lci5jbGFzcyc7XG5pbXBvcnQgeyBUb2tlbiB9IGZyb20gJy4uL3Rva2VuLmNsYXNzJztcbmltcG9ydCB7IEVNUFRZX1ZBTFVFIH0gZnJvbSAnLi4vZW1wdHkuY29uc3QnO1xuZXhwb3J0IGZ1bmN0aW9uIFNlcnZpY2Uob3B0aW9uc09yU2VydmljZUlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldENvbnN0cnVjdG9yKSB7XG4gICAgICAgIHZhciBzZXJ2aWNlTWV0YWRhdGEgPSB7XG4gICAgICAgICAgICBpZDogdGFyZ2V0Q29uc3RydWN0b3IsXG4gICAgICAgICAgICAvLyBUT0RPOiBMZXQncyBpbnZlc3RpZ2F0ZSB3aHkgd2UgcmVjZWl2ZSBGdW5jdGlvbiB0eXBlIGluc3RlYWQgb2YgYSBjb25zdHJ1Y3RhYmxlLlxuICAgICAgICAgICAgdHlwZTogdGFyZ2V0Q29uc3RydWN0b3IsXG4gICAgICAgICAgICBmYWN0b3J5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtdWx0aXBsZTogZmFsc2UsXG4gICAgICAgICAgICBnbG9iYWw6IGZhbHNlLFxuICAgICAgICAgICAgZWFnZXI6IGZhbHNlLFxuICAgICAgICAgICAgdHJhbnNpZW50OiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBFTVBUWV9WQUxVRSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyIGluc3RhbmNlb2YgVG9rZW4gfHwgdHlwZW9mIG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLyoqIFdlIHJlY2VpdmVkIGEgVG9rZW4gb3Igc3RyaW5nIElELiAqL1xuICAgICAgICAgICAgc2VydmljZU1ldGFkYXRhLmlkID0gb3B0aW9uc09yU2VydmljZUlkZW50aWZpZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9uc09yU2VydmljZUlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIC8qKiBXZSByZWNlaXZlZCBhIFNlcnZpY2VPcHRpb25zIG9iamVjdC4gKi9cbiAgICAgICAgICAgIHNlcnZpY2VNZXRhZGF0YS5pZCA9IG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyLmlkIHx8IHRhcmdldENvbnN0cnVjdG9yO1xuICAgICAgICAgICAgc2VydmljZU1ldGFkYXRhLmZhY3RvcnkgPSBvcHRpb25zT3JTZXJ2aWNlSWRlbnRpZmllci5mYWN0b3J5IHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHNlcnZpY2VNZXRhZGF0YS5tdWx0aXBsZSA9IG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyLm11bHRpcGxlIHx8IGZhbHNlO1xuICAgICAgICAgICAgc2VydmljZU1ldGFkYXRhLmdsb2JhbCA9IG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyLmdsb2JhbCB8fCBmYWxzZTtcbiAgICAgICAgICAgIHNlcnZpY2VNZXRhZGF0YS5lYWdlciA9IG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyLmVhZ2VyIHx8IGZhbHNlO1xuICAgICAgICAgICAgc2VydmljZU1ldGFkYXRhLnRyYW5zaWVudCA9IG9wdGlvbnNPclNlcnZpY2VJZGVudGlmaWVyLnRyYW5zaWVudCB8fCBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBDb250YWluZXIuc2V0KHNlcnZpY2VNZXRhZGF0YSk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcnZpY2UuZGVjb3JhdG9yLmpzLm1hcCIsImltcG9ydCB7IFNlcnZpY2UgfSBmcm9tIFwidHlwZWRpXCI7XG5AU2VydmljZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBc3NldE1hbmFnZXIge1xuICBsb2FkZWRBc3NldHM6IGFueSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuXG4gIGFzeW5jIGxvYWRBc3NldHMoYXNzZXRzOnt9KSB7XG4gICAgY29uc3QgYXNzZXRQcm9taXNlczogYW55ID0gW107XG5cbiAgICBmb3IgKGNvbnN0IFthc3NldE5hbWUsIGFzc2V0VXJsXSBvZiBPYmplY3QuZW50cmllcyhhc3NldHMpKSB7XG4gICAgICBjb25zdCBhc3NldFByb21pc2UgPSB0aGlzLmxvYWRTaW5nbGVBc3NldChhc3NldFVybCwgYXNzZXROYW1lKTtcbiAgICAgIGFzc2V0UHJvbWlzZXMucHVzaChhc3NldFByb21pc2UpO1xuICAgIH1cblxuICAgIGF3YWl0IFByb21pc2UuYWxsKGFzc2V0UHJvbWlzZXMpO1xuICB9XG5cbiAgbG9hZFNpbmdsZUFzc2V0KGFzc2V0VXJsOiBhbnksIGFzc2V0TmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCBhc3NldEltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICBhc3NldEltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgYXNzZXRJbWFnZS53aWR0aCAvPSAyO1xuICAgICAgICBhc3NldEltYWdlLmhlaWdodCAvPSAyO1xuXG4gICAgICAgIHRoaXMubG9hZGVkQXNzZXRzW2Fzc2V0TmFtZV0gPSBhc3NldEltYWdlO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9O1xuICAgICAgYXNzZXRJbWFnZS5zcmMgPSBhc3NldFVybDtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEFzc2V0KGFzc2V0TmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGVkQXNzZXRzW2Fzc2V0TmFtZV07XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBHQU1FX1dJRFRIID0gd2luZG93LmlubmVyV2lkdGg7XG5leHBvcnQgY29uc3QgR0FNRV9IRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbmV4cG9ydCBjb25zdCBTS0lFUl9DUkFTSCA9IFwic2tpZXJDcmFzaFwiO1xuZXhwb3J0IGNvbnN0IFNLSUVSX0xFRlQgPSBcInNraWVyTGVmdFwiO1xuZXhwb3J0IGNvbnN0IFNLSUVSX0xFRlRET1dOID0gXCJza2llckxlZnREb3duXCI7XG5leHBvcnQgY29uc3QgU0tJRVJfRE9XTiA9IFwic2tpZXJEb3duXCI7XG5leHBvcnQgY29uc3QgU0tJRVJfUklHSFRET1dOID0gXCJza2llclJpZ2h0RG93blwiO1xuZXhwb3J0IGNvbnN0IFNLSUVSX1JJR0hUID0gXCJza2llclJpZ2h0XCI7XG5leHBvcnQgY29uc3QgVFJFRSA9IFwidHJlZVwiO1xuZXhwb3J0IGNvbnN0IFRSRUVfQ0xVU1RFUiA9IFwidHJlZUNsdXN0ZXJcIjtcbmV4cG9ydCBjb25zdCBST0NLMSA9IFwicm9jazFcIjtcbmV4cG9ydCBjb25zdCBST0NLMiA9IFwicm9jazJcIjtcbmV4cG9ydCBjb25zdCBTS0lFUl9VUCA9IFwic2tpZXJVcFwiO1xuZXhwb3J0IGNvbnN0IEpVTVBfUkFNUCA9IFwianVtcFJhbXBcIjtcbmV4cG9ydCBjb25zdCBSSElOT19ERUZBVUxUID0gXCJyaGlub0RlZmF1bHRcIjtcbmV4cG9ydCBjb25zdCBSSElOT19SVU5fTEVGVCA9IFwicmhpbm9SdW5MZWZ0XCI7XG5leHBvcnQgY29uc3QgUkhJTk9fTElGVCA9IFwicmhpbm9MaWZ0XCI7XG5leHBvcnQgY29uc3QgUkhJTk9fTElGVF9NT1VUSF9PUEVOID0gXCJyaGlub0xpZnRNb3V0aE9wZW5cIjtcbmV4cG9ydCBjb25zdCBSSElOT19MSUZUX0VBVDEgPSBcInJoaW5vTGlmdEVhdDFcIjtcbmV4cG9ydCBjb25zdCBSSElOT19MSUZUX0VBVDIgPSBcInJoaW5vTGlmdEVhdDJcIjtcbmV4cG9ydCBjb25zdCBSSElOT19MSUZUX0VBVDMgPSBcInJoaW5vTGlmdEVhdDNcIjtcbmV4cG9ydCBjb25zdCBLSUxMX1NLSUVSID0gXCJraWxsU2tpZXJcIjtcbmV4cG9ydCBjb25zdCBQQVVTRSA9IFwic2tpZXJDcmFzaFwiO1xuXG5leHBvcnQgY29uc3QgU0tJRVJfU1RBUlRJTkdfU1BFRUQgPSAxMDtcbmV4cG9ydCBjb25zdCBTS0lFUl9ESUFHT05BTF9TUEVFRF9SRURVQ0VSID0gMS40MTQyO1xuXG5leHBvcnQgY29uc3QgQVNTRVRTID0ge1xuICBbU0tJRVJfQ1JBU0hdOiBcInB1YmxpYy9pbWcvc2tpZXJfY3Jhc2gucG5nXCIsXG4gIFtTS0lFUl9MRUZUXTogXCJwdWJsaWMvaW1nL3NraWVyX2xlZnQucG5nXCIsXG4gIFtTS0lFUl9MRUZURE9XTl06IFwicHVibGljL2ltZy9za2llcl9sZWZ0X2Rvd24ucG5nXCIsXG4gIFtTS0lFUl9ET1dOXTogXCJwdWJsaWMvaW1nL3NraWVyX2Rvd24ucG5nXCIsXG4gIFtTS0lFUl9SSUdIVERPV05dOiBcInB1YmxpYy9pbWcvc2tpZXJfcmlnaHRfZG93bi5wbmdcIixcbiAgW1NLSUVSX1JJR0hUXTogXCJwdWJsaWMvaW1nL3NraWVyX3JpZ2h0LnBuZ1wiLFxuICBbVFJFRV06IFwicHVibGljL2ltZy90cmVlXzEucG5nXCIsXG4gIFtUUkVFX0NMVVNURVJdOiBcInB1YmxpYy9pbWcvdHJlZV9jbHVzdGVyLnBuZ1wiLFxuICBbUk9DSzFdOiBcInB1YmxpYy9pbWcvcm9ja18xLnBuZ1wiLFxuICBbUk9DSzJdOiBcInB1YmxpYy9pbWcvcm9ja18yLnBuZ1wiLFxuICBbU0tJRVJfVVBdOiBcInB1YmxpYy9pbWcvc2tpZXJfanVtcF8xLnBuZ1wiLFxuICBbSlVNUF9SQU1QXTogXCJwdWJsaWMvaW1nL2p1bXBfcmFtcC5wbmdcIixcbiAgW1JISU5PX1JVTl9MRUZUXTogXCJwdWJsaWMvaW1nL3JoaW5vX3J1bl9sZWZ0LnBuZ1wiLFxuICBbUkhJTk9fTElGVF06IFwicHVibGljL2ltZy9yaGlub19saWZ0LnBuZ1wiLFxuICBbUkhJTk9fTElGVF9NT1VUSF9PUEVOXTogXCJwdWJsaWMvaW1nL3JoaW5vX2xpZnRfbW91dGhfb3Blbi5wbmdcIixcbiAgW1JISU5PX0xJRlRfRUFUMV06IFwicHVibGljL2ltZy9yaGlub19saWZ0X2VhdF8xLnBuZ1wiLFxuICBbUkhJTk9fTElGVF9FQVQyXTogXCJwdWJsaWMvaW1nL3JoaW5vX2xpZnRfZWF0XzIucG5nXCIsXG4gIFtSSElOT19MSUZUX0VBVDNdOiBcInB1YmxpYy9pbWcvcmhpbm9fbGlmdF9lYXRfMy5wbmdcIixcbiAgW0tJTExfU0tJRVJdOiBcInB1YmxpYy9pbWcvY2xlYXJfc2tpZXIucG5nXCIsXG59O1xuXG5leHBvcnQgY29uc3QgU0tJRVJfRElSRUNUSU9OUyA9IHtcbiAgQ1JBU0g6IDAsXG4gIExFRlQ6IDEsXG4gIExFRlRfRE9XTjogMixcbiAgRE9XTjogMyxcbiAgUklHSFRfRE9XTjogNCxcbiAgUklHSFQ6IDUsXG4gIFVQOiA2LFxuICBLSUxMOiA3LFxuICBQQVVTRTogOFxufTtcblxuZXhwb3J0IGNvbnN0IFNLSUVSX0RJUkVDVElPTl9BU1NFVCA9IHtcbiAgW1NLSUVSX0RJUkVDVElPTlMuQ1JBU0hdOiBTS0lFUl9DUkFTSCxcbiAgW1NLSUVSX0RJUkVDVElPTlMuTEVGVF06IFNLSUVSX0xFRlQsXG4gIFtTS0lFUl9ESVJFQ1RJT05TLkxFRlRfRE9XTl06IFNLSUVSX0xFRlRET1dOLFxuICBbU0tJRVJfRElSRUNUSU9OUy5ET1dOXTogU0tJRVJfRE9XTixcbiAgW1NLSUVSX0RJUkVDVElPTlMuUklHSFRfRE9XTl06IFNLSUVSX1JJR0hURE9XTixcbiAgW1NLSUVSX0RJUkVDVElPTlMuUklHSFRdOiBTS0lFUl9SSUdIVCxcbiAgW1NLSUVSX0RJUkVDVElPTlMuVVBdOiBTS0lFUl9VUCxcbiAgW1NLSUVSX0RJUkVDVElPTlMuS0lMTF06IEtJTExfU0tJRVIsXG4gIFtTS0lFUl9ESVJFQ1RJT05TLlBBVVNFXTogUEFVU0UsXG59O1xuXG5leHBvcnQgY29uc3QgS0VZUyA9IHtcbiAgTEVGVDogMzcsXG4gIFJJR0hUOiAzOSxcbiAgVVA6IDM4LFxuICBET1dOOiA0MCxcbiAgU1BBQ0U6IDMyLFxuICBSZXNldDogODJcbn07XG5cbmV4cG9ydCBjb25zdCBSSElOT19BQ1RJT05TID0ge1xuICBDSEFTRV9TS0lFUjogMCxcbiAgTElGVF9TS0lFUjogMSxcbiAgTElGVF9NT1VUSF9PUEVOX1NLSUVSOiAyLFxuICBDSEVXX1NLSUVSOiAzLFxuICBTV0FMTE9XX1NLSUVSOiA0LFxuICBFTkQ6IDUsXG59O1xuXG5leHBvcnQgY29uc3QgUkhJTk9fQUNUSU9OX0FTU0VUID0ge1xuICBbUkhJTk9fQUNUSU9OUy5DSEFTRV9TS0lFUl06IFJISU5PX1JVTl9MRUZULFxuICBbUkhJTk9fQUNUSU9OUy5MSUZUX1NLSUVSXTogUkhJTk9fTElGVCxcbiAgW1JISU5PX0FDVElPTlMuTElGVF9NT1VUSF9PUEVOX1NLSUVSXTogUkhJTk9fTElGVF9NT1VUSF9PUEVOLFxuICBbUkhJTk9fQUNUSU9OUy5DSEVXX1NLSUVSXTogUkhJTk9fTElGVF9FQVQxLFxuICBbUkhJTk9fQUNUSU9OUy5TV0FMTE9XX1NLSUVSXTogUkhJTk9fTElGVF9FQVQyLFxuICBbUkhJTk9fQUNUSU9OUy5FTkRdOiBSSElOT19MSUZUX0VBVDMsXG59O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUludChtaW46bnVtYmVyLCBtYXg6bnVtYmVyKSB7XG4gICAgbWluID0gTWF0aC5jZWlsKG1pbik7XG4gICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJzZWN0VHdvUmVjdHMocmVjdDE6YW55LCByZWN0MjphbnkpIHtcbiAgICByZXR1cm4gIShyZWN0Mi5sZWZ0ID4gcmVjdDEucmlnaHQgfHxcbiAgICAgICAgcmVjdDIucmlnaHQgPCByZWN0MS5sZWZ0IHx8XG4gICAgICAgIHJlY3QyLnRvcCA+IHJlY3QxLmJvdHRvbSB8fFxuICAgICAgICByZWN0Mi5ib3R0b20gPCByZWN0MS50b3ApO1xufVxuXG5leHBvcnQgY2xhc3MgUmVjdCB7XG4gICAgbGVmdCA9IDA7XG4gICAgdG9wID0gMDtcbiAgICByaWdodCA9IDA7XG4gICAgYm90dG9tID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKGxlZnQ6bnVtYmVyLCB0b3A6bnVtYmVyLCByaWdodDpudW1iZXIsIGJvdHRvbTpudW1iZXIpIHtcbiAgICAgICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XG4gICAgICAgIHRoaXMucmlnaHQgPSByaWdodDtcbiAgICAgICAgdGhpcy5ib3R0b20gPSBib3R0b207XG4gICAgfVxufSIsImltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi4vY29uc3RhbnRzL2NvbnN0c1wiO1xuaW1wb3J0IEVudGl0eSAgZnJvbSBcIi4uL21vZGVscy9lbnRpdHlcIjtcbmltcG9ydCB7IHJhbmRvbUludCB9IGZyb20gXCIuLi91dGlsaXRpZXMvdXRpbHNcIjtcblxuY29uc3QgYXNzZXRUeXBlcyA9IFtcbiAgQ29uc3RhbnRzLlRSRUUsXG4gIENvbnN0YW50cy5UUkVFX0NMVVNURVIsXG4gIENvbnN0YW50cy5ST0NLMSxcbiAgQ29uc3RhbnRzLlJPQ0syLFxuICBDb25zdGFudHMuSlVNUF9SQU1QLFxuXTtcblxuZXhwb3J0IGNsYXNzIE9ic3RhY2xlIGV4dGVuZHMgRW50aXR5IHtcbiAgY29uc3RydWN0b3IoeDpudW1iZXIsIHk6bnVtYmVyKSB7XG4gICAgc3VwZXIoeCwgeSk7XG5cbiAgICBjb25zdCBhc3NldElkeCA9IHJhbmRvbUludCgwLCBhc3NldFR5cGVzLmxlbmd0aCAtIDEpO1xuICAgIHRoaXMuYXNzZXROYW1lID0gYXNzZXRUeXBlc1thc3NldElkeF07XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eSB7XG4gIHggPSAwO1xuICB5ID0gMDtcblxuICBhc3NldE5hbWUgPSBcIlwiO1xuXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTpudW1iZXIpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cblxuICBnZXRBc3NldE5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNzZXROYW1lO1xuICB9XG5cbiAgZ2V0UG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHRoaXMueCxcbiAgICAgIHk6IHRoaXMueSxcbiAgICB9O1xuICB9XG5cbiAgZHJhdyhjYW52YXM6YW55LCBhc3NldE1hbmFnZXI6YW55KSB7XG4gICAgY29uc3QgYXNzZXQgPSBhc3NldE1hbmFnZXIuZ2V0QXNzZXQodGhpcy5hc3NldE5hbWUpO1xuICAgIGNvbnN0IGRyYXdYID0gdGhpcy54IC0gYXNzZXQud2lkdGggLyAyO1xuICAgIGNvbnN0IGRyYXdZID0gdGhpcy55IC0gYXNzZXQuaGVpZ2h0IC8gMjtcblxuICAgIGNhbnZhcy5kcmF3SW1hZ2UoYXNzZXQsIGRyYXdYLCBkcmF3WSwgYXNzZXQud2lkdGgsIGFzc2V0LmhlaWdodCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tICcuLi9jb25zdGFudHMvY29uc3RzJztcbmltcG9ydCB7IHJhbmRvbUludCB9IGZyb20gJy4uL3V0aWxpdGllcy91dGlscyc7XG5pbXBvcnQgeyBPYnN0YWNsZSB9IGZyb20gXCIuLi9tb2RlbHMvb2JzdGFjbGVcIjtcbmltcG9ydCB7IFNlcnZpY2UgfSBmcm9tICd0eXBlZGknO1xuaW1wb3J0IENhbnZhcyBmcm9tICcuLi9sb2FkZXJzL2NhbnZhcyc7XG5pbXBvcnQgQXNzZXRNYW5hZ2VyIGZyb20gJy4uL2xvYWRlcnMvYXNzZXRNYW5hZ2VyJztcblxuY29uc3QgRElTVEFOQ0VfQkVUV0VFTl9PQlNUQUNMRVMgPSA1MDtcbmNvbnN0IFNUQVJUSU5HX09CU1RBQ0xFX0dBUCA9IDEwMDtcbmNvbnN0IFNUQVJUSU5HX09CU1RBQ0xFX1JFRFVDRVIgPSAzMDA7XG5jb25zdCBORVdfT0JTVEFDTEVfQ0hBTkNFID0gODtcblxuQFNlcnZpY2UoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JzdGFjbGVNYW5hZ2VyIHtcbiAgb2JzdGFjbGVzOmFueSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuXG4gIHJlc3RhcnRPYnN0YWNsZSgpe1xuICAgIHRoaXMub2JzdGFjbGVzID0gW107XG4gIH1cbiAgZ2V0T2JzdGFjbGVzKCkge1xuICAgIHJldHVybiB0aGlzLm9ic3RhY2xlcztcbiAgfVxuXG4gIGRyYXdPYnN0YWNsZXMoY2FudmFzOkNhbnZhcywgYXNzZXRNYW5hZ2VyOkFzc2V0TWFuYWdlcikge1xuICAgIHRoaXMub2JzdGFjbGVzLmZvckVhY2goKG9ic3RhY2xlKSA9PiB7XG4gICAgICBvYnN0YWNsZS5kcmF3KGNhbnZhcywgYXNzZXRNYW5hZ2VyKTtcbiAgICB9KTtcbiAgfVxuXG4gIHBsYWNlSW5pdGlhbE9ic3RhY2xlcygpIHtcbiAgICBjb25zdCBudW1iZXJPYnN0YWNsZXMgPSBNYXRoLmNlaWwoXG4gICAgICAoQ29uc3RhbnRzLkdBTUVfV0lEVEggLyBTVEFSVElOR19PQlNUQUNMRV9SRURVQ0VSKSAqXG4gICAgICAgIChDb25zdGFudHMuR0FNRV9IRUlHSFQgLyBTVEFSVElOR19PQlNUQUNMRV9SRURVQ0VSKVxuICAgICk7XG5cbiAgICBjb25zdCBtaW5YID0gLUNvbnN0YW50cy5HQU1FX1dJRFRIIC8gMjtcbiAgICBjb25zdCBtYXhYID0gQ29uc3RhbnRzLkdBTUVfV0lEVEggLyAyO1xuICAgIGNvbnN0IG1pblkgPSBTVEFSVElOR19PQlNUQUNMRV9HQVA7XG4gICAgY29uc3QgbWF4WSA9IENvbnN0YW50cy5HQU1FX0hFSUdIVCAvIDI7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bWJlck9ic3RhY2xlczsgaSsrKSB7XG4gICAgICB0aGlzLnBsYWNlUmFuZG9tT2JzdGFjbGUobWluWCwgbWF4WCwgbWluWSwgbWF4WSk7XG4gICAgfVxuXG4gICAgdGhpcy5vYnN0YWNsZXMuc29ydCgob2JzdGFjbGUxLCBvYnN0YWNsZTIpID0+IHtcbiAgICAgIHJldHVybiBvYnN0YWNsZTEuZ2V0UG9zaXRpb24oKS55IC0gb2JzdGFjbGUyLmdldFBvc2l0aW9uKCkueTtcbiAgICB9KTtcbiAgfVxuXG4gIHBsYWNlTmV3T2JzdGFjbGUoZ2FtZVdpbmRvdzphbnksIHByZXZpb3VzR2FtZVdpbmRvdzphbnkpIHtcbiAgICBjb25zdCBzaG91bGRQbGFjZU9ic3RhY2xlID0gcmFuZG9tSW50KDEsIE5FV19PQlNUQUNMRV9DSEFOQ0UpO1xuICAgIGlmIChzaG91bGRQbGFjZU9ic3RhY2xlICE9PSBORVdfT0JTVEFDTEVfQ0hBTkNFKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGdhbWVXaW5kb3cubGVmdCA8IHByZXZpb3VzR2FtZVdpbmRvdy5sZWZ0KSB7XG4gICAgICB0aGlzLnBsYWNlT2JzdGFjbGVMZWZ0KGdhbWVXaW5kb3cpO1xuICAgIH0gZWxzZSBpZiAoZ2FtZVdpbmRvdy5sZWZ0ID4gcHJldmlvdXNHYW1lV2luZG93LmxlZnQpIHtcbiAgICAgIHRoaXMucGxhY2VPYnN0YWNsZVJpZ2h0KGdhbWVXaW5kb3cpO1xuICAgIH1cblxuICAgIGlmIChnYW1lV2luZG93LnRvcCA8IHByZXZpb3VzR2FtZVdpbmRvdy50b3ApIHtcbiAgICAgIHRoaXMucGxhY2VPYnN0YWNsZVRvcChnYW1lV2luZG93KTtcbiAgICB9IGVsc2UgaWYgKGdhbWVXaW5kb3cudG9wID4gcHJldmlvdXNHYW1lV2luZG93LnRvcCkge1xuICAgICAgdGhpcy5wbGFjZU9ic3RhY2xlQm90dG9tKGdhbWVXaW5kb3cpO1xuICAgIH1cbiAgfVxuXG4gIHBsYWNlT2JzdGFjbGVMZWZ0KGdhbWVXaW5kb3c6YW55KSB7XG4gICAgdGhpcy5wbGFjZVJhbmRvbU9ic3RhY2xlKFxuICAgICAgZ2FtZVdpbmRvdy5sZWZ0LFxuICAgICAgZ2FtZVdpbmRvdy5sZWZ0LFxuICAgICAgZ2FtZVdpbmRvdy50b3AsXG4gICAgICBnYW1lV2luZG93LmJvdHRvbVxuICAgICk7XG4gIH1cblxuICBwbGFjZU9ic3RhY2xlUmlnaHQoZ2FtZVdpbmRvdzphbnkpIHtcbiAgICB0aGlzLnBsYWNlUmFuZG9tT2JzdGFjbGUoXG4gICAgICBnYW1lV2luZG93LnJpZ2h0LFxuICAgICAgZ2FtZVdpbmRvdy5yaWdodCxcbiAgICAgIGdhbWVXaW5kb3cudG9wLFxuICAgICAgZ2FtZVdpbmRvdy5ib3R0b21cbiAgICApO1xuICB9XG5cbiAgcGxhY2VPYnN0YWNsZVRvcChnYW1lV2luZG93OmFueSkge1xuICAgIHRoaXMucGxhY2VSYW5kb21PYnN0YWNsZShcbiAgICAgIGdhbWVXaW5kb3cubGVmdCxcbiAgICAgIGdhbWVXaW5kb3cucmlnaHQsXG4gICAgICBnYW1lV2luZG93LnRvcCxcbiAgICAgIGdhbWVXaW5kb3cudG9wXG4gICAgKTtcbiAgfVxuXG4gIHBsYWNlT2JzdGFjbGVCb3R0b20oZ2FtZVdpbmRvdzphbnkpIHtcbiAgICB0aGlzLnBsYWNlUmFuZG9tT2JzdGFjbGUoXG4gICAgICBnYW1lV2luZG93LmxlZnQsXG4gICAgICBnYW1lV2luZG93LnJpZ2h0LFxuICAgICAgZ2FtZVdpbmRvdy5ib3R0b20sXG4gICAgICBnYW1lV2luZG93LmJvdHRvbVxuICAgICk7XG4gIH1cblxuICBwbGFjZVJhbmRvbU9ic3RhY2xlKG1pblg6IG51bWJlciwgbWF4WDogbnVtYmVyLCBtaW5ZOiBudW1iZXIsIG1heFk6IG51bWJlcikge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5jYWxjdWxhdGVPcGVuUG9zaXRpb24obWluWCwgbWF4WCwgbWluWSwgbWF4WSk7XG4gICAgY29uc3QgbmV3T2JzdGFjbGUgPSBuZXcgT2JzdGFjbGUocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG5cbiAgICB0aGlzLm9ic3RhY2xlcy5wdXNoKG5ld09ic3RhY2xlKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZU9wZW5Qb3NpdGlvbihcbiAgICBtaW5YOiBudW1iZXIsXG4gICAgbWF4WDogbnVtYmVyLFxuICAgIG1pblk6IG51bWJlcixcbiAgICBtYXhZOiBudW1iZXJcbiAgKSB7XG4gICAgY29uc3QgeCA9IHJhbmRvbUludChtaW5YLCBtYXhYKTtcbiAgICBjb25zdCB5ID0gcmFuZG9tSW50KG1pblksIG1heFkpO1xuXG4gICAgY29uc3QgZm91bmRDb2xsaXNpb24gPSB0aGlzLm9ic3RhY2xlcy5maW5kKChvYnN0YWNsZSkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgeCA+IG9ic3RhY2xlLnggLSBESVNUQU5DRV9CRVRXRUVOX09CU1RBQ0xFUyAmJlxuICAgICAgICB4IDwgb2JzdGFjbGUueCArIERJU1RBTkNFX0JFVFdFRU5fT0JTVEFDTEVTICYmXG4gICAgICAgIHkgPiBvYnN0YWNsZS55IC0gRElTVEFOQ0VfQkVUV0VFTl9PQlNUQUNMRVMgJiZcbiAgICAgICAgeSA8IG9ic3RhY2xlLnkgKyBESVNUQU5DRV9CRVRXRUVOX09CU1RBQ0xFU1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGlmIChmb3VuZENvbGxpc2lvbikge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlT3BlblBvc2l0aW9uKG1pblgsIG1heFgsIG1pblksIG1heFkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiB4LFxuICAgICAgICB5OiB5LFxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgeyBTZXJ2aWNlIH0gZnJvbSBcInR5cGVkaVwiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuLi9jb25zdGFudHMvY29uc3RzXCJcblxuQFNlcnZpY2UoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzIHtcbiAgeDogbnVtYmVyID0gMDtcbiAgeTogbnVtYmVyID0gMDtcbiAgd2lkdGg6IG51bWJlciA9IDA7XG4gIGhlaWdodDogbnVtYmVyID0gMDtcbiAgZHJhd09mZnNldDogYW55ID0ge1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgfTtcbiAgY3R4OiBhbnkgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5jcmVhdGVDYW52YXMoKTtcbiAgfVxuXG4gIHJlc3RhcnRDYW52YXMoKXtcbiAgICB0aGlzLnggPSAwO1xuICAgIHRoaXMueSA9IDA7XG4gICAgdGhpcy53aWR0aCA9IDA7XG4gICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgIHRoaXMuZHJhd09mZnNldCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgIH07XG4gICAgdGhpcy5jdHggPSBudWxsO1xuICAgIHRoaXMud2lkdGggPSBDb25zdGFudHMuR0FNRV9XSURUSDtcbiAgICB0aGlzLmhlaWdodCAgPSBDb25zdGFudHMuR0FNRV9IRUlHSFQ7XG4gIH1cblxuICBjcmVhdGVDYW52YXMoKSB7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICBjYW52YXMuaWQgPSBcInNraUNhbnZhc1wiO1xuICAgIGNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGggKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICBjYW52YXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICBjYW52YXMuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgXCJweFwiO1xuICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArIFwicHhcIjtcblxuICAgIHRoaXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICB0aGlzLmN0eC5zY2FsZSh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuICB9XG5cbiAgY2xlYXJDYW52YXMoKSB7XG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gIH1cblxuICBzZXREcmF3T2Zmc2V0KHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy5kcmF3T2Zmc2V0LnggPSB4O1xuICAgIHRoaXMuZHJhd09mZnNldC55ID0geTtcbiAgfVxuXG4gIGRyYXdJbWFnZShpbWFnZTogYW55LCB4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpIHtcbiAgICB4IC09IHRoaXMuZHJhd09mZnNldC54O1xuICAgIHkgLT0gdGhpcy5kcmF3T2Zmc2V0Lnk7XG5cbiAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoaW1hZ2UsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgZHJhd1RleHQoZm9udDogc3RyaW5nLCBjb2xvcjogc3RyaW5nLCB0ZXh0OiBzdHJpbmcsIHg6bnVtYmVyLCB5Om51bWJlcil7XG4gICAgdGhpcy5jdHguZm9udCA9IGZvbnQ7XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgdGhpcy5jdHguZmlsbFRleHQodGV4dCwgeCx5KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU2VydmljZSB9IGZyb20gXCJ0eXBlZGlcIjtcblxuQFNlcnZpY2UoKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50aXR5IHtcbiAgeCA9IDA7XG4gIHkgPSAwO1xuXG4gIGFzc2V0TmFtZSA9IFwiXCI7XG5cbiAgY29uc3RydWN0b3IoeDpudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgfVxuXG4gIGdldEFzc2V0TmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5hc3NldE5hbWU7XG4gIH1cblxuICBnZXRQb3NpdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogdGhpcy54LFxuICAgICAgeTogdGhpcy55LFxuICAgIH07XG4gIH1cblxuICBkcmF3KGNhbnZhczogYW55LCBhc3NldE1hbmFnZXI6IGFueSkge1xuICAgIGNvbnN0IGFzc2V0ID0gYXNzZXRNYW5hZ2VyLmdldEFzc2V0KHRoaXMuYXNzZXROYW1lKTtcbiAgICBjb25zdCBkcmF3WCA9IHRoaXMueCAtIGFzc2V0LndpZHRoIC8gMjtcbiAgICBjb25zdCBkcmF3WSA9IHRoaXMueSAtIGFzc2V0LmhlaWdodCAvIDI7XG5cbiAgICBjYW52YXMuZHJhd0ltYWdlKGFzc2V0LCBkcmF3WCwgZHJhd1ksIGFzc2V0LndpZHRoLCBhc3NldC5oZWlnaHQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBTZXJ2aWNlIH0gZnJvbSBcInR5cGVkaVwiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuLi9jb25zdGFudHMvY29uc3RzXCI7XG5pbXBvcnQgIEVudGl0eSAgZnJvbSBcIi4uL2xvYWRlcnMvZW50aXR5XCI7XG5pbXBvcnQgeyBpbnRlcnNlY3RUd29SZWN0cywgUmVjdCB9IGZyb20gXCIuLi91dGlsaXRpZXMvdXRpbHNcIjtcbmltcG9ydCBPYnN0YWNsZVNlcnZpY2UgZnJvbSBcIi4uL3NlcnZpY2VzL29ic3RhY2xlU2VydmljZVwiXG5pbXBvcnQgQXNzZXRNYW5hZ2VyIGZyb20gXCIuLi9sb2FkZXJzL2Fzc2V0TWFuYWdlclwiO1xuXG5AU2VydmljZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTa2llciBleHRlbmRzIEVudGl0eSB7XG4gIGFzc2V0TmFtZTogc3RyaW5nID0gQ29uc3RhbnRzLlNLSUVSX0RPV047XG4gIGlzUGF1c2VkOiBib29sZWFuID0gZmFsc2U7XG4gIGRpcmVjdGlvbjogbnVtYmVyID0gQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuRE9XTjtcbiAgbGFzdERpcmVjdGlvbjogbnVtYmVyID0gdGhpcy5kaXJlY3Rpb247XG4gIHNwZWVkOiBudW1iZXIgPSBDb25zdGFudHMuU0tJRVJfU1RBUlRJTkdfU1BFRUQ7XG4gIGlzQ3Jhc2hlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHN1cGVyKHgsIHkpO1xuICB9XG5cbiAgcmVzdGFydFNraWVyKCkge1xuICAgIHRoaXMuYXNzZXROYW1lID0gQ29uc3RhbnRzLlNLSUVSX0RPV047XG4gICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuRE9XTjtcbiAgICB0aGlzLmxhc3REaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjtcbiAgICB0aGlzLnNwZWVkID0gQ29uc3RhbnRzLlNLSUVSX1NUQVJUSU5HX1NQRUVEO1xuICAgIHRoaXMueCA9IDA7XG4gICAgdGhpcy55ID0gMDtcbiAgfVxuXG4gIHNldERpcmVjdGlvbihkaXJlY3Rpb246IG51bWJlcikge1xuICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgIHRoaXMudXBkYXRlQXNzZXQoKTtcbiAgfVxuXG4gIHNldExhc3REaXJlY3Rpb24oZGlyZWN0aW9uOiBudW1iZXIpIHtcbiAgICB0aGlzLmxhc3REaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gIH1cbiAgdXBkYXRlQXNzZXQoKSB7XG4gICAgdGhpcy5hc3NldE5hbWUgPSBDb25zdGFudHMuU0tJRVJfRElSRUNUSU9OX0FTU0VUW3RoaXMuZGlyZWN0aW9uXTtcbiAgfVxuXG4gIG1vdmUoKSB7XG4gICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xuICAgICAgY2FzZSBDb25zdGFudHMuU0tJRVJfRElSRUNUSU9OUy5MRUZUX0RPV046XG4gICAgICAgIHRoaXMubW92ZVNraWVyTGVmdERvd24oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLkRPV046XG4gICAgICAgIHRoaXMubW92ZVNraWVyRG93bigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuUklHSFRfRE9XTjpcbiAgICAgICAgdGhpcy5tb3ZlU2tpZXJSaWdodERvd24oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLkxFRlQ6XG4gICAgICAgIHRoaXMubW92ZVNraWVyTGVmdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuUklHSFQ6XG4gICAgICAgIHRoaXMubW92ZVNraWVyUmlnaHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLlVQOlxuICAgICAgICB0aGlzLm1vdmVTa2llclVwKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIG1vdmVTa2llckxlZnQoKSB7XG4gICAgdGhpcy54IC09IENvbnN0YW50cy5TS0lFUl9TVEFSVElOR19TUEVFRDtcbiAgfVxuXG4gIG1vdmVTa2llckxlZnREb3duKCkge1xuICAgIHRoaXMueCAtPSB0aGlzLnNwZWVkIC8gQ29uc3RhbnRzLlNLSUVSX0RJQUdPTkFMX1NQRUVEX1JFRFVDRVI7XG4gICAgdGhpcy55ICs9IHRoaXMuc3BlZWQgLyBDb25zdGFudHMuU0tJRVJfRElBR09OQUxfU1BFRURfUkVEVUNFUjtcbiAgfVxuXG4gIG1vdmVTa2llckRvd24oKSB7XG4gICAgdGhpcy55ICs9IHRoaXMuc3BlZWQ7XG4gIH1cblxuICBtb3ZlU2tpZXJSaWdodERvd24oKSB7XG4gICAgdGhpcy54ICs9IHRoaXMuc3BlZWQgLyBDb25zdGFudHMuU0tJRVJfRElBR09OQUxfU1BFRURfUkVEVUNFUjtcbiAgICB0aGlzLnkgKz0gdGhpcy5zcGVlZCAvIENvbnN0YW50cy5TS0lFUl9ESUFHT05BTF9TUEVFRF9SRURVQ0VSO1xuICB9XG5cbiAgbW92ZVNraWVyUmlnaHQoKSB7XG4gICAgdGhpcy54ICs9IENvbnN0YW50cy5TS0lFUl9TVEFSVElOR19TUEVFRDtcbiAgfVxuXG4gIG1vdmVTa2llclVwKCkge1xuICAgIHRoaXMueSArPSB0aGlzLnNwZWVkO1xuICB9XG5cbiAgdHVybkxlZnQoKSB7XG4gICAgdGhpcy5zZXREaXJlY3Rpb24oQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuTEVGVCk7XG4gICAgdGhpcy51cGRhdGVMYXN0RGlyZWN0aW9uKCk7XG4gICAgdGhpcy51cGRhdGVDcmFzaGVkU3RhdHVzKCk7XG4gIH1cblxuICB0dXJuUmlnaHQoKSB7XG4gICAgdGhpcy5zZXREaXJlY3Rpb24oQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuUklHSFQpO1xuICAgIHRoaXMudXBkYXRlTGFzdERpcmVjdGlvbigpO1xuICAgIHRoaXMudXBkYXRlQ3Jhc2hlZFN0YXR1cygpO1xuICB9XG5cbiAgdHVyblVwKCkge1xuICAgIHRoaXMuc2V0RGlyZWN0aW9uKENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLlVQKTtcbiAgICB0aGlzLnVwZGF0ZUxhc3REaXJlY3Rpb24oKTtcbiAgICB0aGlzLnVwZGF0ZUNyYXNoZWRTdGF0dXMoKTtcbiAgfVxuXG4gIHRvdWNoTW92ZW1lbnQoeDpudW1iZXIsIHk6bnVtYmVyKSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgdHVybkRvd24oKSB7XG4gICAgdGhpcy5zZXREaXJlY3Rpb24oQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuRE9XTik7XG4gICAgdGhpcy51cGRhdGVMYXN0RGlyZWN0aW9uKCk7XG4gICAgdGhpcy51cGRhdGVDcmFzaGVkU3RhdHVzKCk7XG4gIH1cblxuICB0dXJuTGVmdERvd24oKSB7XG4gICAgdGhpcy5zZXREaXJlY3Rpb24oQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuTEVGVF9ET1dOKTtcbiAgICB0aGlzLnVwZGF0ZUxhc3REaXJlY3Rpb24oKTtcbiAgICB0aGlzLnVwZGF0ZUNyYXNoZWRTdGF0dXMoKTtcbiAgfVxuICB0dXJuUmlnaHREb3duKCkge1xuICAgIHRoaXMuc2V0RGlyZWN0aW9uKENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLlJJR0hUX0RPV04pO1xuICAgIHRoaXMudXBkYXRlTGFzdERpcmVjdGlvbigpO1xuICAgIHRoaXMudXBkYXRlQ3Jhc2hlZFN0YXR1cygpO1xuICB9XG4gIHVwZGF0ZUNyYXNoZWRTdGF0dXMoKSB7XG4gICAgaWYgKHRoaXMuZGlyZWN0aW9uICE9IENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLkNSQVNIKSB7XG4gICAgICB0aGlzLmlzQ3Jhc2hlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIGlmICh0aGlzLmlzUGF1c2VkKSB7XG4gICAgICB0aGlzLnNldERpcmVjdGlvbih0aGlzLmxhc3REaXJlY3Rpb24pO1xuICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmlzUGF1c2VkID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2V0RGlyZWN0aW9uKENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLlBBVVNFKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVMYXN0RGlyZWN0aW9uKCkge1xuICAgIHRoaXMuc2V0TGFzdERpcmVjdGlvbih0aGlzLmRpcmVjdGlvbik7XG4gIH1cblxuICBzZXRTa2llckp1bXBPdmVyUm9jayhvYnN0YWNsZU5hbWU6IHN0cmluZykge1xuICAgIGlmIChcbiAgICAgIHRoaXMuZGlyZWN0aW9uID09PSBDb25zdGFudHMuU0tJRVJfRElSRUNUSU9OUy5VUCAmJlxuICAgICAgKG9ic3RhY2xlTmFtZSA9PT0gQ29uc3RhbnRzLlJPQ0sxIHx8IG9ic3RhY2xlTmFtZSA9PT0gQ29uc3RhbnRzLlJPQ0syKVxuICAgIClcbiAgICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgbWFrZVNraWVySnVtcElmSGl0UmFtcChvYnN0YWNsZU5hbWU6IHN0cmluZykge1xuICAgIGlmIChvYnN0YWNsZU5hbWUgPT09IENvbnN0YW50cy5KVU1QX1JBTVApIHtcbiAgICAgIHRoaXMudHVyblVwKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBDaGVja0lmU2tpZXJTaG91bGRKdW1wKG9ic3RhY2xlTmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuc2V0U2tpZXJKdW1wT3ZlclJvY2sob2JzdGFjbGVOYW1lKSB8fFxuICAgICAgdGhpcy5tYWtlU2tpZXJKdW1wSWZIaXRSYW1wKG9ic3RhY2xlTmFtZSlcbiAgICApO1xuICB9XG5cbiAgY2hlY2tJZlNraWVySGl0T2JzdGFjbGUoXG4gICAgb2JzdGFjbGVTZXJ2aWNlOiBPYnN0YWNsZVNlcnZpY2UsXG4gICAgYXNzZXRNYW5hZ2VyOiBBc3NldE1hbmFnZXJcbiAgKSB7XG4gICAgY29uc3QgYXNzZXQgPSBhc3NldE1hbmFnZXIuZ2V0QXNzZXQodGhpcy5hc3NldE5hbWUpO1xuICAgIGNvbnN0IHNraWVyQm91bmRzID0gbmV3IFJlY3QoXG4gICAgICB0aGlzLnggLSBhc3NldC53aWR0aCAvIDIsXG4gICAgICB0aGlzLnkgLSBhc3NldC5oZWlnaHQgLyAyLFxuICAgICAgdGhpcy54ICsgYXNzZXQud2lkdGggLyAyLFxuICAgICAgdGhpcy55IC0gYXNzZXQuaGVpZ2h0IC8gNFxuICAgICk7XG5cbiAgICBjb25zdCBjb2xsaXNpb24gPSBvYnN0YWNsZVNlcnZpY2UuZ2V0T2JzdGFjbGVzKCkuZmluZCgob2JzdGFjbGUpID0+IHtcbiAgICAgIGNvbnN0IG9ic3RhY2xlTmFtZSA9IG9ic3RhY2xlLmdldEFzc2V0TmFtZSgpO1xuICAgICAgY29uc3Qgb2JzdGFjbGVBc3NldCA9IGFzc2V0TWFuYWdlci5nZXRBc3NldChvYnN0YWNsZU5hbWUpO1xuICAgICAgY29uc3Qgb2JzdGFjbGVQb3NpdGlvbiA9IG9ic3RhY2xlLmdldFBvc2l0aW9uKCk7XG4gICAgICBjb25zdCBvYnN0YWNsZUJvdW5kcyA9IG5ldyBSZWN0KFxuICAgICAgICBvYnN0YWNsZVBvc2l0aW9uLnggLSBvYnN0YWNsZUFzc2V0LndpZHRoIC8gMixcbiAgICAgICAgb2JzdGFjbGVQb3NpdGlvbi55IC0gb2JzdGFjbGVBc3NldC5oZWlnaHQgLyAyLFxuICAgICAgICBvYnN0YWNsZVBvc2l0aW9uLnggKyBvYnN0YWNsZUFzc2V0LndpZHRoIC8gMixcbiAgICAgICAgb2JzdGFjbGVQb3NpdGlvbi55XG4gICAgICApO1xuICAgICAgY29uc3QgY2hlY2tJZlR3b1JlY3RzbnRlcnNlY3QgPSBpbnRlcnNlY3RUd29SZWN0cyhcbiAgICAgICAgc2tpZXJCb3VuZHMsXG4gICAgICAgIG9ic3RhY2xlQm91bmRzXG4gICAgICApO1xuXG4gICAgICBpZiAoY2hlY2tJZlR3b1JlY3RzbnRlcnNlY3QgJiYgdGhpcy5DaGVja0lmU2tpZXJTaG91bGRKdW1wKG9ic3RhY2xlTmFtZSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgcmV0dXJuIGNoZWNrSWZUd29SZWN0c250ZXJzZWN0O1xuICAgIH0pO1xuXG4gICAgaWYgKGNvbGxpc2lvbikge1xuICAgICAgdGhpcy5pc0NyYXNoZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zZXREaXJlY3Rpb24oQ29uc3RhbnRzLlNLSUVSX0RJUkVDVElPTlMuQ1JBU0gpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgU2VydmljZSB9IGZyb20gXCJ0eXBlZGlcIjtcbmltcG9ydCAqIGFzIENvbnN0YW50cyBmcm9tIFwiLi4vY29uc3RhbnRzL2NvbnN0c1wiO1xuaW1wb3J0IEFzc2V0TWFuYWdlciBmcm9tIFwiLi4vbG9hZGVycy9hc3NldE1hbmFnZXJcIjtcbmltcG9ydCBDYW52YXMgZnJvbSBcIi4uL2xvYWRlcnMvY2FudmFzXCI7XG5pbXBvcnQgRW50aXR5ICBmcm9tIFwiLi4vbG9hZGVycy9lbnRpdHlcIjtcbmltcG9ydCB7IGludGVyc2VjdFR3b1JlY3RzLCBSZWN0IH0gZnJvbSBcIi4uL3V0aWxpdGllcy91dGlsc1wiO1xuaW1wb3J0IFNraWVyIGZyb20gXCIuL3NraWVyU2VydmljZVwiO1xuaW1wb3J0IFNvdW5kIGZyb20gXCIuL3NvdW5kU2VydmljZVwiO1xuXG5jb25zdCBSSElOT19TS0lFUl9TVEFSVElOR19ESVNUQU5DRSA9IDMwMDA7XG5jb25zdCBBQ1RJT05fRFVSQVRJT04gPSA3MDA7XG5cbkBTZXJ2aWNlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJoaW5vIGV4dGVuZHMgRW50aXR5IHtcbiAgYXNzZXROYW1lID0gQ29uc3RhbnRzLlJISU5PX1JVTl9MRUZUO1xuICBhY3Rpb24gPSBDb25zdGFudHMuUkhJTk9fQUNUSU9OUy5DSEFTRV9TS0lFUjtcblxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIHN1cGVyKHgsIHkpO1xuICB9XG5cbiAgcmVzdGFydFJoaW5vKCl7XG4gICAgICAgIHRoaXMuYXNzZXROYW1lID0gQ29uc3RhbnRzLlJISU5PX1JVTl9MRUZUO1xuICAgICAgICB0aGlzLmFjdGlvbiA9IENvbnN0YW50cy5SSElOT19BQ1RJT05TLkNIQVNFX1NLSUVSO1xuICAgICAgICB0aGlzLnggPSAwO1xuICAgICAgICB0aGlzLnkgPSAwO1xuXG4gIH07XG5cbiAgZHJhd1JoaW5vKGNhbnZhczogQ2FudmFzLCBhc3NldE1hbmFnZXI6IEFzc2V0TWFuYWdlcikge1xuICAgIGlmICh0aGlzLnkgPj0gUkhJTk9fU0tJRVJfU1RBUlRJTkdfRElTVEFOQ0UpIHtcbiAgICAgIHRoaXMuZHJhdyhjYW52YXMsIGFzc2V0TWFuYWdlcik7XG4gICAgfVxuICB9XG5cbiAgbW92ZShza2llcjogU2tpZXIpIHtcbiAgICBpZiAoXG4gICAgICBza2llci55ID49IFJISU5PX1NLSUVSX1NUQVJUSU5HX0RJU1RBTkNFICYmXG4gICAgICB0aGlzLmFjdGlvbiA9PT0gQ29uc3RhbnRzLlJISU5PX0FDVElPTlMuQ0hBU0VfU0tJRVJcbiAgICApIHtcbiAgICAgIHRoaXMueSA9IHNraWVyLnk7XG4gICAgICBzd2l0Y2ggKHNraWVyLmRpcmVjdGlvbikge1xuICAgICAgICBjYXNlIENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLkRPV046XG4gICAgICAgICAgdGhpcy5tb3ZlRG93bihza2llci55KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb25zdGFudHMuU0tJRVJfRElSRUNUSU9OUy5MRUZUOlxuICAgICAgICAgIHRoaXMubW92ZUxlZnQoc2tpZXIuc3BlZWQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLlJJR0hUOlxuICAgICAgICAgIHRoaXMubW92ZVJpZ2h0KHNraWVyLnNwZWVkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb25zdGFudHMuU0tJRVJfRElSRUNUSU9OUy5VUDpcbiAgICAgICAgICB0aGlzLm1vdmVVcChza2llci55KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb25zdGFudHMuU0tJRVJfRElSRUNUSU9OUy5DUkFTSDpcbiAgICAgICAgICB0aGlzLm1vdmVEb3duKHNraWVyLnkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1vdmVMZWZ0KHNraWVyX3NwZWVkOiBudW1iZXIpIHtcbiAgICB0aGlzLnggKz0gc2tpZXJfc3BlZWQ7XG4gIH1cblxuICBtb3ZlUmlnaHQoc2tpZXJfc3BlZWQ6IG51bWJlcikge1xuICAgIHRoaXMueCArPSBza2llcl9zcGVlZCAqIDI7XG4gIH1cblxuICBtb3ZlVXAoc2tpZXJfcG9zaXRpb25feDogbnVtYmVyKSB7XG4gICAgdGhpcy54ID0gc2tpZXJfcG9zaXRpb25feCAtIFJISU5PX1NLSUVSX1NUQVJUSU5HX0RJU1RBTkNFICogMjtcbiAgfVxuXG4gIG1vdmVEb3duKHNraWVyX3Bvc2l0aW9uX3k6IG51bWJlcikge1xuICAgIHRoaXMueCA9IHNraWVyX3Bvc2l0aW9uX3kgLSBSSElOT19TS0lFUl9TVEFSVElOR19ESVNUQU5DRSAqIDI7XG4gIH1cblxuICBlbmRJZlJoaW5vQ2F0Y2hTa2llcihhc3NldE1hbmFnZXI6IEFzc2V0TWFuYWdlciwgc2tpZXI6IFNraWVyLCBzb3VuZDogU291bmQsYmtNdXNpYzogU291bmQpIHtcbiAgICBpZiAodGhpcy5hY3Rpb24gPT09IENvbnN0YW50cy5SSElOT19BQ1RJT05TLkNIQVNFX1NLSUVSKSB7XG4gICAgICBjb25zdCBhc3NldCA9IGFzc2V0TWFuYWdlci5nZXRBc3NldCh0aGlzLmFzc2V0TmFtZSk7XG4gICAgICBjb25zdCBSaGlub0JvdW5kcyA9IG5ldyBSZWN0KFxuICAgICAgICB0aGlzLnggLSBhc3NldC53aWR0aCAvIDIsXG4gICAgICAgIHRoaXMueSAtIGFzc2V0LmhlaWdodCAvIDIsXG4gICAgICAgIHRoaXMueCArIGFzc2V0LndpZHRoIC8gMixcbiAgICAgICAgdGhpcy55IC0gYXNzZXQuaGVpZ2h0IC8gNFxuICAgICAgKTtcblxuICAgICAgY29uc3QgU2tpZXJBc3NldCA9IGFzc2V0TWFuYWdlci5nZXRBc3NldChza2llci5hc3NldE5hbWUpO1xuICAgICAgY29uc3QgU2tpZXJCb3VuZHMgPSBuZXcgUmVjdChcbiAgICAgICAgc2tpZXIueCAtIFNraWVyQXNzZXQud2lkdGggLyAyLFxuICAgICAgICBza2llci55IC0gU2tpZXJBc3NldC5oZWlnaHQgLyAyLFxuICAgICAgICBza2llci54ICsgU2tpZXJBc3NldC53aWR0aCAvIDIsXG4gICAgICAgIHNraWVyLnkgLSBTa2llckFzc2V0LmhlaWdodCAvIDRcbiAgICAgICk7XG4gICAgICBjb25zdCBjb2xsaXNpb24gPSBpbnRlcnNlY3RUd29SZWN0cyhSaGlub0JvdW5kcywgU2tpZXJCb3VuZHMpO1xuXG4gICAgICBpZiAoY29sbGlzaW9uKSB7XG4gICAgICAgIGJrTXVzaWMuc3RvcCgpO1xuICAgICAgICBzb3VuZC5wbGF5KCk7XG4gICAgICAgIHRoaXMucmVtb3ZlU2tpZXIoc2tpZXIpO1xuICAgICAgICB0aGlzLnNldEFjdGlvbihDb25zdGFudHMuUkhJTk9fQUNUSU9OUy5MSUZUX1NLSUVSKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW1vdmVTa2llcihza2llcjogU2tpZXIpIHtcbiAgICBza2llci5pc0NyYXNoZWQgPSB0cnVlO1xuICAgIHNraWVyLmRpcmVjdGlvbiA9IENvbnN0YW50cy5TS0lFUl9ESVJFQ1RJT05TLktJTEw7XG4gICAgc2tpZXIueSA9IHRoaXMueTtcbiAgICBza2llci54ID0gdGhpcy54O1xuICAgIHNraWVyLmFzc2V0TmFtZSA9IENvbnN0YW50cy5LSUxMX1NLSUVSO1xuICB9XG5cbiAgc2V0QWN0aW9uKGFjdGlvbjogbnVtYmVyKSB7XG4gICAgdGhpcy5hY3Rpb24gPSBhY3Rpb247XG4gICAgdGhpcy51cGRhdGVBc3NldCgpO1xuICB9XG5cbiAgdXBkYXRlQXNzZXQoKSB7XG4gICAgdGhpcy5hc3NldE5hbWUgPSBDb25zdGFudHMuUkhJTk9fQUNUSU9OX0FTU0VUW3RoaXMuYWN0aW9uXTtcbiAgfVxuXG4gIHVwZGF0ZUFjdGlvbihza2llcjogU2tpZXIpIHtcbiAgICBpZiAodGhpcy5hY3Rpb24pIHtcbiAgICAgIHRoaXMucmVtb3ZlU2tpZXIoc2tpZXIpO1xuICAgICAgc3dpdGNoICh0aGlzLmFjdGlvbikge1xuICAgICAgICBjYXNlIENvbnN0YW50cy5SSElOT19BQ1RJT05TLkxJRlRfU0tJRVI6XG4gICAgICAgICAgdGhpcy5jaGFuZ2VBY3Rpb24oQ29uc3RhbnRzLlJISU5PX0FDVElPTlMuTElGVF9NT1VUSF9PUEVOX1NLSUVSKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb25zdGFudHMuUkhJTk9fQUNUSU9OUy5MSUZUX01PVVRIX09QRU5fU0tJRVI6XG4gICAgICAgICAgdGhpcy5jaGFuZ2VBY3Rpb24oQ29uc3RhbnRzLlJISU5PX0FDVElPTlMuQ0hFV19TS0lFUik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ29uc3RhbnRzLlJISU5PX0FDVElPTlMuQ0hFV19TS0lFUjpcbiAgICAgICAgICB0aGlzLmNoYW5nZUFjdGlvbihDb25zdGFudHMuUkhJTk9fQUNUSU9OUy5TV0FMTE9XX1NLSUVSKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb25zdGFudHMuUkhJTk9fQUNUSU9OUy5TV0FMTE9XX1NLSUVSOlxuICAgICAgICAgIHRoaXMuY2hhbmdlQWN0aW9uKENvbnN0YW50cy5SSElOT19BQ1RJT05TLkVORCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlQWN0aW9uKHJoaW5vQWN0aW9uOiBudW1iZXIpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0QWN0aW9uKHJoaW5vQWN0aW9uKTtcbiAgICB9LCBBQ1RJT05fRFVSQVRJT04pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBTZXJ2aWNlIH0gZnJvbSBcInR5cGVkaVwiO1xuaW1wb3J0IEFzc2V0TWFuYWdlciBmcm9tIFwiLi4vbG9hZGVycy9hc3NldE1hbmFnZXJcIjtcbmltcG9ydCBDYW52YXMgZnJvbSBcIi4uL2xvYWRlcnMvY2FudmFzXCI7XG5pbXBvcnQgU2tpZXIgZnJvbSBcIi4vc2tpZXJTZXJ2aWNlXCI7XG5cbkBTZXJ2aWNlKClcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjb3JlU2VydmljZSB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICBzY29yZTogbnVtYmVyID0gMDtcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gIH1cbiAgcmVzZXRTY29yZSgpe1xuICAgICAgdGhpcy5zY29yZSA9IDA7XG4gICAgICB0aGlzLnggPSAwO1xuICAgICAgdGhpcy55ID0gMDtcbiAgfVxuXG4gIHVwZGF0ZVNjb3JlKHNraWVyOlNraWVyKXtcbiAgICAgIGlmKCFza2llci5pc1BhdXNlZCAmJiAhc2tpZXIuaXNDcmFzaGVkKXtcbiAgICAgICAgIHRoaXMuc2NvcmUgKz0gMTtcbiAgICAgIH1cbiAgfVxuXG4gIGRyYXdTY29yZShjYW52YXM6IENhbnZhcykge1xuICAgIGNhbnZhcy5kcmF3VGV4dChcIjMwcHggQ29uc29sYXNcIiwgXCJSZWRcIiwgYFNjb3JlOiAke3RoaXMuc2NvcmV9YCwgMTAwLCA0MCk7XG4gIH1cbn0iLCJpbXBvcnQgeyBTZXJ2aWNlIH0gZnJvbSBcInR5cGVkaVwiO1xuXG5AU2VydmljZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb3VuZCB7XG4gIHByaXZhdGUgc291bmQ7XG4gIGNvbnN0cnVjdG9yKHNyYzogc3RyaW5nKSB7XG4gICAgdGhpcy5zb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtcbiAgICB0aGlzLnNvdW5kLnNyYyA9IHNyYztcbiAgICB0aGlzLnNvdW5kLnNldEF0dHJpYnV0ZShcInByZWxvYWRcIiwgXCJhdXRvXCIpO1xuICAgIHRoaXMuc291bmQuc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIiwgXCJub25lXCIpO1xuICAgIHRoaXMuc291bmQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5zb3VuZCk7XG4gIH1cblxuIFxuXG4gIHBsYXkoKSB7XG4gICAgdGhpcy5zb3VuZC5wbGF5KCk7XG4gIH1cbiAgc3RvcCgpIHtcbiAgICB0aGlzLnNvdW5kLnBhdXNlKCk7XG4gIH1cbn0iLCJpbXBvcnQgQXNzZXRNYW5hZ2VyIGZyb20gXCIuLi9sb2FkZXJzL2Fzc2V0TWFuYWdlclwiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuLi9jb25zdGFudHMvY29uc3RzXCI7XG5pbXBvcnQgT2JzdGFjbGVTZXJ2aWNlIGZyb20gXCIuLi9zZXJ2aWNlcy9vYnN0YWNsZVNlcnZpY2VcIjtcbmltcG9ydCBDYW52YXMgZnJvbSBcIi4uL2xvYWRlcnMvY2FudmFzXCI7XG5pbXBvcnQgU2tpZXIgZnJvbSBcIi4uL3NlcnZpY2VzL3NraWVyU2VydmljZVwiO1xuaW1wb3J0IHsgUmVjdCB9IGZyb20gXCIuLi91dGlsaXRpZXMvdXRpbHNcIjtcbmltcG9ydCBSaGlubyBmcm9tIFwiLi4vc2VydmljZXMvcmhpbm9TZXJ2aWNlXCI7XG5pbXBvcnQgeyBTZXJ2aWNlIH0gZnJvbSBcInR5cGVkaVwiO1xuaW1wb3J0IFNjb3JlIGZyb20gXCIuL3Njb3JlU2VydmljZVwiO1xuaW1wb3J0IFNvdW5kIGZyb20gXCIuL3NvdW5kU2VydmljZVwiO1xuXG5AU2VydmljZSgpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcbiAgZ2FtZVdpbmRvdzogUmVjdCA9IG5ldyBSZWN0KDAsIDAsIDAsIDApO1xuICBwcml2YXRlIGtleXM6IGFueSA9IFtdO1xuICBwcml2YXRlIGJrTXVzaWM6IGFueTtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhc3NldE1hbmFnZXI6IEFzc2V0TWFuYWdlcixcbiAgICBwcml2YXRlIG9ic3RhY2xlU2VydmljZTogT2JzdGFjbGVTZXJ2aWNlLFxuICAgIHByaXZhdGUgc2tpZXI6IFNraWVyLFxuICAgIHByaXZhdGUgY2FudmFzOiBDYW52YXMsXG4gICAgcHJpdmF0ZSByaGlubzogUmhpbm8sXG4gICAgcHJpdmF0ZSBzY29yZTogU2NvcmUsXG4gICAgcHJpdmF0ZSBzb3VuZDogU291bmRcbiAgKSB7XG4gICAgdGhpcy5za2llciA9IG5ldyBTa2llcigwLCAwKTtcbiAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXMoQ29uc3RhbnRzLkdBTUVfV0lEVEgsIENvbnN0YW50cy5HQU1FX0hFSUdIVCk7XG4gICAgdGhpcy5yaGlubyA9IG5ldyBSaGlubygwLCAwKTtcbiAgICB0aGlzLnNjb3JlID0gbmV3IFNjb3JlKDAsIDApO1xuICAgIHRoaXMuc291bmQgPSBuZXcgU291bmQoXCJwdWJsaWMvc291bmRzL2ZhaWxpbmcud2F2XCIpO1xuICAgIHRoaXMuYmtNdXNpYyA9IG5ldyBTb3VuZChcInB1YmxpYy9zb3VuZHMvYmFja2dyb3VuZC5tcDNcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVLZXlEb3duLmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5zdGFydEJhY2tHcm91bmRNdXNpYygpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLm9ic3RhY2xlU2VydmljZS5wbGFjZUluaXRpYWxPYnN0YWNsZXMoKTtcbiAgfVxuXG4gIGFzeW5jIGxvYWQoKSB7XG4gICAgYXdhaXQgdGhpcy5hc3NldE1hbmFnZXIubG9hZEFzc2V0cyhDb25zdGFudHMuQVNTRVRTKTtcbiAgfVxuXG4gIHJ1bigpIHtcbiAgICB0aGlzLmNhbnZhcy5jbGVhckNhbnZhcygpO1xuXG4gICAgdGhpcy51cGRhdGVHYW1lV2luZG93KCk7XG4gICAgdGhpcy5kcmF3R2FtZVdpbmRvdygpO1xuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucnVuLmJpbmQodGhpcykpO1xuICB9XG5cbiAgdXBkYXRlR2FtZVdpbmRvdygpIHtcbiAgICB0aGlzLnNraWVyLm1vdmUoKTtcbiAgICBjb25zdCBwcmV2aW91c0dhbWVXaW5kb3cgPSB0aGlzLmdhbWVXaW5kb3c7XG4gICAgdGhpcy5jYWxjdWxhdGVHYW1lV2luZG93KCk7XG5cbiAgICB0aGlzLm9ic3RhY2xlU2VydmljZS5wbGFjZU5ld09ic3RhY2xlKHRoaXMuZ2FtZVdpbmRvdywgcHJldmlvdXNHYW1lV2luZG93KTtcbiAgICB0aGlzLnNraWVyLmNoZWNrSWZTa2llckhpdE9ic3RhY2xlKHRoaXMub2JzdGFjbGVTZXJ2aWNlLCB0aGlzLmFzc2V0TWFuYWdlcik7XG4gICAgdGhpcy5zY29yZS51cGRhdGVTY29yZSh0aGlzLnNraWVyKTtcbiAgICB0aGlzLnJoaW5vLm1vdmUodGhpcy5za2llcik7XG4gICAgdGhpcy5yaGluby5lbmRJZlJoaW5vQ2F0Y2hTa2llcihcbiAgICAgIHRoaXMuYXNzZXRNYW5hZ2VyLFxuICAgICAgdGhpcy5za2llcixcbiAgICAgIHRoaXMuc291bmQsXG4gICAgICB0aGlzLmJrTXVzaWNcbiAgICApO1xuICAgIHRoaXMucmhpbm8udXBkYXRlQWN0aW9uKHRoaXMuc2tpZXIpO1xuICB9XG5cbiAgcmVzZXRHYW1lKCkge1xuICAgIHRoaXMuc2tpZXIucmVzdGFydFNraWVyKCk7XG4gICAgdGhpcy5yaGluby5yZXN0YXJ0Umhpbm8oKTtcbiAgICB0aGlzLm9ic3RhY2xlU2VydmljZS5yZXN0YXJ0T2JzdGFjbGUoKTtcbiAgICB0aGlzLnNjb3JlLnJlc2V0U2NvcmUoKTtcbiAgfVxuXG4gIGRyYXdHYW1lV2luZG93KCkge1xuICAgIHRoaXMuY2FudmFzLnNldERyYXdPZmZzZXQodGhpcy5nYW1lV2luZG93LmxlZnQsIHRoaXMuZ2FtZVdpbmRvdy50b3ApO1xuICAgIHRoaXMuc2NvcmUuZHJhd1Njb3JlKHRoaXMuY2FudmFzKTtcbiAgICB0aGlzLnNraWVyLmRyYXcodGhpcy5jYW52YXMsIHRoaXMuYXNzZXRNYW5hZ2VyKTtcbiAgICB0aGlzLm9ic3RhY2xlU2VydmljZS5kcmF3T2JzdGFjbGVzKHRoaXMuY2FudmFzLCB0aGlzLmFzc2V0TWFuYWdlcik7XG4gICAgdGhpcy5yaGluby5kcmF3Umhpbm8odGhpcy5jYW52YXMsIHRoaXMuYXNzZXRNYW5hZ2VyKTtcbiAgfVxuICBjYWxjdWxhdGVHYW1lV2luZG93KCkge1xuICAgIGNvbnN0IHNraWVyUG9zaXRpb24gPSB0aGlzLnNraWVyLmdldFBvc2l0aW9uKCk7XG4gICAgY29uc3QgbGVmdCA9IHNraWVyUG9zaXRpb24ueCAtIENvbnN0YW50cy5HQU1FX1dJRFRIIC8gMjtcbiAgICBjb25zdCB0b3AgPSBza2llclBvc2l0aW9uLnkgLSBDb25zdGFudHMuR0FNRV9IRUlHSFQgLyAyO1xuXG4gICAgdGhpcy5nYW1lV2luZG93ID0gbmV3IFJlY3QoXG4gICAgICBsZWZ0LFxuICAgICAgdG9wLFxuICAgICAgbGVmdCArIENvbnN0YW50cy5HQU1FX1dJRFRILFxuICAgICAgdG9wICsgQ29uc3RhbnRzLkdBTUVfSEVJR0hUXG4gICAgKTtcbiAgfVxuICBzdGFydEJhY2tHcm91bmRNdXNpYygpIHtcbiAgICB0aGlzLmJrTXVzaWMucGxheSgpO1xuICB9XG5cbiAgc3RvcEJhY2tHcm91bmRNdXNpYygpIHtcbiAgICB0aGlzLmJrTXVzaWMuc3RvcCgpO1xuICB9XG5cbiAgaGFuZGxlS2V5RG93bihldmVudDogYW55KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09IFwia2V5dXBcIikge1xuICAgICAgdGhpcy5rZXlzW2V2ZW50LndoaWNoXSA9IGV2ZW50LnR5cGUgPT0gXCJrZXlkb3duXCI7XG4gICAgfVxuICAgIGlmIChldmVudC50eXBlID09PSBcImtleWRvd25cIikge1xuICAgICAgdGhpcy5rZXlzID0gdGhpcy5rZXlzIHx8IFtdO1xuICAgICAgdGhpcy5rZXlzW2V2ZW50LndoaWNoXSA9IGV2ZW50LnR5cGUgPT0gXCJrZXlkb3duXCI7XG4gICAgfVxuICAgIGlmICh0aGlzLmtleXMpIHtcbiAgICAgIGlmICh0aGlzLmtleXNbQ29uc3RhbnRzLktFWVMuTEVGVF0pIHtcbiAgICAgICAgdGhpcy5za2llci50dXJuTGVmdCgpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMua2V5c1tDb25zdGFudHMuS0VZUy5SSUdIVF0pIHtcbiAgICAgICAgdGhpcy5za2llci50dXJuUmlnaHQoKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmtleXNbQ29uc3RhbnRzLktFWVMuVVBdKSB7XG4gICAgICAgIHRoaXMuc2tpZXIudHVyblVwKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5rZXlzW0NvbnN0YW50cy5LRVlTLkRPV05dKSB7XG4gICAgICAgIHRoaXMuc2tpZXIudHVybkRvd24oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmtleXNbQ29uc3RhbnRzLktFWVMuU1BBQ0VdKSB7XG4gICAgICAgIHRoaXMuc2tpZXIucGF1c2UoKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmtleXNbQ29uc3RhbnRzLktFWVMuUmVzZXRdKSB7XG4gICAgICAgIHRoaXMucmVzZXRHYW1lKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5rZXlzW0NvbnN0YW50cy5LRVlTLkRPV05dICYmIHRoaXMua2V5c1tDb25zdGFudHMuS0VZUy5SSUdIVF0pIHtcbiAgICAgICAgdGhpcy5za2llci50dXJuUmlnaHREb3duKCk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5rZXlzW0NvbnN0YW50cy5LRVlTLkRPV05dICYmIHRoaXMua2V5c1tDb25zdGFudHMuS0VZUy5MRUZUXSkge1xuICAgICAgICB0aGlzLnNraWVyLnR1cm5MZWZ0RG93bigpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFwiLi4vLi4vcHVibGljL2Nzcy9nYW1lLmNzc1wiO1xuaW1wb3J0IFwicmVmbGVjdC1tZXRhZGF0YVwiO1xuaW1wb3J0IENvbnRhaW5lciBmcm9tIFwidHlwZWRpXCI7XG5cbmltcG9ydCBHYW1lU2VydmljZSBmcm9tIFwiLi4vc2VydmljZXMvZ2FtZVNlcnZpY2VcIjtcblxuY29uc3Qgc3RhcnRHYW1lID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBnYW1lU2VydmljZSA9IENvbnRhaW5lci5nZXQoR2FtZVNlcnZpY2UpO1xuICBnYW1lU2VydmljZS5sb2FkKCkudGhlbigoKSA9PiB7XG5cbiAgICBnYW1lU2VydmljZS5pbml0KCk7XG4gICAgZ2FtZVNlcnZpY2UucnVuKCk7XG4gIH0pO1xuXG4gIGNvbnNvbGUubG9nKFwiR2FtZSBzdGFydGVkXCIpO1xufTtcblxuc3RhcnRHYW1lKCkuY2F0Y2goKGVycikgPT4ge1xuICBjb25zb2xlLmVycm9yKGVycik7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=